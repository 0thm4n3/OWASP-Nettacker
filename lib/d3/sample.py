#!/usr/bin/env python
# -*- coding: utf-8 -*-


def content():
    return '''PCFET0NUWVBFIGh0bWw+DQo8IS0tIFRISVMgUEFHRSBDT1BJRUQgQU5EIE1PRElG
SUVEIEZST00gaHR0cDovL2JsLm9ja3Mub3JnL3JvYnNjaG11ZWNrZXIvNzg4MDAz
My0tPg0KPHRpdGxlPl9faHRtbF90aXRsZV90b19yZXBsYWNlX188L3RpdGxlPg0K
PG1ldGEgY2hhcnNldD0idXRmLTgiPg0KPGgzPjxhIGhyZWY9Imh0dHBzOi8vZ2l0
aHViLmNvbS92aXJhaW50ZWwvbmV0dGFja2VyIj5PV0FTUCBOZXR0YWNrZXI8L2E+
PC9oMz4NCjxoMz5fX3RpdGxlX3RvX3JlcGxhY2VfXzwvaDM+DQo8c3R5bGUgdHlw
ZT0idGV4dC9jc3MiPg0KDQoJLm5vZGUgew0KICAgIGN1cnNvcjogcG9pbnRlcjsN
CiAgfQ0KDQogIC5vdmVybGF5ew0KICAgICAgYmFja2dyb3VuZC1jb2xvcjojRUVF
Ow0KICB9DQoNCiAgLm5vZGUgY2lyY2xlIHsNCiAgICBmaWxsOiAjZmZmOw0KICAg
IHN0cm9rZTogc3RlZWxibHVlOw0KICAgIHN0cm9rZS13aWR0aDogMS41cHg7DQog
IH0NCg0KICAubm9kZSB0ZXh0IHsNCiAgICBmb250LXNpemU6MTJweDsNCiAgICBm
b250LWZhbWlseTpzYW5zLXNlcmlmOw0KICB9DQoNCiAgLmxpbmsgew0KICAgIGZp
bGw6IG5vbmU7DQogICAgc3Ryb2tlOiAjY2NjOw0KICAgIHN0cm9rZS13aWR0aDog
MS41cHg7DQogIH0NCg0KICAudGVtcGxpbmsgew0KICAgIGZpbGw6IG5vbmU7DQog
ICAgc3Ryb2tlOiByZWQ7DQogICAgc3Ryb2tlLXdpZHRoOiAzcHg7DQogIH0NCg0K
ICAuZ2hvc3RDaXJjbGUuc2hvd3sNCiAgICAgIGRpc3BsYXk6YmxvY2s7DQogIH0N
Cg0KICAuZ2hvc3RDaXJjbGUsIC5hY3RpdmVEcmFnIC5naG9zdENpcmNsZXsNCiAg
ICAgICBkaXNwbGF5OiBub25lOw0KICB9DQoNCjwvc3R5bGU+DQo8c2NyaXB0Pg0K
LyohIGpRdWVyeSB2MS4xMC4yIHwgKGMpIDIwMDUsIDIwMTMgalF1ZXJ5IEZvdW5k
YXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UNCi8vQCBzb3VyY2VNYXBw
aW5nVVJMPWpxdWVyeS0xLjEwLjIubWluLm1hcA0KKi8NCihmdW5jdGlvbihlLCB0
KSB7DQogICAgdmFyIG4sIHIsIGkgPSB0eXBlb2YgdCwNCiAgICAgICAgbyA9IGUu
bG9jYXRpb24sDQogICAgICAgIGEgPSBlLmRvY3VtZW50LA0KICAgICAgICBzID0g
YS5kb2N1bWVudEVsZW1lbnQsDQogICAgICAgIGwgPSBlLmpRdWVyeSwNCiAgICAg
ICAgdSA9IGUuJCwNCiAgICAgICAgYyA9IHt9LA0KICAgICAgICBwID0gW10sDQog
ICAgICAgIGYgPSAiMS4xMC4yIiwNCiAgICAgICAgZCA9IHAuY29uY2F0LA0KICAg
ICAgICBoID0gcC5wdXNoLA0KICAgICAgICBnID0gcC5zbGljZSwNCiAgICAgICAg
bSA9IHAuaW5kZXhPZiwNCiAgICAgICAgeSA9IGMudG9TdHJpbmcsDQogICAgICAg
IHYgPSBjLmhhc093blByb3BlcnR5LA0KICAgICAgICBiID0gZi50cmltLA0KICAg
ICAgICB4ID0gZnVuY3Rpb24oZSwgdCkgew0KICAgICAgICAgICAgcmV0dXJuIG5l
dyB4LmZuLmluaXQoZSwgdCwgcikNCiAgICAgICAgfSwNCiAgICAgICAgdyA9IC9b
Ky1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLA0KICAg
ICAgICBUID0gL1xTKy9nLA0KICAgICAgICBDID0gL15bXHNcdUZFRkZceEEwXSt8
W1xzXHVGRUZGXHhBMF0rJC9nLA0KICAgICAgICBOID0gL14oPzpccyooPFtcd1xX
XSs+KVtePl0qfCMoW1x3LV0qKSkkLywNCiAgICAgICAgayA9IC9ePChcdyspXHMq
XC8/Pig/OjxcL1wxPnwpJC8sDQogICAgICAgIEUgPSAvXltcXSw6e31cc10qJC8s
DQogICAgICAgIFMgPSAvKD86Xnw6fCwpKD86XHMqXFspKy9nLA0KICAgICAgICBB
ID0gL1xcKD86WyJcXFwvYmZucnRdfHVbXGRhLWZBLUZdezR9KS9nLA0KICAgICAg
ICBqID0gLyJbXiJcXFxyXG5dKiJ8dHJ1ZXxmYWxzZXxudWxsfC0/KD86XGQrXC58
KVxkKyg/OltlRV1bKy1dP1xkK3wpL2csDQogICAgICAgIEQgPSAvXi1tcy0vLA0K
ICAgICAgICBMID0gLy0oW1xkYS16XSkvZ2ksDQogICAgICAgIEggPSBmdW5jdGlv
bihlLCB0KSB7DQogICAgICAgICAgICByZXR1cm4gdC50b1VwcGVyQ2FzZSgpDQog
ICAgICAgIH0sDQogICAgICAgIHEgPSBmdW5jdGlvbihlKSB7DQogICAgICAgICAg
ICAoYS5hZGRFdmVudExpc3RlbmVyIHx8ICJsb2FkIiA9PT0gZS50eXBlIHx8ICJj
b21wbGV0ZSIgPT09IGEucmVhZHlTdGF0ZSkgJiYgKF8oKSwgeC5yZWFkeSgpKQ0K
ICAgICAgICB9LA0KICAgICAgICBfID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAg
ICBhLmFkZEV2ZW50TGlzdGVuZXIgPyAoYS5yZW1vdmVFdmVudExpc3RlbmVyKCJE
T01Db250ZW50TG9hZGVkIiwgcSwgITEpLCBlLnJlbW92ZUV2ZW50TGlzdGVuZXIo
ImxvYWQiLCBxLCAhMSkpIDogKGEuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNo
YW5nZSIsIHEpLCBlLmRldGFjaEV2ZW50KCJvbmxvYWQiLCBxKSkNCiAgICAgICAg
fTsNCiAgICB4LmZuID0geC5wcm90b3R5cGUgPSB7DQogICAgICAgIGpxdWVyeTog
ZiwNCiAgICAgICAgY29uc3RydWN0b3I6IHgsDQogICAgICAgIGluaXQ6IGZ1bmN0
aW9uKGUsIG4sIHIpIHsNCiAgICAgICAgICAgIHZhciBpLCBvOw0KICAgICAgICAg
ICAgaWYgKCFlKSByZXR1cm4gdGhpczsNCiAgICAgICAgICAgIGlmICgic3RyaW5n
IiA9PSB0eXBlb2YgZSkgew0KICAgICAgICAgICAgICAgIGlmIChpID0gIjwiID09
PSBlLmNoYXJBdCgwKSAmJiAiPiIgPT09IGUuY2hhckF0KGUubGVuZ3RoIC0gMSkg
JiYgZS5sZW5ndGggPj0gMyA/IFtudWxsLCBlLCBudWxsXSA6IE4uZXhlYyhlKSwg
IWkgfHwgIWlbMV0gJiYgbikgcmV0dXJuICFuIHx8IG4uanF1ZXJ5ID8gKG4gfHwg
cikuZmluZChlKSA6IHRoaXMuY29uc3RydWN0b3IobikuZmluZChlKTsNCiAgICAg
ICAgICAgICAgICBpZiAoaVsxXSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAo
biA9IG4gaW5zdGFuY2VvZiB4ID8gblswXSA6IG4sIHgubWVyZ2UodGhpcywgeC5w
YXJzZUhUTUwoaVsxXSwgbiAmJiBuLm5vZGVUeXBlID8gbi5vd25lckRvY3VtZW50
IHx8IG4gOiBhLCAhMCkpLCBrLnRlc3QoaVsxXSkgJiYgeC5pc1BsYWluT2JqZWN0
KG4pKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpIGluIG4pIHguaXNG
dW5jdGlvbih0aGlzW2ldKSA/IHRoaXNbaV0obltpXSkgOiB0aGlzLmF0dHIoaSwg
bltpXSk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzDQogICAgICAg
ICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChvID0gYS5nZXRFbGVtZW50
QnlJZChpWzJdKSwgbyAmJiBvLnBhcmVudE5vZGUpIHsNCiAgICAgICAgICAgICAg
ICAgICAgaWYgKG8uaWQgIT09IGlbMl0pIHJldHVybiByLmZpbmQoZSk7DQogICAg
ICAgICAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gMSwgdGhpc1swXSA9IG8NCiAg
ICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29u
dGV4dCA9IGEsIHRoaXMuc2VsZWN0b3IgPSBlLCB0aGlzDQogICAgICAgICAgICB9
DQogICAgICAgICAgICByZXR1cm4gZS5ub2RlVHlwZSA/ICh0aGlzLmNvbnRleHQg
PSB0aGlzWzBdID0gZSwgdGhpcy5sZW5ndGggPSAxLCB0aGlzKSA6IHguaXNGdW5j
dGlvbihlKSA/IHIucmVhZHkoZSkgOiAoZS5zZWxlY3RvciAhPT0gdCAmJiAodGhp
cy5zZWxlY3RvciA9IGUuc2VsZWN0b3IsIHRoaXMuY29udGV4dCA9IGUuY29udGV4
dCksIHgubWFrZUFycmF5KGUsIHRoaXMpKQ0KICAgICAgICB9LA0KICAgICAgICBz
ZWxlY3RvcjogIiIsDQogICAgICAgIGxlbmd0aDogMCwNCiAgICAgICAgdG9BcnJh
eTogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICByZXR1cm4gZy5jYWxsKHRoaXMp
DQogICAgICAgIH0sDQogICAgICAgIGdldDogZnVuY3Rpb24oZSkgew0KICAgICAg
ICAgICAgcmV0dXJuIG51bGwgPT0gZSA/IHRoaXMudG9BcnJheSgpIDogMCA+IGUg
PyB0aGlzW3RoaXMubGVuZ3RoICsgZV0gOiB0aGlzW2VdDQogICAgICAgIH0sDQog
ICAgICAgIHB1c2hTdGFjazogZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgdmFy
IHQgPSB4Lm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSwgZSk7DQogICAgICAgICAg
ICByZXR1cm4gdC5wcmV2T2JqZWN0ID0gdGhpcywgdC5jb250ZXh0ID0gdGhpcy5j
b250ZXh0LCB0DQogICAgICAgIH0sDQogICAgICAgIGVhY2g6IGZ1bmN0aW9uKGUs
IHQpIHsNCiAgICAgICAgICAgIHJldHVybiB4LmVhY2godGhpcywgZSwgdCkNCiAg
ICAgICAgfSwNCiAgICAgICAgcmVhZHk6IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAg
ICAgIHJldHVybiB4LnJlYWR5LnByb21pc2UoKS5kb25lKGUpLCB0aGlzDQogICAg
ICAgIH0sDQogICAgICAgIHNsaWNlOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAg
IHJldHVybiB0aGlzLnB1c2hTdGFjayhnLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykp
DQogICAgICAgIH0sDQogICAgICAgIGZpcnN0OiBmdW5jdGlvbigpIHsNCiAgICAg
ICAgICAgIHJldHVybiB0aGlzLmVxKDApDQogICAgICAgIH0sDQogICAgICAgIGxh
c3Q6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXEoLTEp
DQogICAgICAgIH0sDQogICAgICAgIGVxOiBmdW5jdGlvbihlKSB7DQogICAgICAg
ICAgICB2YXIgdCA9IHRoaXMubGVuZ3RoLA0KICAgICAgICAgICAgICAgIG4gPSAr
ZSArICgwID4gZSA/IHQgOiAwKTsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLnB1
c2hTdGFjayhuID49IDAgJiYgdCA+IG4gPyBbdGhpc1tuXV0gOiBbXSkNCiAgICAg
ICAgfSwNCiAgICAgICAgbWFwOiBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICBy
ZXR1cm4gdGhpcy5wdXNoU3RhY2soeC5tYXAodGhpcywgZnVuY3Rpb24odCwgbikg
ew0KICAgICAgICAgICAgICAgIHJldHVybiBlLmNhbGwodCwgbiwgdCkNCiAgICAg
ICAgICAgIH0pKQ0KICAgICAgICB9LA0KICAgICAgICBlbmQ6IGZ1bmN0aW9uKCkg
ew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJldk9iamVjdCB8fCB0aGlzLmNv
bnN0cnVjdG9yKG51bGwpDQogICAgICAgIH0sDQogICAgICAgIHB1c2g6IGgsDQog
ICAgICAgIHNvcnQ6IFtdLnNvcnQsDQogICAgICAgIHNwbGljZTogW10uc3BsaWNl
DQogICAgfSwgeC5mbi5pbml0LnByb3RvdHlwZSA9IHguZm4sIHguZXh0ZW5kID0g
eC5mbi5leHRlbmQgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgdmFyIGUsIG4sIHIs
IGksIG8sIGEsIHMgPSBhcmd1bWVudHNbMF0gfHwge30sDQogICAgICAgICAgICBs
ID0gMSwNCiAgICAgICAgICAgIHUgPSBhcmd1bWVudHMubGVuZ3RoLA0KICAgICAg
ICAgICAgYyA9ICExOw0KICAgICAgICBmb3IgKCJib29sZWFuIiA9PSB0eXBlb2Yg
cyAmJiAoYyA9IHMsIHMgPSBhcmd1bWVudHNbMV0gfHwge30sIGwgPSAyKSwgIm9i
amVjdCIgPT0gdHlwZW9mIHMgfHwgeC5pc0Z1bmN0aW9uKHMpIHx8IChzID0ge30p
LCB1ID09PSBsICYmIChzID0gdGhpcywgLS1sKTsgdSA+IGw7IGwrKykNCiAgICAg
ICAgICAgIGlmIChudWxsICE9IChvID0gYXJndW1lbnRzW2xdKSkNCiAgICAgICAg
ICAgICAgICBmb3IgKGkgaW4gbykgZSA9IHNbaV0sIHIgPSBvW2ldLCBzICE9PSBy
ICYmIChjICYmIHIgJiYgKHguaXNQbGFpbk9iamVjdChyKSB8fCAobiA9IHguaXNB
cnJheShyKSkpID8gKG4gPyAobiA9ICExLCBhID0gZSAmJiB4LmlzQXJyYXkoZSkg
PyBlIDogW10pIDogYSA9IGUgJiYgeC5pc1BsYWluT2JqZWN0KGUpID8gZSA6IHt9
LCBzW2ldID0geC5leHRlbmQoYywgYSwgcikpIDogciAhPT0gdCAmJiAoc1tpXSA9
IHIpKTsNCiAgICAgICAgcmV0dXJuIHMNCiAgICB9LCB4LmV4dGVuZCh7DQogICAg
ICAgIGV4cGFuZG86ICJqUXVlcnkiICsgKGYgKyBNYXRoLnJhbmRvbSgpKS5yZXBs
YWNlKC9cRC9nLCAiIiksDQogICAgICAgIG5vQ29uZmxpY3Q6IGZ1bmN0aW9uKHQp
IHsNCiAgICAgICAgICAgIHJldHVybiBlLiQgPT09IHggJiYgKGUuJCA9IHUpLCB0
ICYmIGUualF1ZXJ5ID09PSB4ICYmIChlLmpRdWVyeSA9IGwpLCB4DQogICAgICAg
IH0sDQogICAgICAgIGlzUmVhZHk6ICExLA0KICAgICAgICByZWFkeVdhaXQ6IDEs
DQogICAgICAgIGhvbGRSZWFkeTogZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAg
ZSA/IHgucmVhZHlXYWl0KysgOiB4LnJlYWR5KCEwKQ0KICAgICAgICB9LA0KICAg
ICAgICByZWFkeTogZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgaWYgKGUgPT09
ICEwID8gIS0teC5yZWFkeVdhaXQgOiAheC5pc1JlYWR5KSB7DQogICAgICAgICAg
ICAgICAgaWYgKCFhLmJvZHkpIHJldHVybiBzZXRUaW1lb3V0KHgucmVhZHkpOw0K
ICAgICAgICAgICAgICAgIHguaXNSZWFkeSA9ICEwLCBlICE9PSAhMCAmJiAtLXgu
cmVhZHlXYWl0ID4gMCB8fCAobi5yZXNvbHZlV2l0aChhLCBbeF0pLCB4LmZuLnRy
aWdnZXIgJiYgeChhKS50cmlnZ2VyKCJyZWFkeSIpLm9mZigicmVhZHkiKSkNCiAg
ICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgaXNGdW5jdGlvbjogZnVu
Y3Rpb24oZSkgew0KICAgICAgICAgICAgcmV0dXJuICJmdW5jdGlvbiIgPT09IHgu
dHlwZShlKQ0KICAgICAgICB9LA0KICAgICAgICBpc0FycmF5OiBBcnJheS5pc0Fy
cmF5IHx8IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgIHJldHVybiAiYXJyYXki
ID09PSB4LnR5cGUoZSkNCiAgICAgICAgfSwNCiAgICAgICAgaXNXaW5kb3c6IGZ1
bmN0aW9uKGUpIHsNCiAgICAgICAgICAgIHJldHVybiBudWxsICE9IGUgJiYgZSA9
PSBlLndpbmRvdw0KICAgICAgICB9LA0KICAgICAgICBpc051bWVyaWM6IGZ1bmN0
aW9uKGUpIHsNCiAgICAgICAgICAgIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChl
KSkgJiYgaXNGaW5pdGUoZSkNCiAgICAgICAgfSwNCiAgICAgICAgdHlwZTogZnVu
Y3Rpb24oZSkgew0KICAgICAgICAgICAgcmV0dXJuIG51bGwgPT0gZSA/IGUgKyAi
IiA6ICJvYmplY3QiID09IHR5cGVvZiBlIHx8ICJmdW5jdGlvbiIgPT0gdHlwZW9m
IGUgPyBjW3kuY2FsbChlKV0gfHwgIm9iamVjdCIgOiB0eXBlb2YgZQ0KICAgICAg
ICB9LA0KICAgICAgICBpc1BsYWluT2JqZWN0OiBmdW5jdGlvbihlKSB7DQogICAg
ICAgICAgICB2YXIgbjsNCiAgICAgICAgICAgIGlmICghZSB8fCAib2JqZWN0IiAh
PT0geC50eXBlKGUpIHx8IGUubm9kZVR5cGUgfHwgeC5pc1dpbmRvdyhlKSkgcmV0
dXJuICExOw0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBpZiAo
ZS5jb25zdHJ1Y3RvciAmJiAhdi5jYWxsKGUsICJjb25zdHJ1Y3RvciIpICYmICF2
LmNhbGwoZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsICJpc1Byb3RvdHlwZU9mIikp
IHJldHVybiAhMQ0KICAgICAgICAgICAgfSBjYXRjaCAocikgew0KICAgICAgICAg
ICAgICAgIHJldHVybiAhMQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYg
KHguc3VwcG9ydC5vd25MYXN0KQ0KICAgICAgICAgICAgICAgIGZvciAobiBpbiBl
KSByZXR1cm4gdi5jYWxsKGUsIG4pOw0KICAgICAgICAgICAgZm9yIChuIGluIGUp
Ow0KICAgICAgICAgICAgcmV0dXJuIG4gPT09IHQgfHwgdi5jYWxsKGUsIG4pDQog
ICAgICAgIH0sDQogICAgICAgIGlzRW1wdHlPYmplY3Q6IGZ1bmN0aW9uKGUpIHsN
CiAgICAgICAgICAgIHZhciB0Ow0KICAgICAgICAgICAgZm9yICh0IGluIGUpIHJl
dHVybiAhMTsNCiAgICAgICAgICAgIHJldHVybiAhMA0KICAgICAgICB9LA0KICAg
ICAgICBlcnJvcjogZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgdGhyb3cgRXJy
b3IoZSkNCiAgICAgICAgfSwNCiAgICAgICAgcGFyc2VIVE1MOiBmdW5jdGlvbihl
LCB0LCBuKSB7DQogICAgICAgICAgICBpZiAoIWUgfHwgInN0cmluZyIgIT0gdHlw
ZW9mIGUpIHJldHVybiBudWxsOw0KICAgICAgICAgICAgImJvb2xlYW4iID09IHR5
cGVvZiB0ICYmIChuID0gdCwgdCA9ICExKSwgdCA9IHQgfHwgYTsNCiAgICAgICAg
ICAgIHZhciByID0gay5leGVjKGUpLA0KICAgICAgICAgICAgICAgIGkgPSAhbiAm
JiBbXTsNCiAgICAgICAgICAgIHJldHVybiByID8gW3QuY3JlYXRlRWxlbWVudChy
WzFdKV0gOiAociA9IHguYnVpbGRGcmFnbWVudChbZV0sIHQsIGkpLCBpICYmIHgo
aSkucmVtb3ZlKCksIHgubWVyZ2UoW10sIHIuY2hpbGROb2RlcykpDQogICAgICAg
IH0sDQogICAgICAgIHBhcnNlSlNPTjogZnVuY3Rpb24obikgew0KICAgICAgICAg
ICAgcmV0dXJuIGUuSlNPTiAmJiBlLkpTT04ucGFyc2UgPyBlLkpTT04ucGFyc2Uo
bikgOiBudWxsID09PSBuID8gbiA6ICJzdHJpbmciID09IHR5cGVvZiBuICYmIChu
ID0geC50cmltKG4pLCBuICYmIEUudGVzdChuLnJlcGxhY2UoQSwgIkAiKS5yZXBs
YWNlKGosICJdIikucmVwbGFjZShTLCAiIikpKSA/IEZ1bmN0aW9uKCJyZXR1cm4g
IiArIG4pKCkgOiAoeC5lcnJvcigiSW52YWxpZCBKU09OOiAiICsgbiksIHQpDQog
ICAgICAgIH0sDQogICAgICAgIHBhcnNlWE1MOiBmdW5jdGlvbihuKSB7DQogICAg
ICAgICAgICB2YXIgciwgaTsNCiAgICAgICAgICAgIGlmICghbiB8fCAic3RyaW5n
IiAhPSB0eXBlb2YgbikgcmV0dXJuIG51bGw7DQogICAgICAgICAgICB0cnkgew0K
ICAgICAgICAgICAgICAgIGUuRE9NUGFyc2VyID8gKGkgPSBuZXcgRE9NUGFyc2Vy
LCByID0gaS5wYXJzZUZyb21TdHJpbmcobiwgInRleHQveG1sIikpIDogKHIgPSBu
ZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpLCByLmFzeW5jID0g
ImZhbHNlIiwgci5sb2FkWE1MKG4pKQ0KICAgICAgICAgICAgfSBjYXRjaCAobykg
ew0KICAgICAgICAgICAgICAgIHIgPSB0DQogICAgICAgICAgICB9DQogICAgICAg
ICAgICByZXR1cm4gciAmJiByLmRvY3VtZW50RWxlbWVudCAmJiAhci5nZXRFbGVt
ZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggfHwgeC5lcnJvcigi
SW52YWxpZCBYTUw6ICIgKyBuKSwgcg0KICAgICAgICB9LA0KICAgICAgICBub29w
OiBmdW5jdGlvbigpIHt9LA0KICAgICAgICBnbG9iYWxFdmFsOiBmdW5jdGlvbih0
KSB7DQogICAgICAgICAgICB0ICYmIHgudHJpbSh0KSAmJiAoZS5leGVjU2NyaXB0
IHx8IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgICAgICBlLmV2YWwuY2FsbChl
LCB0KQ0KICAgICAgICAgICAgfSkodCkNCiAgICAgICAgfSwNCiAgICAgICAgY2Ft
ZWxDYXNlOiBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICByZXR1cm4gZS5yZXBs
YWNlKEQsICJtcy0iKS5yZXBsYWNlKEwsIEgpDQogICAgICAgIH0sDQogICAgICAg
IG5vZGVOYW1lOiBmdW5jdGlvbihlLCB0KSB7DQogICAgICAgICAgICByZXR1cm4g
ZS5ub2RlTmFtZSAmJiBlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IHQudG9M
b3dlckNhc2UoKQ0KICAgICAgICB9LA0KICAgICAgICBlYWNoOiBmdW5jdGlvbihl
LCB0LCBuKSB7DQogICAgICAgICAgICB2YXIgciwgaSA9IDAsDQogICAgICAgICAg
ICAgICAgbyA9IGUubGVuZ3RoLA0KICAgICAgICAgICAgICAgIGEgPSBNKGUpOw0K
ICAgICAgICAgICAgaWYgKG4pIHsNCiAgICAgICAgICAgICAgICBpZiAoYSkgew0K
ICAgICAgICAgICAgICAgICAgICBmb3IgKDsgbyA+IGk7IGkrKykNCiAgICAgICAg
ICAgICAgICAgICAgICAgIGlmIChyID0gdC5hcHBseShlW2ldLCBuKSwgciA9PT0g
ITEpIGJyZWFrDQogICAgICAgICAgICAgICAgfSBlbHNlDQogICAgICAgICAgICAg
ICAgICAgIGZvciAoaSBpbiBlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYg
KHIgPSB0LmFwcGx5KGVbaV0sIG4pLCByID09PSAhMSkgYnJlYWsNCiAgICAgICAg
ICAgIH0gZWxzZSBpZiAoYSkgew0KICAgICAgICAgICAgICAgIGZvciAoOyBvID4g
aTsgaSsrKQ0KICAgICAgICAgICAgICAgICAgICBpZiAociA9IHQuY2FsbChlW2ld
LCBpLCBlW2ldKSwgciA9PT0gITEpIGJyZWFrDQogICAgICAgICAgICB9IGVsc2UN
CiAgICAgICAgICAgICAgICBmb3IgKGkgaW4gZSkNCiAgICAgICAgICAgICAgICAg
ICAgaWYgKHIgPSB0LmNhbGwoZVtpXSwgaSwgZVtpXSksIHIgPT09ICExKSBicmVh
azsNCiAgICAgICAgICAgIHJldHVybiBlDQogICAgICAgIH0sDQogICAgICAgIHRy
aW06IGIgJiYgIWIuY2FsbCgiXHVmZWZmXHUwMGEwIikgPyBmdW5jdGlvbihlKSB7
DQogICAgICAgICAgICByZXR1cm4gbnVsbCA9PSBlID8gIiIgOiBiLmNhbGwoZSkN
CiAgICAgICAgfSA6IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgIHJldHVybiBu
dWxsID09IGUgPyAiIiA6IChlICsgIiIpLnJlcGxhY2UoQywgIiIpDQogICAgICAg
IH0sDQogICAgICAgIG1ha2VBcnJheTogZnVuY3Rpb24oZSwgdCkgew0KICAgICAg
ICAgICAgdmFyIG4gPSB0IHx8IFtdOw0KICAgICAgICAgICAgcmV0dXJuIG51bGwg
IT0gZSAmJiAoTShPYmplY3QoZSkpID8geC5tZXJnZShuLCAic3RyaW5nIiA9PSB0
eXBlb2YgZSA/IFtlXSA6IGUpIDogaC5jYWxsKG4sIGUpKSwgbg0KICAgICAgICB9
LA0KICAgICAgICBpbkFycmF5OiBmdW5jdGlvbihlLCB0LCBuKSB7DQogICAgICAg
ICAgICB2YXIgcjsNCiAgICAgICAgICAgIGlmICh0KSB7DQogICAgICAgICAgICAg
ICAgaWYgKG0pIHJldHVybiBtLmNhbGwodCwgZSwgbik7DQogICAgICAgICAgICAg
ICAgZm9yIChyID0gdC5sZW5ndGgsIG4gPSBuID8gMCA+IG4gPyBNYXRoLm1heCgw
LCByICsgbikgOiBuIDogMDsgciA+IG47IG4rKykNCiAgICAgICAgICAgICAgICAg
ICAgaWYgKG4gaW4gdCAmJiB0W25dID09PSBlKSByZXR1cm4gbg0KICAgICAgICAg
ICAgfQ0KICAgICAgICAgICAgcmV0dXJuIC0xDQogICAgICAgIH0sDQogICAgICAg
IG1lcmdlOiBmdW5jdGlvbihlLCBuKSB7DQogICAgICAgICAgICB2YXIgciA9IG4u
bGVuZ3RoLA0KICAgICAgICAgICAgICAgIGkgPSBlLmxlbmd0aCwNCiAgICAgICAg
ICAgICAgICBvID0gMDsNCiAgICAgICAgICAgIGlmICgibnVtYmVyIiA9PSB0eXBl
b2YgcikNCiAgICAgICAgICAgICAgICBmb3IgKDsgciA+IG87IG8rKykgZVtpKytd
ID0gbltvXTsNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICB3aGls
ZSAobltvXSAhPT0gdCkgZVtpKytdID0gbltvKytdOw0KICAgICAgICAgICAgcmV0
dXJuIGUubGVuZ3RoID0gaSwgZQ0KICAgICAgICB9LA0KICAgICAgICBncmVwOiBm
dW5jdGlvbihlLCB0LCBuKSB7DQogICAgICAgICAgICB2YXIgciwgaSA9IFtdLA0K
ICAgICAgICAgICAgICAgIG8gPSAwLA0KICAgICAgICAgICAgICAgIGEgPSBlLmxl
bmd0aDsNCiAgICAgICAgICAgIGZvciAobiA9ICEhbjsgYSA+IG87IG8rKykgciA9
ICEhdChlW29dLCBvKSwgbiAhPT0gciAmJiBpLnB1c2goZVtvXSk7DQogICAgICAg
ICAgICByZXR1cm4gaQ0KICAgICAgICB9LA0KICAgICAgICBtYXA6IGZ1bmN0aW9u
KGUsIHQsIG4pIHsNCiAgICAgICAgICAgIHZhciByLCBpID0gMCwNCiAgICAgICAg
ICAgICAgICBvID0gZS5sZW5ndGgsDQogICAgICAgICAgICAgICAgYSA9IE0oZSks
DQogICAgICAgICAgICAgICAgcyA9IFtdOw0KICAgICAgICAgICAgaWYgKGEpDQog
ICAgICAgICAgICAgICAgZm9yICg7IG8gPiBpOyBpKyspIHIgPSB0KGVbaV0sIGks
IG4pLCBudWxsICE9IHIgJiYgKHNbcy5sZW5ndGhdID0gcik7DQogICAgICAgICAg
ICBlbHNlDQogICAgICAgICAgICAgICAgZm9yIChpIGluIGUpIHIgPSB0KGVbaV0s
IGksIG4pLCBudWxsICE9IHIgJiYgKHNbcy5sZW5ndGhdID0gcik7DQogICAgICAg
ICAgICByZXR1cm4gZC5hcHBseShbXSwgcykNCiAgICAgICAgfSwNCiAgICAgICAg
Z3VpZDogMSwNCiAgICAgICAgcHJveHk6IGZ1bmN0aW9uKGUsIG4pIHsNCiAgICAg
ICAgICAgIHZhciByLCBpLCBvOw0KICAgICAgICAgICAgcmV0dXJuICJzdHJpbmci
ID09IHR5cGVvZiBuICYmIChvID0gZVtuXSwgbiA9IGUsIGUgPSBvKSwgeC5pc0Z1
bmN0aW9uKGUpID8gKHIgPSBnLmNhbGwoYXJndW1lbnRzLCAyKSwgaSA9IGZ1bmN0
aW9uKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiBlLmFwcGx5KG4gfHwgdGhp
cywgci5jb25jYXQoZy5jYWxsKGFyZ3VtZW50cykpKQ0KICAgICAgICAgICAgfSwg
aS5ndWlkID0gZS5ndWlkID0gZS5ndWlkIHx8IHguZ3VpZCsrLCBpKSA6IHQNCiAg
ICAgICAgfSwNCiAgICAgICAgYWNjZXNzOiBmdW5jdGlvbihlLCBuLCByLCBpLCBv
LCBhLCBzKSB7DQogICAgICAgICAgICB2YXIgbCA9IDAsDQogICAgICAgICAgICAg
ICAgdSA9IGUubGVuZ3RoLA0KICAgICAgICAgICAgICAgIGMgPSBudWxsID09IHI7
DQogICAgICAgICAgICBpZiAoIm9iamVjdCIgPT09IHgudHlwZShyKSkgew0KICAg
ICAgICAgICAgICAgIG8gPSAhMDsNCiAgICAgICAgICAgICAgICBmb3IgKGwgaW4g
cikgeC5hY2Nlc3MoZSwgbiwgbCwgcltsXSwgITAsIGEsIHMpDQogICAgICAgICAg
ICB9IGVsc2UgaWYgKGkgIT09IHQgJiYgKG8gPSAhMCwgeC5pc0Z1bmN0aW9uKGkp
IHx8IChzID0gITApLCBjICYmIChzID8gKG4uY2FsbChlLCBpKSwgbiA9IG51bGwp
IDogKGMgPSBuLCBuID0gZnVuY3Rpb24oZSwgdCwgbikgew0KICAgICAgICAgICAg
ICAgICAgICByZXR1cm4gYy5jYWxsKHgoZSksIG4pDQogICAgICAgICAgICAgICAg
fSkpLCBuKSkNCiAgICAgICAgICAgICAgICBmb3IgKDsgdSA+IGw7IGwrKykgbihl
W2xdLCByLCBzID8gaSA6IGkuY2FsbChlW2xdLCBsLCBuKGVbbF0sIHIpKSk7DQog
ICAgICAgICAgICByZXR1cm4gbyA/IGUgOiBjID8gbi5jYWxsKGUpIDogdSA/IG4o
ZVswXSwgcikgOiBhDQogICAgICAgIH0sDQogICAgICAgIG5vdzogZnVuY3Rpb24o
KSB7DQogICAgICAgICAgICByZXR1cm4gKG5ldyBEYXRlKS5nZXRUaW1lKCkNCiAg
ICAgICAgfSwNCiAgICAgICAgc3dhcDogZnVuY3Rpb24oZSwgdCwgbiwgcikgew0K
ICAgICAgICAgICAgdmFyIGksIG8sIGEgPSB7fTsNCiAgICAgICAgICAgIGZvciAo
byBpbiB0KSBhW29dID0gZS5zdHlsZVtvXSwgZS5zdHlsZVtvXSA9IHRbb107DQog
ICAgICAgICAgICBpID0gbi5hcHBseShlLCByIHx8IFtdKTsNCiAgICAgICAgICAg
IGZvciAobyBpbiB0KSBlLnN0eWxlW29dID0gYVtvXTsNCiAgICAgICAgICAgIHJl
dHVybiBpDQogICAgICAgIH0NCiAgICB9KSwgeC5yZWFkeS5wcm9taXNlID0gZnVu
Y3Rpb24odCkgew0KICAgICAgICBpZiAoIW4pDQogICAgICAgICAgICBpZiAobiA9
IHguRGVmZXJyZWQoKSwgImNvbXBsZXRlIiA9PT0gYS5yZWFkeVN0YXRlKSBzZXRU
aW1lb3V0KHgucmVhZHkpOw0KICAgICAgICAgICAgZWxzZSBpZiAoYS5hZGRFdmVu
dExpc3RlbmVyKSBhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQi
LCBxLCAhMSksIGUuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIHEsICExKTsNCiAg
ICAgICAgZWxzZSB7DQogICAgICAgICAgICBhLmF0dGFjaEV2ZW50KCJvbnJlYWR5
c3RhdGVjaGFuZ2UiLCBxKSwgZS5hdHRhY2hFdmVudCgib25sb2FkIiwgcSk7DQog
ICAgICAgICAgICB2YXIgciA9ICExOw0KICAgICAgICAgICAgdHJ5IHsNCiAgICAg
ICAgICAgICAgICByID0gbnVsbCA9PSBlLmZyYW1lRWxlbWVudCAmJiBhLmRvY3Vt
ZW50RWxlbWVudA0KICAgICAgICAgICAgfSBjYXRjaCAoaSkge30NCiAgICAgICAg
ICAgIHIgJiYgci5kb1Njcm9sbCAmJiBmdW5jdGlvbiBvKCkgew0KICAgICAgICAg
ICAgICAgIGlmICgheC5pc1JlYWR5KSB7DQogICAgICAgICAgICAgICAgICAgIHRy
eSB7DQogICAgICAgICAgICAgICAgICAgICAgICByLmRvU2Nyb2xsKCJsZWZ0IikN
CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAg
ICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQobywgNTApDQogICAgICAgICAg
ICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgXygpLCB4LnJlYWR5KCkN
CiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KCkNCiAgICAgICAgfQ0K
ICAgICAgICByZXR1cm4gbi5wcm9taXNlKHQpDQogICAgfSwgeC5lYWNoKCJCb29s
ZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2Jq
ZWN0IEVycm9yIi5zcGxpdCgiICIpLCBmdW5jdGlvbihlLCB0KSB7DQogICAgICAg
IGNbIltvYmplY3QgIiArIHQgKyAiXSJdID0gdC50b0xvd2VyQ2FzZSgpDQogICAg
fSk7DQoNCiAgICBmdW5jdGlvbiBNKGUpIHsNCiAgICAgICAgdmFyIHQgPSBlLmxl
bmd0aCwNCiAgICAgICAgICAgIG4gPSB4LnR5cGUoZSk7DQogICAgICAgIHJldHVy
biB4LmlzV2luZG93KGUpID8gITEgOiAxID09PSBlLm5vZGVUeXBlICYmIHQgPyAh
MCA6ICJhcnJheSIgPT09IG4gfHwgImZ1bmN0aW9uIiAhPT0gbiAmJiAoMCA9PT0g
dCB8fCAibnVtYmVyIiA9PSB0eXBlb2YgdCAmJiB0ID4gMCAmJiB0IC0gMSBpbiBl
KQ0KICAgIH0NCiAgICByID0geChhKSwNCiAgICAgICAgZnVuY3Rpb24oZSwgdCkg
ew0KICAgICAgICAgICAgdmFyIG4sIHIsIGksIG8sIGEsIHMsIGwsIHUsIGMsIHAs
IGYsIGQsIGgsIGcsIG0sIHksIHYsIGIgPSAic2l6emxlIiArIC1uZXcgRGF0ZSwN
CiAgICAgICAgICAgICAgICB3ID0gZS5kb2N1bWVudCwNCiAgICAgICAgICAgICAg
ICBUID0gMCwNCiAgICAgICAgICAgICAgICBDID0gMCwNCiAgICAgICAgICAgICAg
ICBOID0gc3QoKSwNCiAgICAgICAgICAgICAgICBrID0gc3QoKSwNCiAgICAgICAg
ICAgICAgICBFID0gc3QoKSwNCiAgICAgICAgICAgICAgICBTID0gITEsDQogICAg
ICAgICAgICAgICAgQSA9IGZ1bmN0aW9uKGUsIHQpIHsNCiAgICAgICAgICAgICAg
ICAgICAgcmV0dXJuIGUgPT09IHQgPyAoUyA9ICEwLCAwKSA6IDANCiAgICAgICAg
ICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGogPSB0eXBlb2YgdCwNCiAgICAg
ICAgICAgICAgICBEID0gMSA8PCAzMSwNCiAgICAgICAgICAgICAgICBMID0ge30u
aGFzT3duUHJvcGVydHksDQogICAgICAgICAgICAgICAgSCA9IFtdLA0KICAgICAg
ICAgICAgICAgIHEgPSBILnBvcCwNCiAgICAgICAgICAgICAgICBfID0gSC5wdXNo
LA0KICAgICAgICAgICAgICAgIE0gPSBILnB1c2gsDQogICAgICAgICAgICAgICAg
TyA9IEguc2xpY2UsDQogICAgICAgICAgICAgICAgRiA9IEguaW5kZXhPZiB8fCBm
dW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciB0ID0gMCwNCiAg
ICAgICAgICAgICAgICAgICAgICAgIG4gPSB0aGlzLmxlbmd0aDsNCiAgICAgICAg
ICAgICAgICAgICAgZm9yICg7IG4gPiB0OyB0KyspDQogICAgICAgICAgICAgICAg
ICAgICAgICBpZiAodGhpc1t0XSA9PT0gZSkgcmV0dXJuIHQ7DQogICAgICAgICAg
ICAgICAgICAgIHJldHVybiAtMQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAg
ICAgICAgICAgQiA9ICJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xh
dXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9v
cHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsDQogICAg
ICAgICAgICAgICAgUCA9ICJbXFx4MjBcXHRcXHJcXG5cXGZdIiwNCiAgICAgICAg
ICAgICAgICBSID0gIig/OlxcXFwufFtcXHctXXxbXlxceDAwLVxceGEwXSkrIiwN
CiAgICAgICAgICAgICAgICBXID0gUi5yZXBsYWNlKCJ3IiwgIncjIiksDQogICAg
ICAgICAgICAgICAgJCA9ICJcXFsiICsgUCArICIqKCIgKyBSICsgIikiICsgUCAr
ICIqKD86KFsqXiR8IX5dPz0pIiArIFAgKyAiKig/OihbJ1wiXSkoKD86XFxcXC58
W15cXFxcXSkqPylcXDN8KCIgKyBXICsgIil8KXwpIiArIFAgKyAiKlxcXSIsDQog
ICAgICAgICAgICAgICAgSSA9ICI6KCIgKyBSICsgIikoPzpcXCgoKFsnXCJdKSgo
PzpcXFxcLnxbXlxcXFxdKSo/KVxcM3woKD86XFxcXC58W15cXFxcKClbXFxdXXwi
ICsgJC5yZXBsYWNlKDMsIDgpICsgIikqKXwuKilcXCl8KSIsDQogICAgICAgICAg
ICAgICAgeiA9IFJlZ0V4cCgiXiIgKyBQICsgIit8KCg/Ol58W15cXFxcXSkoPzpc
XFxcLikqKSIgKyBQICsgIiskIiwgImciKSwNCiAgICAgICAgICAgICAgICBYID0g
UmVnRXhwKCJeIiArIFAgKyAiKiwiICsgUCArICIqIiksDQogICAgICAgICAgICAg
ICAgVSA9IFJlZ0V4cCgiXiIgKyBQICsgIiooWz4rfl18IiArIFAgKyAiKSIgKyBQ
ICsgIioiKSwNCiAgICAgICAgICAgICAgICBWID0gUmVnRXhwKFAgKyAiKlsrfl0i
KSwNCiAgICAgICAgICAgICAgICBZID0gUmVnRXhwKCI9IiArIFAgKyAiKihbXlxc
XSdcIl0qKSIgKyBQICsgIipcXF0iLCAiZyIpLA0KICAgICAgICAgICAgICAgIEog
PSBSZWdFeHAoSSksDQogICAgICAgICAgICAgICAgRyA9IFJlZ0V4cCgiXiIgKyBX
ICsgIiQiKSwNCiAgICAgICAgICAgICAgICBRID0gew0KICAgICAgICAgICAgICAg
ICAgICBJRDogUmVnRXhwKCJeIygiICsgUiArICIpIiksDQogICAgICAgICAgICAg
ICAgICAgIENMQVNTOiBSZWdFeHAoIl5cXC4oIiArIFIgKyAiKSIpLA0KICAgICAg
ICAgICAgICAgICAgICBUQUc6IFJlZ0V4cCgiXigiICsgUi5yZXBsYWNlKCJ3Iiwg
IncqIikgKyAiKSIpLA0KICAgICAgICAgICAgICAgICAgICBBVFRSOiBSZWdFeHAo
Il4iICsgJCksDQogICAgICAgICAgICAgICAgICAgIFBTRVVETzogUmVnRXhwKCJe
IiArIEkpLA0KICAgICAgICAgICAgICAgICAgICBDSElMRDogUmVnRXhwKCJeOihv
bmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpc
XCgiICsgUCArICIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIiArIFAgKyAi
Kig/OihbKy1dfCkiICsgUCArICIqKFxcZCspfCkpIiArIFAgKyAiKlxcKXwpIiwg
ImkiKSwNCiAgICAgICAgICAgICAgICAgICAgYm9vbDogUmVnRXhwKCJeKD86IiAr
IEIgKyAiKSQiLCAiaSIpLA0KICAgICAgICAgICAgICAgICAgICBuZWVkc0NvbnRl
eHQ6IFJlZ0V4cCgiXiIgKyBQICsgIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0
fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIgKyBQICsgIiooKD86LVxcZCk/XFxkKiki
ICsgUCArICIqXFwpfCkoPz1bXi1dfCQpIiwgImkiKQ0KICAgICAgICAgICAgICAg
IH0sDQogICAgICAgICAgICAgICAgSyA9IC9eW157XStce1xzKlxbbmF0aXZlIFx3
LywNCiAgICAgICAgICAgICAgICBaID0gL14oPzojKFtcdy1dKyl8KFx3Kyl8XC4o
W1x3LV0rKSkkLywNCiAgICAgICAgICAgICAgICBldCA9IC9eKD86aW5wdXR8c2Vs
ZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksDQogICAgICAgICAgICAgICAgdHQgPSAv
XmhcZCQvaSwNCiAgICAgICAgICAgICAgICBudCA9IC8nfFxcL2csDQogICAgICAg
ICAgICAgICAgcnQgPSBSZWdFeHAoIlxcXFwoW1xcZGEtZl17MSw2fSIgKyBQICsg
Ij98KCIgKyBQICsgIil8LikiLCAiaWciKSwNCiAgICAgICAgICAgICAgICBpdCA9
IGZ1bmN0aW9uKGUsIHQsIG4pIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHIg
PSAiMHgiICsgdCAtIDY1NTM2Ow0KICAgICAgICAgICAgICAgICAgICByZXR1cm4g
ciAhPT0gciB8fCBuID8gdCA6IDAgPiByID8gU3RyaW5nLmZyb21DaGFyQ29kZShy
ICsgNjU1MzYpIDogU3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NiB8IHIgPj4gMTAs
IDU2MzIwIHwgMTAyMyAmIHIpDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAg
ICAgIHRyeSB7DQogICAgICAgICAgICAgICAgTS5hcHBseShIID0gTy5jYWxsKHcu
Y2hpbGROb2RlcyksIHcuY2hpbGROb2RlcyksIEhbdy5jaGlsZE5vZGVzLmxlbmd0
aF0ubm9kZVR5cGUNCiAgICAgICAgICAgIH0gY2F0Y2ggKG90KSB7DQogICAgICAg
ICAgICAgICAgTSA9IHsNCiAgICAgICAgICAgICAgICAgICAgYXBwbHk6IEgubGVu
Z3RoID8gZnVuY3Rpb24oZSwgdCkgew0KICAgICAgICAgICAgICAgICAgICAgICAg
Xy5hcHBseShlLCBPLmNhbGwodCkpDQogICAgICAgICAgICAgICAgICAgIH0gOiBm
dW5jdGlvbihlLCB0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9
IGUubGVuZ3RoLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIgPSAwOw0K
ICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGVbbisrXSA9IHRbcisrXSk7
DQogICAgICAgICAgICAgICAgICAgICAgICBlLmxlbmd0aCA9IG4gLSAxDQogICAg
ICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAg
ICB9DQoNCiAgICAgICAgICAgIGZ1bmN0aW9uIGF0KGUsIHQsIG4sIGkpIHsNCiAg
ICAgICAgICAgICAgICB2YXIgbywgYSwgcywgbCwgdSwgYywgZCwgbSwgeSwgeDsN
CiAgICAgICAgICAgICAgICBpZiAoKHQgPyB0Lm93bmVyRG9jdW1lbnQgfHwgdCA6
IHcpICE9PSBmICYmIHAodCksIHQgPSB0IHx8IGYsIG4gPSBuIHx8IFtdLCAhZSB8
fCAic3RyaW5nIiAhPSB0eXBlb2YgZSkgcmV0dXJuIG47DQogICAgICAgICAgICAg
ICAgaWYgKDEgIT09IChsID0gdC5ub2RlVHlwZSkgJiYgOSAhPT0gbCkgcmV0dXJu
IFtdOw0KICAgICAgICAgICAgICAgIGlmIChoICYmICFpKSB7DQogICAgICAgICAg
ICAgICAgICAgIGlmIChvID0gWi5leGVjKGUpKQ0KICAgICAgICAgICAgICAgICAg
ICAgICAgaWYgKHMgPSBvWzFdKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgaWYgKDkgPT09IGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgaWYgKGEgPSB0LmdldEVsZW1lbnRCeUlkKHMpLCAhYSB8fCAhYS5wYXJlbnRO
b2RlKSByZXR1cm4gbjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
aWYgKGEuaWQgPT09IHMpIHJldHVybiBuLnB1c2goYSksIG4NCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHQub3duZXJEb2N1bWVudCAmJiAo
YSA9IHQub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChzKSkgJiYgdih0LCBh
KSAmJiBhLmlkID09PSBzKSByZXR1cm4gbi5wdXNoKGEpLCBuDQogICAgICAgICAg
ICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGlmIChvWzJdKSByZXR1cm4gTS5hcHBseShuLCB0LmdldEVsZW1lbnRzQnlU
YWdOYW1lKGUpKSwgbjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAo
KHMgPSBvWzNdKSAmJiByLmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiYgdC5nZXRF
bGVtZW50c0J5Q2xhc3NOYW1lKSByZXR1cm4gTS5hcHBseShuLCB0LmdldEVsZW1l
bnRzQnlDbGFzc05hbWUocykpLCBuDQogICAgICAgICAgICAgICAgICAgICAgICB9
DQogICAgICAgICAgICAgICAgICAgIGlmIChyLnFzYSAmJiAoIWcgfHwgIWcudGVz
dChlKSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtID0gZCA9IGIs
IHkgPSB0LCB4ID0gOSA9PT0gbCAmJiBlLCAxID09PSBsICYmICJvYmplY3QiICE9
PSB0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpIHsNCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBjID0gbXQoZSksIChkID0gdC5nZXRBdHRyaWJ1dGUoImlkIikp
ID8gbSA9IGQucmVwbGFjZShudCwgIlxcJCYiKSA6IHQuc2V0QXR0cmlidXRlKCJp
ZCIsIG0pLCBtID0gIltpZD0nIiArIG0gKyAiJ10gIiwgdSA9IGMubGVuZ3RoOw0K
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh1LS0pIGNbdV0gPSBt
ICsgeXQoY1t1XSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IFYu
dGVzdChlKSAmJiB0LnBhcmVudE5vZGUgfHwgdCwgeCA9IGMuam9pbigiLCIpDQog
ICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAg
ICBpZiAoeCkgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1
cm4gTS5hcHBseShuLCB5LnF1ZXJ5U2VsZWN0b3JBbGwoeCkpLCBuDQogICAgICAg
ICAgICAgICAgICAgICAgICB9IGNhdGNoIChUKSB7fSBmaW5hbGx5IHsNCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBkIHx8IHQucmVtb3ZlQXR0cmlidXRlKCJp
ZCIpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAg
ICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJu
IGt0KGUucmVwbGFjZSh6LCAiJDEiKSwgdCwgbiwgaSkNCiAgICAgICAgICAgIH0N
Cg0KICAgICAgICAgICAgZnVuY3Rpb24gc3QoKSB7DQogICAgICAgICAgICAgICAg
dmFyIGUgPSBbXTsNCg0KICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHQobiwgcikg
ew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5wdXNoKG4gKz0gIiAiKSA+
IG8uY2FjaGVMZW5ndGggJiYgZGVsZXRlIHRbZS5zaGlmdCgpXSwgdFtuXSA9IHIN
CiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIHQNCiAg
ICAgICAgICAgIH0NCg0KICAgICAgICAgICAgZnVuY3Rpb24gbHQoZSkgew0KICAg
ICAgICAgICAgICAgIHJldHVybiBlW2JdID0gITAsIGUNCiAgICAgICAgICAgIH0N
Cg0KICAgICAgICAgICAgZnVuY3Rpb24gdXQoZSkgew0KICAgICAgICAgICAgICAg
IHZhciB0ID0gZi5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgICAgICAgICAg
ICB0cnkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gISFlKHQpDQogICAg
ICAgICAgICAgICAgfSBjYXRjaCAobikgew0KICAgICAgICAgICAgICAgICAgICBy
ZXR1cm4gITENCiAgICAgICAgICAgICAgICB9IGZpbmFsbHkgew0KICAgICAgICAg
ICAgICAgICAgICB0LnBhcmVudE5vZGUgJiYgdC5wYXJlbnROb2RlLnJlbW92ZUNo
aWxkKHQpLCB0ID0gbnVsbA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAg
IH0NCg0KICAgICAgICAgICAgZnVuY3Rpb24gY3QoZSwgdCkgew0KICAgICAgICAg
ICAgICAgIHZhciBuID0gZS5zcGxpdCgifCIpLA0KICAgICAgICAgICAgICAgICAg
ICByID0gZS5sZW5ndGg7DQogICAgICAgICAgICAgICAgd2hpbGUgKHItLSkgby5h
dHRySGFuZGxlW25bcl1dID0gdA0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAg
ICBmdW5jdGlvbiBwdChlLCB0KSB7DQogICAgICAgICAgICAgICAgdmFyIG4gPSB0
ICYmIGUsDQogICAgICAgICAgICAgICAgICAgIHIgPSBuICYmIDEgPT09IGUubm9k
ZVR5cGUgJiYgMSA9PT0gdC5ub2RlVHlwZSAmJiAofnQuc291cmNlSW5kZXggfHwg
RCkgLSAofmUuc291cmNlSW5kZXggfHwgRCk7DQogICAgICAgICAgICAgICAgaWYg
KHIpIHJldHVybiByOw0KICAgICAgICAgICAgICAgIGlmIChuKQ0KICAgICAgICAg
ICAgICAgICAgICB3aGlsZSAobiA9IG4ubmV4dFNpYmxpbmcpDQogICAgICAgICAg
ICAgICAgICAgICAgICBpZiAobiA9PT0gdCkgcmV0dXJuIC0xOw0KICAgICAgICAg
ICAgICAgIHJldHVybiBlID8gMSA6IC0xDQogICAgICAgICAgICB9DQoNCiAgICAg
ICAgICAgIGZ1bmN0aW9uIGZ0KGUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4g
ZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IHQubm9k
ZU5hbWUudG9Mb3dlckNhc2UoKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJu
ICJpbnB1dCIgPT09IG4gJiYgdC50eXBlID09PSBlDQogICAgICAgICAgICAgICAg
fQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBmdW5jdGlvbiBkdChlKSB7
DQogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHsNCiAgICAgICAg
ICAgICAgICAgICAgdmFyIG4gPSB0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7DQog
ICAgICAgICAgICAgICAgICAgIHJldHVybiAoImlucHV0IiA9PT0gbiB8fCAiYnV0
dG9uIiA9PT0gbikgJiYgdC50eXBlID09PSBlDQogICAgICAgICAgICAgICAgfQ0K
ICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBmdW5jdGlvbiBodChlKSB7DQog
ICAgICAgICAgICAgICAgcmV0dXJuIGx0KGZ1bmN0aW9uKHQpIHsNCiAgICAgICAg
ICAgICAgICAgICAgcmV0dXJuIHQgPSArdCwgbHQoZnVuY3Rpb24obiwgcikgew0K
ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGksIG8gPSBlKFtdLCBuLmxlbmd0
aCwgdCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYSA9IG8ubGVuZ3Ro
Ow0KICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGEtLSkgbltpID0gb1th
XV0gJiYgKG5baV0gPSAhKHJbaV0gPSBuW2ldKSkNCiAgICAgICAgICAgICAgICAg
ICAgfSkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAg
ICAgICAgcyA9IGF0LmlzWE1MID0gZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAg
ICAgIHZhciB0ID0gZSAmJiAoZS5vd25lckRvY3VtZW50IHx8IGUpLmRvY3VtZW50
RWxlbWVudDsNCiAgICAgICAgICAgICAgICByZXR1cm4gdCA/ICJIVE1MIiAhPT0g
dC5ub2RlTmFtZSA6ICExDQogICAgICAgICAgICB9LCByID0gYXQuc3VwcG9ydCA9
IHt9LCBwID0gYXQuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbihlKSB7DQogICAgICAg
ICAgICAgICAgdmFyIG4gPSBlID8gZS5vd25lckRvY3VtZW50IHx8IGUgOiB3LA0K
ICAgICAgICAgICAgICAgICAgICBpID0gbi5kZWZhdWx0VmlldzsNCiAgICAgICAg
ICAgICAgICByZXR1cm4gbiAhPT0gZiAmJiA5ID09PSBuLm5vZGVUeXBlICYmIG4u
ZG9jdW1lbnRFbGVtZW50ID8gKGYgPSBuLCBkID0gbi5kb2N1bWVudEVsZW1lbnQs
IGggPSAhcyhuKSwgaSAmJiBpLmF0dGFjaEV2ZW50ICYmIGkgIT09IGkudG9wICYm
IGkuYXR0YWNoRXZlbnQoIm9uYmVmb3JldW5sb2FkIiwgZnVuY3Rpb24oKSB7DQog
ICAgICAgICAgICAgICAgICAgIHAoKQ0KICAgICAgICAgICAgICAgIH0pLCByLmF0
dHJpYnV0ZXMgPSB1dChmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgICAg
IHJldHVybiBlLmNsYXNzTmFtZSA9ICJpIiwgIWUuZ2V0QXR0cmlidXRlKCJjbGFz
c05hbWUiKQ0KICAgICAgICAgICAgICAgIH0pLCByLmdldEVsZW1lbnRzQnlUYWdO
YW1lID0gdXQoZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1
cm4gZS5hcHBlbmRDaGlsZChuLmNyZWF0ZUNvbW1lbnQoIiIpKSwgIWUuZ2V0RWxl
bWVudHNCeVRhZ05hbWUoIioiKS5sZW5ndGgNCiAgICAgICAgICAgICAgICB9KSwg
ci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gdXQoZnVuY3Rpb24oZSkgew0KICAg
ICAgICAgICAgICAgICAgICByZXR1cm4gZS5pbm5lckhUTUwgPSAiPGRpdiBjbGFz
cz0nYSc+PC9kaXY+PGRpdiBjbGFzcz0nYSBpJz48L2Rpdj4iLCBlLmZpcnN0Q2hp
bGQuY2xhc3NOYW1lID0gImkiLCAyID09PSBlLmdldEVsZW1lbnRzQnlDbGFzc05h
bWUoImkiKS5sZW5ndGgNCiAgICAgICAgICAgICAgICB9KSwgci5nZXRCeUlkID0g
dXQoZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5h
cHBlbmRDaGlsZChlKS5pZCA9IGIsICFuLmdldEVsZW1lbnRzQnlOYW1lIHx8ICFu
LmdldEVsZW1lbnRzQnlOYW1lKGIpLmxlbmd0aA0KICAgICAgICAgICAgICAgIH0p
LCByLmdldEJ5SWQgPyAoby5maW5kLklEID0gZnVuY3Rpb24oZSwgdCkgew0KICAg
ICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQgIT09
IGogJiYgaCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSB0Lmdl
dEVsZW1lbnRCeUlkKGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJu
IG4gJiYgbi5wYXJlbnROb2RlID8gW25dIDogW10NCiAgICAgICAgICAgICAgICAg
ICAgfQ0KICAgICAgICAgICAgICAgIH0sIG8uZmlsdGVyLklEID0gZnVuY3Rpb24o
ZSkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGUucmVwbGFjZShydCwg
aXQpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSkgew0K
ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuZ2V0QXR0cmlidXRlKCJp
ZCIpID09PSB0DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAg
ICB9KSA6IChkZWxldGUgby5maW5kLklELCBvLmZpbHRlci5JRCA9IGZ1bmN0aW9u
KGUpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBlLnJlcGxhY2UocnQs
IGl0KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHsN
CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gdHlwZW9mIGUuZ2V0QXR0
cmlidXRlTm9kZSAhPT0gaiAmJiBlLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7DQog
ICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbiAmJiBuLnZhbHVlID09PSB0
DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KSwgby5m
aW5kLlRBRyA9IHIuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPyBmdW5jdGlvbihlLCBu
KSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2Ygbi5nZXRFbGVt
ZW50c0J5VGFnTmFtZSAhPT0gaiA/IG4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSkg
OiB0DQogICAgICAgICAgICAgICAgfSA6IGZ1bmN0aW9uKGUsIHQpIHsNCiAgICAg
ICAgICAgICAgICAgICAgdmFyIG4sIHIgPSBbXSwNCiAgICAgICAgICAgICAgICAg
ICAgICAgIGkgPSAwLA0KICAgICAgICAgICAgICAgICAgICAgICAgbyA9IHQuZ2V0
RWxlbWVudHNCeVRhZ05hbWUoZSk7DQogICAgICAgICAgICAgICAgICAgIGlmICgi
KiIgPT09IGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuID0g
b1tpKytdKSAxID09PSBuLm5vZGVUeXBlICYmIHIucHVzaChuKTsNCiAgICAgICAg
ICAgICAgICAgICAgICAgIHJldHVybiByDQogICAgICAgICAgICAgICAgICAgIH0N
CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8NCiAgICAgICAgICAgICAgICB9
LCBvLmZpbmQuQ0xBU1MgPSByLmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiYgZnVu
Y3Rpb24oZSwgbikgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9m
IG4uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAhPT0gaiAmJiBoID8gbi5nZXRFbGVt
ZW50c0J5Q2xhc3NOYW1lKGUpIDogdA0KICAgICAgICAgICAgICAgIH0sIG0gPSBb
XSwgZyA9IFtdLCAoci5xc2EgPSBLLnRlc3Qobi5xdWVyeVNlbGVjdG9yQWxsKSkg
JiYgKHV0KGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgZS5pbm5l
ckhUTUwgPSAiPHNlbGVjdD48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwv
c2VsZWN0PiIsIGUucXVlcnlTZWxlY3RvckFsbCgiW3NlbGVjdGVkXSIpLmxlbmd0
aCB8fCBnLnB1c2goIlxcWyIgKyBQICsgIiooPzp2YWx1ZXwiICsgQiArICIpIiks
IGUucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGggfHwgZy5wdXNo
KCI6Y2hlY2tlZCIpDQogICAgICAgICAgICAgICAgfSksIHV0KGZ1bmN0aW9uKGUp
IHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBuLmNyZWF0ZUVsZW1lbnQo
ImlucHV0Iik7DQogICAgICAgICAgICAgICAgICAgIHQuc2V0QXR0cmlidXRlKCJ0
eXBlIiwgImhpZGRlbiIpLCBlLmFwcGVuZENoaWxkKHQpLnNldEF0dHJpYnV0ZSgi
dCIsICIiKSwgZS5xdWVyeVNlbGVjdG9yQWxsKCJbdF49JyddIikubGVuZ3RoICYm
IGcucHVzaCgiWypeJF09IiArIFAgKyAiKig/OicnfFwiXCIpIiksIGUucXVlcnlT
ZWxlY3RvckFsbCgiOmVuYWJsZWQiKS5sZW5ndGggfHwgZy5wdXNoKCI6ZW5hYmxl
ZCIsICI6ZGlzYWJsZWQiKSwgZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4IiksIGcu
cHVzaCgiLC4qOiIpDQogICAgICAgICAgICAgICAgfSkpLCAoci5tYXRjaGVzU2Vs
ZWN0b3IgPSBLLnRlc3QoeSA9IGQud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IGQu
bW96TWF0Y2hlc1NlbGVjdG9yIHx8IGQub01hdGNoZXNTZWxlY3RvciB8fCBkLm1z
TWF0Y2hlc1NlbGVjdG9yKSkgJiYgdXQoZnVuY3Rpb24oZSkgew0KICAgICAgICAg
ICAgICAgICAgICByLmRpc2Nvbm5lY3RlZE1hdGNoID0geS5jYWxsKGUsICJkaXYi
KSwgeS5jYWxsKGUsICJbcyE9JyddOngiKSwgbS5wdXNoKCIhPSIsIEkpDQogICAg
ICAgICAgICAgICAgfSksIGcgPSBnLmxlbmd0aCAmJiBSZWdFeHAoZy5qb2luKCJ8
IikpLCBtID0gbS5sZW5ndGggJiYgUmVnRXhwKG0uam9pbigifCIpKSwgdiA9IEsu
dGVzdChkLmNvbnRhaW5zKSB8fCBkLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uID8g
ZnVuY3Rpb24oZSwgdCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IDkg
PT09IGUubm9kZVR5cGUgPyBlLmRvY3VtZW50RWxlbWVudCA6IGUsDQogICAgICAg
ICAgICAgICAgICAgICAgICByID0gdCAmJiB0LnBhcmVudE5vZGU7DQogICAgICAg
ICAgICAgICAgICAgIHJldHVybiBlID09PSByIHx8ICEoIXIgfHwgMSAhPT0gci5u
b2RlVHlwZSB8fCAhKG4uY29udGFpbnMgPyBuLmNvbnRhaW5zKHIpIDogZS5jb21w
YXJlRG9jdW1lbnRQb3NpdGlvbiAmJiAxNiAmIGUuY29tcGFyZURvY3VtZW50UG9z
aXRpb24ocikpKQ0KICAgICAgICAgICAgICAgIH0gOiBmdW5jdGlvbihlLCB0KSB7
DQogICAgICAgICAgICAgICAgICAgIGlmICh0KQ0KICAgICAgICAgICAgICAgICAg
ICAgICAgd2hpbGUgKHQgPSB0LnBhcmVudE5vZGUpDQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgaWYgKHQgPT09IGUpIHJldHVybiAhMDsNCiAgICAgICAgICAg
ICAgICAgICAgcmV0dXJuICExDQogICAgICAgICAgICAgICAgfSwgQSA9IGQuY29t
cGFyZURvY3VtZW50UG9zaXRpb24gPyBmdW5jdGlvbihlLCB0KSB7DQogICAgICAg
ICAgICAgICAgICAgIGlmIChlID09PSB0KSByZXR1cm4gUyA9ICEwLCAwOw0KICAg
ICAgICAgICAgICAgICAgICB2YXIgaSA9IHQuY29tcGFyZURvY3VtZW50UG9zaXRp
b24gJiYgZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBlLmNvbXBhcmVEb2N1
bWVudFBvc2l0aW9uKHQpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSA/
IDEgJiBpIHx8ICFyLnNvcnREZXRhY2hlZCAmJiB0LmNvbXBhcmVEb2N1bWVudFBv
c2l0aW9uKGUpID09PSBpID8gZSA9PT0gbiB8fCB2KHcsIGUpID8gLTEgOiB0ID09
PSBuIHx8IHYodywgdCkgPyAxIDogYyA/IEYuY2FsbChjLCBlKSAtIEYuY2FsbChj
LCB0KSA6IDAgOiA0ICYgaSA/IC0xIDogMSA6IGUuY29tcGFyZURvY3VtZW50UG9z
aXRpb24gPyAtMSA6IDENCiAgICAgICAgICAgICAgICB9IDogZnVuY3Rpb24oZSwg
dCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgciwgaSA9IDAsDQogICAgICAg
ICAgICAgICAgICAgICAgICBvID0gZS5wYXJlbnROb2RlLA0KICAgICAgICAgICAg
ICAgICAgICAgICAgYSA9IHQucGFyZW50Tm9kZSwNCiAgICAgICAgICAgICAgICAg
ICAgICAgIHMgPSBbZV0sDQogICAgICAgICAgICAgICAgICAgICAgICBsID0gW3Rd
Ow0KICAgICAgICAgICAgICAgICAgICBpZiAoZSA9PT0gdCkgcmV0dXJuIFMgPSAh
MCwgMDsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFvIHx8ICFhKSByZXR1cm4g
ZSA9PT0gbiA/IC0xIDogdCA9PT0gbiA/IDEgOiBvID8gLTEgOiBhID8gMSA6IGMg
PyBGLmNhbGwoYywgZSkgLSBGLmNhbGwoYywgdCkgOiAwOw0KICAgICAgICAgICAg
ICAgICAgICBpZiAobyA9PT0gYSkgcmV0dXJuIHB0KGUsIHQpOw0KICAgICAgICAg
ICAgICAgICAgICByID0gZTsNCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHIg
PSByLnBhcmVudE5vZGUpIHMudW5zaGlmdChyKTsNCiAgICAgICAgICAgICAgICAg
ICAgciA9IHQ7DQogICAgICAgICAgICAgICAgICAgIHdoaWxlIChyID0gci5wYXJl
bnROb2RlKSBsLnVuc2hpZnQocik7DQogICAgICAgICAgICAgICAgICAgIHdoaWxl
IChzW2ldID09PSBsW2ldKSBpKys7DQogICAgICAgICAgICAgICAgICAgIHJldHVy
biBpID8gcHQoc1tpXSwgbFtpXSkgOiBzW2ldID09PSB3ID8gLTEgOiBsW2ldID09
PSB3ID8gMSA6IDANCiAgICAgICAgICAgICAgICB9LCBuKSA6IGYNCiAgICAgICAg
ICAgIH0sIGF0Lm1hdGNoZXMgPSBmdW5jdGlvbihlLCB0KSB7DQogICAgICAgICAg
ICAgICAgcmV0dXJuIGF0KGUsIG51bGwsIG51bGwsIHQpDQogICAgICAgICAgICB9
LCBhdC5tYXRjaGVzU2VsZWN0b3IgPSBmdW5jdGlvbihlLCB0KSB7DQogICAgICAg
ICAgICAgICAgaWYgKChlLm93bmVyRG9jdW1lbnQgfHwgZSkgIT09IGYgJiYgcChl
KSwgdCA9IHQucmVwbGFjZShZLCAiPSckMSddIiksICEoIXIubWF0Y2hlc1NlbGVj
dG9yIHx8ICFoIHx8IG0gJiYgbS50ZXN0KHQpIHx8IGcgJiYgZy50ZXN0KHQpKSkg
dHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSB5LmNhbGwoZSwgdCk7
DQogICAgICAgICAgICAgICAgICAgIGlmIChuIHx8IHIuZGlzY29ubmVjdGVkTWF0
Y2ggfHwgZS5kb2N1bWVudCAmJiAxMSAhPT0gZS5kb2N1bWVudC5ub2RlVHlwZSkg
cmV0dXJuIG4NCiAgICAgICAgICAgICAgICB9IGNhdGNoIChpKSB7fQ0KICAgICAg
ICAgICAgICAgIHJldHVybiBhdCh0LCBmLCBudWxsLCBbZV0pLmxlbmd0aCA+IDAN
CiAgICAgICAgICAgIH0sIGF0LmNvbnRhaW5zID0gZnVuY3Rpb24oZSwgdCkgew0K
ICAgICAgICAgICAgICAgIHJldHVybiAoZS5vd25lckRvY3VtZW50IHx8IGUpICE9
PSBmICYmIHAoZSksIHYoZSwgdCkNCiAgICAgICAgICAgIH0sIGF0LmF0dHIgPSBm
dW5jdGlvbihlLCBuKSB7DQogICAgICAgICAgICAgICAgKGUub3duZXJEb2N1bWVu
dCB8fCBlKSAhPT0gZiAmJiBwKGUpOw0KICAgICAgICAgICAgICAgIHZhciBpID0g
by5hdHRySGFuZGxlW24udG9Mb3dlckNhc2UoKV0sDQogICAgICAgICAgICAgICAg
ICAgIGEgPSBpICYmIEwuY2FsbChvLmF0dHJIYW5kbGUsIG4udG9Mb3dlckNhc2Uo
KSkgPyBpKGUsIG4sICFoKSA6IHQ7DQogICAgICAgICAgICAgICAgcmV0dXJuIGEg
PT09IHQgPyByLmF0dHJpYnV0ZXMgfHwgIWggPyBlLmdldEF0dHJpYnV0ZShuKSA6
IChhID0gZS5nZXRBdHRyaWJ1dGVOb2RlKG4pKSAmJiBhLnNwZWNpZmllZCA/IGEu
dmFsdWUgOiBudWxsIDogYQ0KICAgICAgICAgICAgfSwgYXQuZXJyb3IgPSBmdW5j
dGlvbihlKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoIlN5bnRheCBl
cnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIgKyBlKQ0KICAgICAgICAg
ICAgfSwgYXQudW5pcXVlU29ydCA9IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAg
ICAgICB2YXIgdCwgbiA9IFtdLA0KICAgICAgICAgICAgICAgICAgICBpID0gMCwN
CiAgICAgICAgICAgICAgICAgICAgbyA9IDA7DQogICAgICAgICAgICAgICAgaWYg
KFMgPSAhci5kZXRlY3REdXBsaWNhdGVzLCBjID0gIXIuc29ydFN0YWJsZSAmJiBl
LnNsaWNlKDApLCBlLnNvcnQoQSksIFMpIHsNCiAgICAgICAgICAgICAgICAgICAg
d2hpbGUgKHQgPSBlW28rK10pIHQgPT09IGVbb10gJiYgKGkgPSBuLnB1c2gobykp
Ow0KICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSBlLnNwbGljZShuW2ld
LCAxKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4g
ZQ0KICAgICAgICAgICAgfSwgYSA9IGF0LmdldFRleHQgPSBmdW5jdGlvbihlKSB7
DQogICAgICAgICAgICAgICAgdmFyIHQsIG4gPSAiIiwNCiAgICAgICAgICAgICAg
ICAgICAgciA9IDAsDQogICAgICAgICAgICAgICAgICAgIGkgPSBlLm5vZGVUeXBl
Ow0KICAgICAgICAgICAgICAgIGlmIChpKSB7DQogICAgICAgICAgICAgICAgICAg
IGlmICgxID09PSBpIHx8IDkgPT09IGkgfHwgMTEgPT09IGkpIHsNCiAgICAgICAg
ICAgICAgICAgICAgICAgIGlmICgic3RyaW5nIiA9PSB0eXBlb2YgZS50ZXh0Q29u
dGVudCkgcmV0dXJuIGUudGV4dENvbnRlbnQ7DQogICAgICAgICAgICAgICAgICAg
ICAgICBmb3IgKGUgPSBlLmZpcnN0Q2hpbGQ7IGU7IGUgPSBlLm5leHRTaWJsaW5n
KSBuICs9IGEoZSkNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgzID09
PSBpIHx8IDQgPT09IGkpIHJldHVybiBlLm5vZGVWYWx1ZQ0KICAgICAgICAgICAg
ICAgIH0gZWxzZQ0KICAgICAgICAgICAgICAgICAgICBmb3IgKDsgdCA9IGVbcl07
IHIrKykgbiArPSBhKHQpOw0KICAgICAgICAgICAgICAgIHJldHVybiBuDQogICAg
ICAgICAgICB9LCBvID0gYXQuc2VsZWN0b3JzID0gew0KICAgICAgICAgICAgICAg
IGNhY2hlTGVuZ3RoOiA1MCwNCiAgICAgICAgICAgICAgICBjcmVhdGVQc2V1ZG86
IGx0LA0KICAgICAgICAgICAgICAgIG1hdGNoOiBRLA0KICAgICAgICAgICAgICAg
IGF0dHJIYW5kbGU6IHt9LA0KICAgICAgICAgICAgICAgIGZpbmQ6IHt9LA0KICAg
ICAgICAgICAgICAgIHJlbGF0aXZlOiB7DQogICAgICAgICAgICAgICAgICAgICI+
Ijogew0KICAgICAgICAgICAgICAgICAgICAgICAgZGlyOiAicGFyZW50Tm9kZSIs
DQogICAgICAgICAgICAgICAgICAgICAgICBmaXJzdDogITANCiAgICAgICAgICAg
ICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIiAiOiB7DQogICAgICAg
ICAgICAgICAgICAgICAgICBkaXI6ICJwYXJlbnROb2RlIg0KICAgICAgICAgICAg
ICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAiKyI6IHsNCiAgICAgICAg
ICAgICAgICAgICAgICAgIGRpcjogInByZXZpb3VzU2libGluZyIsDQogICAgICAg
ICAgICAgICAgICAgICAgICBmaXJzdDogITANCiAgICAgICAgICAgICAgICAgICAg
fSwNCiAgICAgICAgICAgICAgICAgICAgIn4iOiB7DQogICAgICAgICAgICAgICAg
ICAgICAgICBkaXI6ICJwcmV2aW91c1NpYmxpbmciDQogICAgICAgICAgICAgICAg
ICAgIH0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHByZUZp
bHRlcjogew0KICAgICAgICAgICAgICAgICAgICBBVFRSOiBmdW5jdGlvbihlKSB7
DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZVsxXSA9IGVbMV0ucmVw
bGFjZShydCwgaXQpLCBlWzNdID0gKGVbNF0gfHwgZVs1XSB8fCAiIikucmVwbGFj
ZShydCwgaXQpLCAifj0iID09PSBlWzJdICYmIChlWzNdID0gIiAiICsgZVszXSAr
ICIgIiksIGUuc2xpY2UoMCwgNCkNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAg
ICAgICAgICAgICAgICAgICAgQ0hJTEQ6IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAg
ICAgICAgICAgICAgICAgIHJldHVybiBlWzFdID0gZVsxXS50b0xvd2VyQ2FzZSgp
LCAibnRoIiA9PT0gZVsxXS5zbGljZSgwLCAzKSA/IChlWzNdIHx8IGF0LmVycm9y
KGVbMF0pLCBlWzRdID0gKyhlWzRdID8gZVs1XSArIChlWzZdIHx8IDEpIDogMiAq
ICgiZXZlbiIgPT09IGVbM10gfHwgIm9kZCIgPT09IGVbM10pKSwgZVs1XSA9ICso
ZVs3XSArIGVbOF0gfHwgIm9kZCIgPT09IGVbM10pKSA6IGVbM10gJiYgYXQuZXJy
b3IoZVswXSksIGUNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAg
ICAgICAgICAgUFNFVURPOiBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAg
ICAgICAgICB2YXIgbiwgciA9ICFlWzVdICYmIGVbMl07DQogICAgICAgICAgICAg
ICAgICAgICAgICByZXR1cm4gUS5DSElMRC50ZXN0KGVbMF0pID8gbnVsbCA6IChl
WzNdICYmIGVbNF0gIT09IHQgPyBlWzJdID0gZVs0XSA6IHIgJiYgSi50ZXN0KHIp
ICYmIChuID0gbXQociwgITApKSAmJiAobiA9IHIuaW5kZXhPZigiKSIsIHIubGVu
Z3RoIC0gbikgLSByLmxlbmd0aCkgJiYgKGVbMF0gPSBlWzBdLnNsaWNlKDAsIG4p
LCBlWzJdID0gci5zbGljZSgwLCBuKSksIGUuc2xpY2UoMCwgMykpDQogICAgICAg
ICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAg
ICAgIGZpbHRlcjogew0KICAgICAgICAgICAgICAgICAgICBUQUc6IGZ1bmN0aW9u
KGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gZS5yZXBsYWNl
KHJ0LCBpdCkudG9Mb3dlckNhc2UoKTsNCiAgICAgICAgICAgICAgICAgICAgICAg
IHJldHVybiAiKiIgPT09IGUgPyBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICByZXR1cm4gITANCiAgICAgICAgICAgICAgICAgICAgICAg
IH0gOiBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
cmV0dXJuIGUubm9kZU5hbWUgJiYgZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09
PSB0DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAg
ICAgIH0sDQogICAgICAgICAgICAgICAgICAgIENMQVNTOiBmdW5jdGlvbihlKSB7
DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IE5bZSArICIgIl07DQog
ICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdCB8fCAodCA9IFJlZ0V4cCgi
KF58IiArIFAgKyAiKSIgKyBlICsgIigiICsgUCArICJ8JCkiKSkgJiYgTihlLCBm
dW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJu
IHQudGVzdCgic3RyaW5nIiA9PSB0eXBlb2YgZS5jbGFzc05hbWUgJiYgZS5jbGFz
c05hbWUgfHwgdHlwZW9mIGUuZ2V0QXR0cmlidXRlICE9PSBqICYmIGUuZ2V0QXR0
cmlidXRlKCJjbGFzcyIpIHx8ICIiKQ0KICAgICAgICAgICAgICAgICAgICAgICAg
fSkNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAg
QVRUUjogZnVuY3Rpb24oZSwgdCwgbikgew0KICAgICAgICAgICAgICAgICAgICAg
ICAgcmV0dXJuIGZ1bmN0aW9uKHIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB2YXIgaSA9IGF0LmF0dHIociwgZSk7DQogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgcmV0dXJuIG51bGwgPT0gaSA/ICIhPSIgPT09IHQgOiB0ID8gKGkg
Kz0gIiIsICI9IiA9PT0gdCA/IGkgPT09IG4gOiAiIT0iID09PSB0ID8gaSAhPT0g
biA6ICJePSIgPT09IHQgPyBuICYmIDAgPT09IGkuaW5kZXhPZihuKSA6ICIqPSIg
PT09IHQgPyBuICYmIGkuaW5kZXhPZihuKSA+IC0xIDogIiQ9IiA9PT0gdCA/IG4g
JiYgaS5zbGljZSgtbi5sZW5ndGgpID09PSBuIDogIn49IiA9PT0gdCA/ICgiICIg
KyBpICsgIiAiKS5pbmRleE9mKG4pID4gLTEgOiAifD0iID09PSB0ID8gaSA9PT0g
biB8fCBpLnNsaWNlKDAsIG4ubGVuZ3RoICsgMSkgPT09IG4gKyAiLSIgOiAhMSkg
OiAhMA0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAg
ICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBDSElMRDogZnVuY3Rpb24oZSwg
dCwgbiwgciwgaSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSAi
bnRoIiAhPT0gZS5zbGljZSgwLCAzKSwNCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBhID0gImxhc3QiICE9PSBlLnNsaWNlKC00KSwNCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBzID0gIm9mLXR5cGUiID09PSB0Ow0KICAgICAgICAgICAg
ICAgICAgICAgICAgcmV0dXJuIDEgPT09IHIgJiYgMCA9PT0gaSA/IGZ1bmN0aW9u
KGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gISFlLnBh
cmVudE5vZGUNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gOiBmdW5jdGlvbih0
LCBuLCBsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHUsIGMs
IHAsIGYsIGQsIGgsIGcgPSBvICE9PSBhID8gIm5leHRTaWJsaW5nIiA6ICJwcmV2
aW91c1NpYmxpbmciLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBt
ID0gdC5wYXJlbnROb2RlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICB5ID0gcyAmJiB0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksDQogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHYgPSAhbCAmJiAhczsNCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBpZiAobSkgew0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBpZiAobykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgd2hpbGUgKGcpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBwID0gdDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB3aGlsZSAocCA9IHBbZ10pDQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzID8gcC5ub2RlTmFtZS50
b0xvd2VyQ2FzZSgpID09PSB5IDogMSA9PT0gcC5ub2RlVHlwZSkgcmV0dXJuICEx
Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGggPSBn
ID0gIm9ubHkiID09PSBlICYmICFoICYmICJuZXh0U2libGluZyINCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHJldHVybiAhMA0KICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGlmIChoID0gW2EgPyBtLmZpcnN0Q2hpbGQgOiBtLmxhc3RDaGlsZF0sIGEgJiYg
dikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9IG1b
Yl0gfHwgKG1bYl0gPSB7fSksIHUgPSBjW2VdIHx8IFtdLCBkID0gdVswXSA9PT0g
VCAmJiB1WzFdLCBmID0gdVswXSA9PT0gVCAmJiB1WzJdLCBwID0gZCAmJiBtLmNo
aWxkTm9kZXNbZF07DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICB3aGlsZSAocCA9ICsrZCAmJiBwICYmIHBbZ10gfHwgKGYgPSBkID0gMCkgfHwg
aC5wb3AoKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBpZiAoMSA9PT0gcC5ub2RlVHlwZSAmJiArK2YgJiYgcCA9PT0gdCkgew0KICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjW2VdID0g
W1QsIGQsIGZdOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNl
IGlmICh2ICYmICh1ID0gKHRbYl0gfHwgKHRbYl0gPSB7fSkpW2VdKSAmJiB1WzBd
ID09PSBUKSBmID0gdVsxXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hp
bGUgKHAgPSArK2QgJiYgcCAmJiBwW2ddIHx8IChmID0gZCA9IDApIHx8IGgucG9w
KCkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYg
KChzID8gcC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSB5IDogMSA9PT0gcC5u
b2RlVHlwZSkgJiYgKytmICYmICh2ICYmICgocFtiXSB8fCAocFtiXSA9IHt9KSlb
ZV0gPSBbVCwgZl0pLCBwID09PSB0KSkgYnJlYWs7DQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHJldHVybiBmIC09IGksIGYgPT09IHIgfHwgMCA9PT0g
ZiAlIHIgJiYgZiAvIHIgPj0gMA0KICAgICAgICAgICAgICAgICAgICAgICAgICAg
IH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAg
ICAgfSwNCiAgICAgICAgICAgICAgICAgICAgUFNFVURPOiBmdW5jdGlvbihlLCB0
KSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiwgciA9IG8ucHNldWRv
c1tlXSB8fCBvLnNldEZpbHRlcnNbZS50b0xvd2VyQ2FzZSgpXSB8fCBhdC5lcnJv
cigidW5zdXBwb3J0ZWQgcHNldWRvOiAiICsgZSk7DQogICAgICAgICAgICAgICAg
ICAgICAgICByZXR1cm4gcltiXSA/IHIodCkgOiByLmxlbmd0aCA+IDEgPyAobiA9
IFtlLCBlLCAiIiwgdF0sIG8uc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRv
TG93ZXJDYXNlKCkpID8gbHQoZnVuY3Rpb24oZSwgbikgew0KICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHZhciBpLCBvID0gcihlLCB0KSwNCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgYSA9IG8ubGVuZ3RoOw0KICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHdoaWxlIChhLS0pIGkgPSBGLmNhbGwoZSwgb1thXSks
IGVbaV0gPSAhKG5baV0gPSBvW2FdKQ0KICAgICAgICAgICAgICAgICAgICAgICAg
fSkgOiBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
cmV0dXJuIHIoZSwgMCwgbikNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pIDog
cg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSwNCiAg
ICAgICAgICAgICAgICBwc2V1ZG9zOiB7DQogICAgICAgICAgICAgICAgICAgIG5v
dDogbHQoZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFy
IHQgPSBbXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuID0gW10sDQog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgciA9IGwoZS5yZXBsYWNlKHosICIk
MSIpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByW2JdID8gbHQo
ZnVuY3Rpb24oZSwgdCwgbiwgaSkgew0KICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHZhciBvLCBhID0gcihlLCBudWxsLCBpLCBbXSksDQogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHMgPSBlLmxlbmd0aDsNCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB3aGlsZSAocy0tKShvID0gYVtzXSkgJiYgKGVbc10gPSAh
KHRbc10gPSBvKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pIDogZnVuY3Rp
b24oZSwgaSwgbykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVy
biB0WzBdID0gZSwgcih0LCBudWxsLCBvLCBuKSwgIW4ucG9wKCkNCiAgICAgICAg
ICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSksDQogICAg
ICAgICAgICAgICAgICAgIGhhczogbHQoZnVuY3Rpb24oZSkgew0KICAgICAgICAg
ICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICByZXR1cm4gYXQoZSwgdCkubGVuZ3RoID4gMA0KICAg
ICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KSwN
CiAgICAgICAgICAgICAgICAgICAgY29udGFpbnM6IGx0KGZ1bmN0aW9uKGUpIHsN
CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih0KSB7DQog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh0LnRleHRDb250ZW50
IHx8IHQuaW5uZXJUZXh0IHx8IGEodCkpLmluZGV4T2YoZSkgPiAtMQ0KICAgICAg
ICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KSwNCiAg
ICAgICAgICAgICAgICAgICAgbGFuZzogbHQoZnVuY3Rpb24oZSkgew0KICAgICAg
ICAgICAgICAgICAgICAgICAgcmV0dXJuIEcudGVzdChlIHx8ICIiKSB8fCBhdC5l
cnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIiArIGUpLCBlID0gZS5yZXBsYWNlKHJ0
LCBpdCkudG9Mb3dlckNhc2UoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHZhciBuOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbw0KICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG4gPSBoID8gdC5s
YW5nIDogdC5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIikgfHwgdC5nZXRBdHRyaWJ1
dGUoImxhbmciKSkgcmV0dXJuIG4gPSBuLnRvTG93ZXJDYXNlKCksIG4gPT09IGUg
fHwgMCA9PT0gbi5pbmRleE9mKGUgKyAiLSIpOyB3aGlsZSAoKHQgPSB0LnBhcmVu
dE5vZGUpICYmIDEgPT09IHQubm9kZVR5cGUpOw0KICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICByZXR1cm4gITENCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAg
ICAgICB0YXJnZXQ6IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgICAgICAgICAg
ICAgIHZhciBuID0gZS5sb2NhdGlvbiAmJiBlLmxvY2F0aW9uLmhhc2g7DQogICAg
ICAgICAgICAgICAgICAgICAgICByZXR1cm4gbiAmJiBuLnNsaWNlKDEpID09PSB0
LmlkDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAg
IHJvb3Q6IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJl
dHVybiBlID09PSBkDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAg
ICAgICAgICAgIGZvY3VzOiBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAg
ICAgICAgICByZXR1cm4gZSA9PT0gZi5hY3RpdmVFbGVtZW50ICYmICghZi5oYXNG
b2N1cyB8fCBmLmhhc0ZvY3VzKCkpICYmICEhKGUudHlwZSB8fCBlLmhyZWYgfHwg
fmUudGFiSW5kZXgpDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAg
ICAgICAgICAgIGVuYWJsZWQ6IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAg
ICAgICAgICAgIHJldHVybiBlLmRpc2FibGVkID09PSAhMQ0KICAgICAgICAgICAg
ICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogZnVuY3Rp
b24oZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuZGlzYWJs
ZWQgPT09ICEwDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAg
ICAgICAgIGNoZWNrZWQ6IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICAg
ICAgICAgIHZhciB0ID0gZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOw0KICAgICAg
ICAgICAgICAgICAgICAgICAgcmV0dXJuICJpbnB1dCIgPT09IHQgJiYgISFlLmNo
ZWNrZWQgfHwgIm9wdGlvbiIgPT09IHQgJiYgISFlLnNlbGVjdGVkDQogICAgICAg
ICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBm
dW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5w
YXJlbnROb2RlICYmIGUucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LCBlLnNlbGVj
dGVkID09PSAhMA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAg
ICAgICAgICBlbXB0eTogZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgICAg
ICAgICAgZm9yIChlID0gZS5maXJzdENoaWxkOyBlOyBlID0gZS5uZXh0U2libGlu
ZykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5ub2RlTmFtZSA+
ICJAIiB8fCAzID09PSBlLm5vZGVUeXBlIHx8IDQgPT09IGUubm9kZVR5cGUpIHJl
dHVybiAhMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMA0KICAg
ICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6
IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAh
by5wc2V1ZG9zLmVtcHR5KGUpDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAg
ICAgICAgICAgICAgICAgIGhlYWRlcjogZnVuY3Rpb24oZSkgew0KICAgICAgICAg
ICAgICAgICAgICAgICAgcmV0dXJuIHR0LnRlc3QoZS5ub2RlTmFtZSkNCiAgICAg
ICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IGZ1
bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldC50
ZXN0KGUubm9kZU5hbWUpDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAg
ICAgICAgICAgICAgIGJ1dHRvbjogZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAg
ICAgICAgICAgICAgdmFyIHQgPSBlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7DQog
ICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gImlucHV0IiA9PT0gdCAmJiAi
YnV0dG9uIiA9PT0gZS50eXBlIHx8ICJidXR0b24iID09PSB0DQogICAgICAgICAg
ICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIHRleHQ6IGZ1bmN0aW9u
KGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0Ow0KICAgICAgICAg
ICAgICAgICAgICAgICAgcmV0dXJuICJpbnB1dCIgPT09IGUubm9kZU5hbWUudG9M
b3dlckNhc2UoKSAmJiAidGV4dCIgPT09IGUudHlwZSAmJiAobnVsbCA9PSAodCA9
IGUuZ2V0QXR0cmlidXRlKCJ0eXBlIikpIHx8IHQudG9Mb3dlckNhc2UoKSA9PT0g
ZS50eXBlKQ0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAg
ICAgICBmaXJzdDogaHQoZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAg
ICAgICByZXR1cm4gWzBdDQogICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAg
ICAgICAgICAgICAgICBsYXN0OiBodChmdW5jdGlvbihlLCB0KSB7DQogICAgICAg
ICAgICAgICAgICAgICAgICByZXR1cm4gW3QgLSAxXQ0KICAgICAgICAgICAgICAg
ICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgZXE6IGh0KGZ1bmN0aW9uKGUs
IHQsIG4pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMCA+IG4g
PyBuICsgdCA6IG5dDQogICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAg
ICAgICAgICAgICBldmVuOiBodChmdW5jdGlvbihlLCB0KSB7DQogICAgICAgICAg
ICAgICAgICAgICAgICB2YXIgbiA9IDA7DQogICAgICAgICAgICAgICAgICAgICAg
ICBmb3IgKDsgdCA+IG47IG4gKz0gMikgZS5wdXNoKG4pOw0KICAgICAgICAgICAg
ICAgICAgICAgICAgcmV0dXJuIGUNCiAgICAgICAgICAgICAgICAgICAgfSksDQog
ICAgICAgICAgICAgICAgICAgIG9kZDogaHQoZnVuY3Rpb24oZSwgdCkgew0KICAg
ICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSAxOw0KICAgICAgICAgICAgICAg
ICAgICAgICAgZm9yICg7IHQgPiBuOyBuICs9IDIpIGUucHVzaChuKTsNCiAgICAg
ICAgICAgICAgICAgICAgICAgIHJldHVybiBlDQogICAgICAgICAgICAgICAgICAg
IH0pLA0KICAgICAgICAgICAgICAgICAgICBsdDogaHQoZnVuY3Rpb24oZSwgdCwg
bikgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSAwID4gbiA/IG4g
KyB0IDogbjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoOyAtLXIgPj0g
MDspIGUucHVzaChyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBl
DQogICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICBn
dDogaHQoZnVuY3Rpb24oZSwgdCwgbikgew0KICAgICAgICAgICAgICAgICAgICAg
ICAgdmFyIHIgPSAwID4gbiA/IG4gKyB0IDogbjsNCiAgICAgICAgICAgICAgICAg
ICAgICAgIGZvciAoOyB0ID4gKytyOykgZS5wdXNoKHIpOw0KICAgICAgICAgICAg
ICAgICAgICAgICAgcmV0dXJuIGUNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAg
ICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LCBvLnBzZXVkb3MubnRoID0g
by5wc2V1ZG9zLmVxOw0KICAgICAgICAgICAgZm9yIChuIGluIHsNCiAgICAgICAg
ICAgICAgICAgICAgcmFkaW86ICEwLA0KICAgICAgICAgICAgICAgICAgICBjaGVj
a2JveDogITAsDQogICAgICAgICAgICAgICAgICAgIGZpbGU6ICEwLA0KICAgICAg
ICAgICAgICAgICAgICBwYXNzd29yZDogITAsDQogICAgICAgICAgICAgICAgICAg
IGltYWdlOiAhMA0KICAgICAgICAgICAgICAgIH0pIG8ucHNldWRvc1tuXSA9IGZ0
KG4pOw0KICAgICAgICAgICAgZm9yIChuIGluIHsNCiAgICAgICAgICAgICAgICAg
ICAgc3VibWl0OiAhMCwNCiAgICAgICAgICAgICAgICAgICAgcmVzZXQ6ICEwDQog
ICAgICAgICAgICAgICAgfSkgby5wc2V1ZG9zW25dID0gZHQobik7DQoNCiAgICAg
ICAgICAgIGZ1bmN0aW9uIGd0KCkge30NCiAgICAgICAgICAgIGd0LnByb3RvdHlw
ZSA9IG8uZmlsdGVycyA9IG8ucHNldWRvcywgby5zZXRGaWx0ZXJzID0gbmV3IGd0
Ow0KDQogICAgICAgICAgICBmdW5jdGlvbiBtdChlLCB0KSB7DQogICAgICAgICAg
ICAgICAgdmFyIG4sIHIsIGksIGEsIHMsIGwsIHUsIGMgPSBrW2UgKyAiICJdOw0K
ICAgICAgICAgICAgICAgIGlmIChjKSByZXR1cm4gdCA/IDAgOiBjLnNsaWNlKDAp
Ow0KICAgICAgICAgICAgICAgIHMgPSBlLCBsID0gW10sIHUgPSBvLnByZUZpbHRl
cjsNCiAgICAgICAgICAgICAgICB3aGlsZSAocykgew0KICAgICAgICAgICAgICAg
ICAgICAoIW4gfHwgKHIgPSBYLmV4ZWMocykpKSAmJiAociAmJiAocyA9IHMuc2xp
Y2UoclswXS5sZW5ndGgpIHx8IHMpLCBsLnB1c2goaSA9IFtdKSksIG4gPSAhMSwg
KHIgPSBVLmV4ZWMocykpICYmIChuID0gci5zaGlmdCgpLCBpLnB1c2goew0KICAg
ICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG4sDQogICAgICAgICAgICAgICAg
ICAgICAgICB0eXBlOiByWzBdLnJlcGxhY2UoeiwgIiAiKQ0KICAgICAgICAgICAg
ICAgICAgICB9KSwgcyA9IHMuc2xpY2Uobi5sZW5ndGgpKTsNCiAgICAgICAgICAg
ICAgICAgICAgZm9yIChhIGluIG8uZmlsdGVyKSAhKHIgPSBRW2FdLmV4ZWMocykp
IHx8IHVbYV0gJiYgIShyID0gdVthXShyKSkgfHwgKG4gPSByLnNoaWZ0KCksIGku
cHVzaCh7DQogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbiwNCiAgICAg
ICAgICAgICAgICAgICAgICAgIHR5cGU6IGEsDQogICAgICAgICAgICAgICAgICAg
ICAgICBtYXRjaGVzOiByDQogICAgICAgICAgICAgICAgICAgIH0pLCBzID0gcy5z
bGljZShuLmxlbmd0aCkpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoIW4pIGJy
ZWFrDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiB0
ID8gcy5sZW5ndGggOiBzID8gYXQuZXJyb3IoZSkgOiBrKGUsIGwpLnNsaWNlKDAp
DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGZ1bmN0aW9uIHl0KGUpIHsN
CiAgICAgICAgICAgICAgICB2YXIgdCA9IDAsDQogICAgICAgICAgICAgICAgICAg
IG4gPSBlLmxlbmd0aCwNCiAgICAgICAgICAgICAgICAgICAgciA9ICIiOw0KICAg
ICAgICAgICAgICAgIGZvciAoOyBuID4gdDsgdCsrKSByICs9IGVbdF0udmFsdWU7
DQogICAgICAgICAgICAgICAgcmV0dXJuIHINCiAgICAgICAgICAgIH0NCg0KICAg
ICAgICAgICAgZnVuY3Rpb24gdnQoZSwgdCwgbikgew0KICAgICAgICAgICAgICAg
IHZhciByID0gdC5kaXIsDQogICAgICAgICAgICAgICAgICAgIG8gPSBuICYmICJw
YXJlbnROb2RlIiA9PT0gciwNCiAgICAgICAgICAgICAgICAgICAgYSA9IEMrKzsN
CiAgICAgICAgICAgICAgICByZXR1cm4gdC5maXJzdCA/IGZ1bmN0aW9uKHQsIG4s
IGkpIHsNCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHQgPSB0W3JdKQ0KICAg
ICAgICAgICAgICAgICAgICAgICAgaWYgKDEgPT09IHQubm9kZVR5cGUgfHwgbykg
cmV0dXJuIGUodCwgbiwgaSkNCiAgICAgICAgICAgICAgICB9IDogZnVuY3Rpb24o
dCwgbiwgcykgew0KICAgICAgICAgICAgICAgICAgICB2YXIgbCwgdSwgYywgcCA9
IFQgKyAiICIgKyBhOw0KICAgICAgICAgICAgICAgICAgICBpZiAocykgew0KICAg
ICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHQgPSB0W3JdKQ0KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGlmICgoMSA9PT0gdC5ub2RlVHlwZSB8fCBvKSAm
JiBlKHQsIG4sIHMpKSByZXR1cm4gITANCiAgICAgICAgICAgICAgICAgICAgfSBl
bHNlDQogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAodCA9IHRbcl0pDQog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDEgPT09IHQubm9kZVR5cGUg
fHwgbykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPSB0
W2JdIHx8ICh0W2JdID0ge30pLCAodSA9IGNbcl0pICYmIHVbMF0gPT09IHApIHsN
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgobCA9IHVb
MV0pID09PSAhMCB8fCBsID09PSBpKSByZXR1cm4gbCA9PT0gITANCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh1ID0gY1tyXSA9IFtw
XSwgdVsxXSA9IGUodCwgbiwgcykgfHwgaSwgdVsxXSA9PT0gITApIHJldHVybiAh
MA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAg
ICAgZnVuY3Rpb24gYnQoZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBlLmxl
bmd0aCA+IDEgPyBmdW5jdGlvbih0LCBuLCByKSB7DQogICAgICAgICAgICAgICAg
ICAgIHZhciBpID0gZS5sZW5ndGg7DQogICAgICAgICAgICAgICAgICAgIHdoaWxl
IChpLS0pDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVbaV0odCwgbiwg
cikpIHJldHVybiAhMTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEwDQog
ICAgICAgICAgICAgICAgfSA6IGVbMF0NCiAgICAgICAgICAgIH0NCg0KICAgICAg
ICAgICAgZnVuY3Rpb24geHQoZSwgdCwgbiwgciwgaSkgew0KICAgICAgICAgICAg
ICAgIHZhciBvLCBhID0gW10sDQogICAgICAgICAgICAgICAgICAgIHMgPSAwLA0K
ICAgICAgICAgICAgICAgICAgICBsID0gZS5sZW5ndGgsDQogICAgICAgICAgICAg
ICAgICAgIHUgPSBudWxsICE9IHQ7DQogICAgICAgICAgICAgICAgZm9yICg7IGwg
PiBzOyBzKyspKG8gPSBlW3NdKSAmJiAoIW4gfHwgbihvLCByLCBpKSkgJiYgKGEu
cHVzaChvKSwgdSAmJiB0LnB1c2gocykpOw0KICAgICAgICAgICAgICAgIHJldHVy
biBhDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGZ1bmN0aW9uIHd0KGUs
IHQsIG4sIHIsIGksIG8pIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gciAmJiAh
cltiXSAmJiAociA9IHd0KHIpKSwgaSAmJiAhaVtiXSAmJiAoaSA9IHd0KGksIG8p
KSwgbHQoZnVuY3Rpb24obywgYSwgcywgbCkgew0KICAgICAgICAgICAgICAgICAg
ICB2YXIgdSwgYywgcCwgZiA9IFtdLA0KICAgICAgICAgICAgICAgICAgICAgICAg
ZCA9IFtdLA0KICAgICAgICAgICAgICAgICAgICAgICAgaCA9IGEubGVuZ3RoLA0K
ICAgICAgICAgICAgICAgICAgICAgICAgZyA9IG8gfHwgTnQodCB8fCAiKiIsIHMu
bm9kZVR5cGUgPyBbc10gOiBzLCBbXSksDQogICAgICAgICAgICAgICAgICAgICAg
ICBtID0gIWUgfHwgIW8gJiYgdCA/IGcgOiB4dChnLCBmLCBlLCBzLCBsKSwNCiAg
ICAgICAgICAgICAgICAgICAgICAgIHkgPSBuID8gaSB8fCAobyA/IGUgOiBoIHx8
IHIpID8gW10gOiBhIDogbTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKG4gJiYg
bihtLCB5LCBzLCBsKSwgcikgew0KICAgICAgICAgICAgICAgICAgICAgICAgdSA9
IHh0KHksIGQpLCByKHUsIFtdLCBzLCBsKSwgYyA9IHUubGVuZ3RoOw0KICAgICAg
ICAgICAgICAgICAgICAgICAgd2hpbGUgKGMtLSkocCA9IHVbY10pICYmICh5W2Rb
Y11dID0gIShtW2RbY11dID0gcCkpDQogICAgICAgICAgICAgICAgICAgIH0NCiAg
ICAgICAgICAgICAgICAgICAgaWYgKG8pIHsNCiAgICAgICAgICAgICAgICAgICAg
ICAgIGlmIChpIHx8IGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBp
ZiAoaSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0gW10s
IGMgPSB5Lmxlbmd0aDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
d2hpbGUgKGMtLSkocCA9IHlbY10pICYmIHUucHVzaChtW2NdID0gcCk7DQogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkobnVsbCwgeSA9IFtdLCB1LCBs
KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBjID0geS5sZW5ndGg7DQogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgd2hpbGUgKGMtLSkocCA9IHlbY10pICYmICh1ID0gaSA/IEYuY2Fs
bChvLCBwKSA6IGZbY10pID4gLTEgJiYgKG9bdV0gPSAhKGFbdV0gPSBwKSkNCiAg
ICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSBl
bHNlIHkgPSB4dCh5ID09PSBhID8geS5zcGxpY2UoaCwgeS5sZW5ndGgpIDogeSks
IGkgPyBpKG51bGwsIGEsIHksIGwpIDogTS5hcHBseShhLCB5KQ0KICAgICAgICAg
ICAgICAgIH0pDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGZ1bmN0aW9u
IFR0KGUpIHsNCiAgICAgICAgICAgICAgICB2YXIgdCwgbiwgciwgaSA9IGUubGVu
Z3RoLA0KICAgICAgICAgICAgICAgICAgICBhID0gby5yZWxhdGl2ZVtlWzBdLnR5
cGVdLA0KICAgICAgICAgICAgICAgICAgICBzID0gYSB8fCBvLnJlbGF0aXZlWyIg
Il0sDQogICAgICAgICAgICAgICAgICAgIGwgPSBhID8gMSA6IDAsDQogICAgICAg
ICAgICAgICAgICAgIGMgPSB2dChmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAg
ICAgICAgICAgICByZXR1cm4gZSA9PT0gdA0KICAgICAgICAgICAgICAgICAgICB9
LCBzLCAhMCksDQogICAgICAgICAgICAgICAgICAgIHAgPSB2dChmdW5jdGlvbihl
KSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRi5jYWxsKHQsIGUp
ID4gLTENCiAgICAgICAgICAgICAgICAgICAgfSwgcywgITApLA0KICAgICAgICAg
ICAgICAgICAgICBmID0gW2Z1bmN0aW9uKGUsIG4sIHIpIHsNCiAgICAgICAgICAg
ICAgICAgICAgICAgIHJldHVybiAhYSAmJiAociB8fCBuICE9PSB1KSB8fCAoKHQg
PSBuKS5ub2RlVHlwZSA/IGMoZSwgbiwgcikgOiBwKGUsIG4sIHIpKQ0KICAgICAg
ICAgICAgICAgICAgICB9XTsNCiAgICAgICAgICAgICAgICBmb3IgKDsgaSA+IGw7
IGwrKykNCiAgICAgICAgICAgICAgICAgICAgaWYgKG4gPSBvLnJlbGF0aXZlW2Vb
bF0udHlwZV0pIGYgPSBbdnQoYnQoZiksIG4pXTsNCiAgICAgICAgICAgICAgICAg
ICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAobiA9IG8uZmls
dGVyW2VbbF0udHlwZV0uYXBwbHkobnVsbCwgZVtsXS5tYXRjaGVzKSwgbltiXSkg
ew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAociA9ICsrbDsgaSA+
IHI7IHIrKykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8u
cmVsYXRpdmVbZVtyXS50eXBlXSkgYnJlYWs7DQogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgcmV0dXJuIHd0KGwgPiAxICYmIGJ0KGYpLCBsID4gMSAmJiB5dChl
LnNsaWNlKDAsIGwgLSAxKS5jb25jYXQoew0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICB2YWx1ZTogIiAiID09PSBlW2wgLSAyXS50eXBlID8gIioiIDog
IiINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkucmVwbGFjZSh6LCAi
JDEiKSwgbiwgciA+IGwgJiYgVHQoZS5zbGljZShsLCByKSksIGkgPiByICYmIFR0
KGUgPSBlLnNsaWNlKHIpKSwgaSA+IHIgJiYgeXQoZSkpDQogICAgICAgICAgICAg
ICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBmLnB1c2gobikN
CiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiBi
dChmKQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBmdW5jdGlvbiBDdChl
LCB0KSB7DQogICAgICAgICAgICAgICAgdmFyIG4gPSAwLA0KICAgICAgICAgICAg
ICAgICAgICByID0gdC5sZW5ndGggPiAwLA0KICAgICAgICAgICAgICAgICAgICBh
ID0gZS5sZW5ndGggPiAwLA0KICAgICAgICAgICAgICAgICAgICBzID0gZnVuY3Rp
b24ocywgbCwgYywgcCwgZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFy
IGgsIGcsIG0sIHkgPSBbXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2
ID0gMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiID0gIjAiLA0KICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHggPSBzICYmIFtdLA0KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHcgPSBudWxsICE9IGQsDQogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgQyA9IHUsDQogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgTiA9IHMgfHwgYSAmJiBvLmZpbmQuVEFHKCIqIiwgZCAmJiBsLnBhcmVudE5v
ZGUgfHwgbCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgayA9IFQgKz0g
bnVsbCA9PSBDID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgLjE7DQogICAgICAgICAg
ICAgICAgICAgICAgICBmb3IgKHcgJiYgKHUgPSBsICE9PSBmICYmIGwsIGkgPSBu
KTsgbnVsbCAhPSAoaCA9IE5bYl0pOyBiKyspIHsNCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBpZiAoYSAmJiBoKSB7DQogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGcgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICB3aGlsZSAobSA9IGVbZysrXSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGlmIChtKGgsIGwsIGMpKSB7DQogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgcC5wdXNoKGgpOw0KICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHcgJiYgKFQgPSBrLCBpID0gKytuKQ0KICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByICYmICgo
aCA9ICFtICYmIGgpICYmIHYtLSwgcyAmJiB4LnB1c2goaCkpDQogICAgICAgICAg
ICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodiAr
PSBiLCByICYmIGIgIT09IHYpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBnID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobSA9
IHRbZysrXSkgbSh4LCB5LCBsLCBjKTsNCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBpZiAocykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBp
ZiAodiA+IDApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3
aGlsZSAoYi0tKSB4W2JdIHx8IHlbYl0gfHwgKHlbYl0gPSBxLmNhbGwocCkpOw0K
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0geHQoeSkNCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgTS5hcHBseShwLCB5KSwgdyAmJiAhcyAmJiB5Lmxlbmd0aCA+IDAgJiYg
diArIHQubGVuZ3RoID4gMSAmJiBhdC51bmlxdWVTb3J0KHApDQogICAgICAgICAg
ICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4g
dyAmJiAoVCA9IGssIHUgPSBDKSwgeA0KICAgICAgICAgICAgICAgICAgICB9Ow0K
ICAgICAgICAgICAgICAgIHJldHVybiByID8gbHQocykgOiBzDQogICAgICAgICAg
ICB9DQogICAgICAgICAgICBsID0gYXQuY29tcGlsZSA9IGZ1bmN0aW9uKGUsIHQp
IHsNCiAgICAgICAgICAgICAgICB2YXIgbiwgciA9IFtdLA0KICAgICAgICAgICAg
ICAgICAgICBpID0gW10sDQogICAgICAgICAgICAgICAgICAgIG8gPSBFW2UgKyAi
ICJdOw0KICAgICAgICAgICAgICAgIGlmICghbykgew0KICAgICAgICAgICAgICAg
ICAgICB0IHx8ICh0ID0gbXQoZSkpLCBuID0gdC5sZW5ndGg7DQogICAgICAgICAg
ICAgICAgICAgIHdoaWxlIChuLS0pIG8gPSBUdCh0W25dKSwgb1tiXSA/IHIucHVz
aChvKSA6IGkucHVzaChvKTsNCiAgICAgICAgICAgICAgICAgICAgbyA9IEUoZSwg
Q3QoaSwgcikpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJl
dHVybiBvDQogICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICBmdW5jdGlvbiBO
dChlLCB0LCBuKSB7DQogICAgICAgICAgICAgICAgdmFyIHIgPSAwLA0KICAgICAg
ICAgICAgICAgICAgICBpID0gdC5sZW5ndGg7DQogICAgICAgICAgICAgICAgZm9y
ICg7IGkgPiByOyByKyspIGF0KGUsIHRbcl0sIG4pOw0KICAgICAgICAgICAgICAg
IHJldHVybiBuDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGZ1bmN0aW9u
IGt0KGUsIHQsIG4sIGkpIHsNCiAgICAgICAgICAgICAgICB2YXIgYSwgcywgdSwg
YywgcCwgZiA9IG10KGUpOw0KICAgICAgICAgICAgICAgIGlmICghaSAmJiAxID09
PSBmLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICBpZiAocyA9IGZbMF0g
PSBmWzBdLnNsaWNlKDApLCBzLmxlbmd0aCA+IDIgJiYgIklEIiA9PT0gKHUgPSBz
WzBdKS50eXBlICYmIHIuZ2V0QnlJZCAmJiA5ID09PSB0Lm5vZGVUeXBlICYmIGgg
JiYgby5yZWxhdGl2ZVtzWzFdLnR5cGVdKSB7DQogICAgICAgICAgICAgICAgICAg
ICAgICBpZiAodCA9IChvLmZpbmQuSUQodS5tYXRjaGVzWzBdLnJlcGxhY2UocnQs
IGl0KSwgdCkgfHwgW10pWzBdLCAhdCkgcmV0dXJuIG47DQogICAgICAgICAgICAg
ICAgICAgICAgICBlID0gZS5zbGljZShzLnNoaWZ0KCkudmFsdWUubGVuZ3RoKQ0K
ICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGEgPSBR
Lm5lZWRzQ29udGV4dC50ZXN0KGUpID8gMCA6IHMubGVuZ3RoOw0KICAgICAgICAg
ICAgICAgICAgICB3aGlsZSAoYS0tKSB7DQogICAgICAgICAgICAgICAgICAgICAg
ICBpZiAodSA9IHNbYV0sIG8ucmVsYXRpdmVbYyA9IHUudHlwZV0pIGJyZWFrOw0K
ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChwID0gby5maW5kW2NdKSAmJiAo
aSA9IHAodS5tYXRjaGVzWzBdLnJlcGxhY2UocnQsIGl0KSwgVi50ZXN0KHNbMF0u
dHlwZSkgJiYgdC5wYXJlbnROb2RlIHx8IHQpKSkgew0KICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGlmIChzLnNwbGljZShhLCAxKSwgZSA9IGkubGVuZ3RoICYm
IHl0KHMpLCAhZSkgcmV0dXJuIE0uYXBwbHkobiwgaSksIG47DQogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAg
IH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAg
ICAgICAgICAgICAgICByZXR1cm4gbChlLCBmKShpLCB0LCAhaCwgbiwgVi50ZXN0
KGUpKSwgbg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgci5zb3J0U3RhYmxl
ID0gYi5zcGxpdCgiIikuc29ydChBKS5qb2luKCIiKSA9PT0gYiwgci5kZXRlY3RE
dXBsaWNhdGVzID0gUywgcCgpLCByLnNvcnREZXRhY2hlZCA9IHV0KGZ1bmN0aW9u
KGUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gMSAmIGUuY29tcGFyZURvY3Vt
ZW50UG9zaXRpb24oZi5jcmVhdGVFbGVtZW50KCJkaXYiKSkNCiAgICAgICAgICAg
IH0pLCB1dChmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGUu
aW5uZXJIVE1MID0gIjxhIGhyZWY9JyMnPjwvYT4iLCAiIyIgPT09IGUuZmlyc3RD
aGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKQ0KICAgICAgICAgICAgfSkgfHwgY3Qo
InR5cGV8aHJlZnxoZWlnaHR8d2lkdGgiLCBmdW5jdGlvbihlLCBuLCByKSB7DQog
ICAgICAgICAgICAgICAgcmV0dXJuIHIgPyB0IDogZS5nZXRBdHRyaWJ1dGUobiwg
InR5cGUiID09PSBuLnRvTG93ZXJDYXNlKCkgPyAxIDogMikNCiAgICAgICAgICAg
IH0pLCByLmF0dHJpYnV0ZXMgJiYgdXQoZnVuY3Rpb24oZSkgew0KICAgICAgICAg
ICAgICAgIHJldHVybiBlLmlubmVySFRNTCA9ICI8aW5wdXQvPiIsIGUuZmlyc3RD
aGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwgIiIpLCAiIiA9PT0gZS5maXJzdENo
aWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKQ0KICAgICAgICAgICAgfSkgfHwgY3Qo
InZhbHVlIiwgZnVuY3Rpb24oZSwgbiwgcikgew0KICAgICAgICAgICAgICAgIHJl
dHVybiByIHx8ICJpbnB1dCIgIT09IGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA/
IHQgOiBlLmRlZmF1bHRWYWx1ZQ0KICAgICAgICAgICAgfSksIHV0KGZ1bmN0aW9u
KGUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbCA9PSBlLmdldEF0dHJp
YnV0ZSgiZGlzYWJsZWQiKQ0KICAgICAgICAgICAgfSkgfHwgY3QoQiwgZnVuY3Rp
b24oZSwgbiwgcikgew0KICAgICAgICAgICAgICAgIHZhciBpOw0KICAgICAgICAg
ICAgICAgIHJldHVybiByID8gdCA6IChpID0gZS5nZXRBdHRyaWJ1dGVOb2RlKG4p
KSAmJiBpLnNwZWNpZmllZCA/IGkudmFsdWUgOiBlW25dID09PSAhMCA/IG4udG9M
b3dlckNhc2UoKSA6IG51bGwNCiAgICAgICAgICAgIH0pLCB4LmZpbmQgPSBhdCwg
eC5leHByID0gYXQuc2VsZWN0b3JzLCB4LmV4cHJbIjoiXSA9IHguZXhwci5wc2V1
ZG9zLCB4LnVuaXF1ZSA9IGF0LnVuaXF1ZVNvcnQsIHgudGV4dCA9IGF0LmdldFRl
eHQsIHguaXNYTUxEb2MgPSBhdC5pc1hNTCwgeC5jb250YWlucyA9IGF0LmNvbnRh
aW5zDQogICAgICAgIH0oZSk7DQogICAgdmFyIE8gPSB7fTsNCg0KICAgIGZ1bmN0
aW9uIEYoZSkgew0KICAgICAgICB2YXIgdCA9IE9bZV0gPSB7fTsNCiAgICAgICAg
cmV0dXJuIHguZWFjaChlLm1hdGNoKFQpIHx8IFtdLCBmdW5jdGlvbihlLCBuKSB7
DQogICAgICAgICAgICB0W25dID0gITANCiAgICAgICAgfSksIHQNCiAgICB9DQog
ICAgeC5DYWxsYmFja3MgPSBmdW5jdGlvbihlKSB7DQogICAgICAgIGUgPSAic3Ry
aW5nIiA9PSB0eXBlb2YgZSA/IE9bZV0gfHwgRihlKSA6IHguZXh0ZW5kKHt9LCBl
KTsNCiAgICAgICAgdmFyIG4sIHIsIGksIG8sIGEsIHMsIGwgPSBbXSwNCiAgICAg
ICAgICAgIHUgPSAhZS5vbmNlICYmIFtdLA0KICAgICAgICAgICAgYyA9IGZ1bmN0
aW9uKHQpIHsNCiAgICAgICAgICAgICAgICBmb3IgKHIgPSBlLm1lbW9yeSAmJiB0
LCBpID0gITAsIGEgPSBzIHx8IDAsIHMgPSAwLCBvID0gbC5sZW5ndGgsIG4gPSAh
MDsgbCAmJiBvID4gYTsgYSsrKQ0KICAgICAgICAgICAgICAgICAgICBpZiAobFth
XS5hcHBseSh0WzBdLCB0WzFdKSA9PT0gITEgJiYgZS5zdG9wT25GYWxzZSkgew0K
ICAgICAgICAgICAgICAgICAgICAgICAgciA9ICExOw0KICAgICAgICAgICAgICAg
ICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAg
ICAgICAgIG4gPSAhMSwgbCAmJiAodSA/IHUubGVuZ3RoICYmIGModS5zaGlmdCgp
KSA6IHIgPyBsID0gW10gOiBwLmRpc2FibGUoKSkNCiAgICAgICAgICAgIH0sDQog
ICAgICAgICAgICBwID0gew0KICAgICAgICAgICAgICAgIGFkZDogZnVuY3Rpb24o
KSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChsKSB7DQogICAgICAgICAgICAg
ICAgICAgICAgICB2YXIgdCA9IGwubGVuZ3RoOw0KICAgICAgICAgICAgICAgICAg
ICAgICAgKGZ1bmN0aW9uIGkodCkgew0KICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHguZWFjaCh0LCBmdW5jdGlvbih0LCBuKSB7DQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHZhciByID0geC50eXBlKG4pOw0KICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAiZnVuY3Rpb24iID09PSByID8gZS51bmlxdWUg
JiYgcC5oYXMobikgfHwgbC5wdXNoKG4pIDogbiAmJiBuLmxlbmd0aCAmJiAic3Ry
aW5nIiAhPT0gciAmJiBpKG4pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
fSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pKGFyZ3VtZW50cyksIG4gPyBv
ID0gbC5sZW5ndGggOiByICYmIChzID0gdCwgYyhyKSkNCiAgICAgICAgICAgICAg
ICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcw0KICAgICAg
ICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbigp
IHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGwgJiYgeC5lYWNoKGFyZ3Vt
ZW50cywgZnVuY3Rpb24oZSwgdCkgew0KICAgICAgICAgICAgICAgICAgICAgICAg
dmFyIHI7DQogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKHIgPSB4Lmlu
QXJyYXkodCwgbCwgcikpID4gLTEpIGwuc3BsaWNlKHIsIDEpLCBuICYmIChvID49
IHIgJiYgby0tLCBhID49IHIgJiYgYS0tKQ0KICAgICAgICAgICAgICAgICAgICB9
KSwgdGhpcw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgaGFz
OiBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBlID8g
eC5pbkFycmF5KGUsIGwpID4gLTEgOiAhKCFsIHx8ICFsLmxlbmd0aCkNCiAgICAg
ICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGVtcHR5OiBmdW5jdGlvbigp
IHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGwgPSBbXSwgbyA9IDAsIHRo
aXMNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGRpc2FibGU6
IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gbCA9IHUg
PSByID0gdCwgdGhpcw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAg
ICAgZGlzYWJsZWQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICBy
ZXR1cm4gIWwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGxv
Y2s6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdSA9
IHQsIHIgfHwgcC5kaXNhYmxlKCksIHRoaXMNCiAgICAgICAgICAgICAgICB9LA0K
ICAgICAgICAgICAgICAgIGxvY2tlZDogZnVuY3Rpb24oKSB7DQogICAgICAgICAg
ICAgICAgICAgIHJldHVybiAhdQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAg
ICAgICAgICAgZmlyZVdpdGg6IGZ1bmN0aW9uKGUsIHQpIHsNCiAgICAgICAgICAg
ICAgICAgICAgcmV0dXJuICFsIHx8IGkgJiYgIXUgfHwgKHQgPSB0IHx8IFtdLCB0
ID0gW2UsIHQuc2xpY2UgPyB0LnNsaWNlKCkgOiB0XSwgbiA/IHUucHVzaCh0KSA6
IGModCkpLCB0aGlzDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAg
ICBmaXJlOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJu
IHAuZmlyZVdpdGgodGhpcywgYXJndW1lbnRzKSwgdGhpcw0KICAgICAgICAgICAg
ICAgIH0sDQogICAgICAgICAgICAgICAgZmlyZWQ6IGZ1bmN0aW9uKCkgew0KICAg
ICAgICAgICAgICAgICAgICByZXR1cm4gISFpDQogICAgICAgICAgICAgICAgfQ0K
ICAgICAgICAgICAgfTsNCiAgICAgICAgcmV0dXJuIHANCiAgICB9LCB4LmV4dGVu
ZCh7DQogICAgICAgIERlZmVycmVkOiBmdW5jdGlvbihlKSB7DQogICAgICAgICAg
ICB2YXIgdCA9IFsNCiAgICAgICAgICAgICAgICAgICAgWyJyZXNvbHZlIiwgImRv
bmUiLCB4LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwgInJlc29sdmVkIl0sDQog
ICAgICAgICAgICAgICAgICAgIFsicmVqZWN0IiwgImZhaWwiLCB4LkNhbGxiYWNr
cygib25jZSBtZW1vcnkiKSwgInJlamVjdGVkIl0sDQogICAgICAgICAgICAgICAg
ICAgIFsibm90aWZ5IiwgInByb2dyZXNzIiwgeC5DYWxsYmFja3MoIm1lbW9yeSIp
XQ0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgbiA9ICJwZW5k
aW5nIiwNCiAgICAgICAgICAgICAgICByID0gew0KICAgICAgICAgICAgICAgICAg
ICBzdGF0ZTogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBy
ZXR1cm4gbg0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAg
ICAgICBhbHdheXM6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICAg
ICAgcmV0dXJuIGkuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSwgdGhp
cw0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICB0
aGVuOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBl
ID0gYXJndW1lbnRzOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHgu
RGVmZXJyZWQoZnVuY3Rpb24obikgew0KICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHguZWFjaCh0LCBmdW5jdGlvbih0LCBvKSB7DQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHZhciBhID0gb1swXSwNCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHMgPSB4LmlzRnVuY3Rpb24oZVt0XSkgJiYgZVt0
XTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaVtvWzFdXShmdW5j
dGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZh
ciBlID0gcyAmJiBzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7DQogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBlICYmIHguaXNGdW5jdGlvbihlLnBy
b21pc2UpID8gZS5wcm9taXNlKCkuZG9uZShuLnJlc29sdmUpLmZhaWwobi5yZWpl
Y3QpLnByb2dyZXNzKG4ubm90aWZ5KSA6IG5bYSArICJXaXRoIl0odGhpcyA9PT0g
ciA/IG4ucHJvbWlzZSgpIDogdGhpcywgcyA/IFtlXSA6IGFyZ3VtZW50cykNCiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB9KSwgZSA9IG51bGwNCiAgICAgICAgICAgICAgICAgICAg
ICAgIH0pLnByb21pc2UoKQ0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAg
ICAgICAgICAgICAgICBwcm9taXNlOiBmdW5jdGlvbihlKSB7DQogICAgICAgICAg
ICAgICAgICAgICAgICByZXR1cm4gbnVsbCAhPSBlID8geC5leHRlbmQoZSwgcikg
OiByDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9LA0K
ICAgICAgICAgICAgICAgIGkgPSB7fTsNCiAgICAgICAgICAgIHJldHVybiByLnBp
cGUgPSByLnRoZW4sIHguZWFjaCh0LCBmdW5jdGlvbihlLCBvKSB7DQogICAgICAg
ICAgICAgICAgdmFyIGEgPSBvWzJdLA0KICAgICAgICAgICAgICAgICAgICBzID0g
b1szXTsNCiAgICAgICAgICAgICAgICByW29bMV1dID0gYS5hZGQsIHMgJiYgYS5h
ZGQoZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgIG4gPSBzDQogICAg
ICAgICAgICAgICAgfSwgdFsxIF4gZV1bMl0uZGlzYWJsZSwgdFsyXVsyXS5sb2Nr
KSwgaVtvWzBdXSA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICBy
ZXR1cm4gaVtvWzBdICsgIldpdGgiXSh0aGlzID09PSBpID8gciA6IHRoaXMsIGFy
Z3VtZW50cyksIHRoaXMNCiAgICAgICAgICAgICAgICB9LCBpW29bMF0gKyAiV2l0
aCJdID0gYS5maXJlV2l0aA0KICAgICAgICAgICAgfSksIHIucHJvbWlzZShpKSwg
ZSAmJiBlLmNhbGwoaSwgaSksIGkNCiAgICAgICAgfSwNCiAgICAgICAgd2hlbjog
ZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgdmFyIHQgPSAwLA0KICAgICAgICAg
ICAgICAgIG4gPSBnLmNhbGwoYXJndW1lbnRzKSwNCiAgICAgICAgICAgICAgICBy
ID0gbi5sZW5ndGgsDQogICAgICAgICAgICAgICAgaSA9IDEgIT09IHIgfHwgZSAm
JiB4LmlzRnVuY3Rpb24oZS5wcm9taXNlKSA/IHIgOiAwLA0KICAgICAgICAgICAg
ICAgIG8gPSAxID09PSBpID8gZSA6IHguRGVmZXJyZWQoKSwNCiAgICAgICAgICAg
ICAgICBhID0gZnVuY3Rpb24oZSwgdCwgbikgew0KICAgICAgICAgICAgICAgICAg
ICByZXR1cm4gZnVuY3Rpb24ocikgew0KICAgICAgICAgICAgICAgICAgICAgICAg
dFtlXSA9IHRoaXMsIG5bZV0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGcuY2Fs
bChhcmd1bWVudHMpIDogciwgbiA9PT0gcyA/IG8ubm90aWZ5V2l0aCh0LCBuKSA6
IC0taSB8fCBvLnJlc29sdmVXaXRoKHQsIG4pDQogICAgICAgICAgICAgICAgICAg
IH0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHMsIGwsIHU7
DQogICAgICAgICAgICBpZiAociA+IDEpDQogICAgICAgICAgICAgICAgZm9yIChz
ID0gQXJyYXkociksIGwgPSBBcnJheShyKSwgdSA9IEFycmF5KHIpOyByID4gdDsg
dCsrKSBuW3RdICYmIHguaXNGdW5jdGlvbihuW3RdLnByb21pc2UpID8gblt0XS5w
cm9taXNlKCkuZG9uZShhKHQsIHUsIG4pKS5mYWlsKG8ucmVqZWN0KS5wcm9ncmVz
cyhhKHQsIGwsIHMpKSA6IC0taTsNCiAgICAgICAgICAgIHJldHVybiBpIHx8IG8u
cmVzb2x2ZVdpdGgodSwgbiksIG8ucHJvbWlzZSgpDQogICAgICAgIH0NCiAgICB9
KSwgeC5zdXBwb3J0ID0gZnVuY3Rpb24odCkgew0KICAgICAgICB2YXIgbiwgciwg
bywgcywgbCwgdSwgYywgcCwgZiwgZCA9IGEuY3JlYXRlRWxlbWVudCgiZGl2Iik7
DQogICAgICAgIGlmIChkLnNldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIiwgInQiKSwg
ZC5pbm5lckhUTUwgPSAiICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0n
L2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IiwgbiA9IGQuZ2V0RWxl
bWVudHNCeVRhZ05hbWUoIioiKSB8fCBbXSwgciA9IGQuZ2V0RWxlbWVudHNCeVRh
Z05hbWUoImEiKVswXSwgIXIgfHwgIXIuc3R5bGUgfHwgIW4ubGVuZ3RoKSByZXR1
cm4gdDsNCiAgICAgICAgcyA9IGEuY3JlYXRlRWxlbWVudCgic2VsZWN0IiksIHUg
PSBzLmFwcGVuZENoaWxkKGEuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLCBvID0g
ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVswXSwgci5zdHlsZS5jc3NU
ZXh0ID0gInRvcDoxcHg7ZmxvYXQ6bGVmdDtvcGFjaXR5Oi41IiwgdC5nZXRTZXRB
dHRyaWJ1dGUgPSAidCIgIT09IGQuY2xhc3NOYW1lLCB0LmxlYWRpbmdXaGl0ZXNw
YWNlID0gMyA9PT0gZC5maXJzdENoaWxkLm5vZGVUeXBlLCB0LnRib2R5ID0gIWQu
Z2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IikubGVuZ3RoLCB0Lmh0bWxTZXJp
YWxpemUgPSAhIWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKS5sZW5ndGgs
IHQuc3R5bGUgPSAvdG9wLy50ZXN0KHIuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKSwg
dC5ocmVmTm9ybWFsaXplZCA9ICIvYSIgPT09IHIuZ2V0QXR0cmlidXRlKCJocmVm
IiksIHQub3BhY2l0eSA9IC9eMC41Ly50ZXN0KHIuc3R5bGUub3BhY2l0eSksIHQu
Y3NzRmxvYXQgPSAhIXIuc3R5bGUuY3NzRmxvYXQsIHQuY2hlY2tPbiA9ICEhby52
YWx1ZSwgdC5vcHRTZWxlY3RlZCA9IHUuc2VsZWN0ZWQsIHQuZW5jdHlwZSA9ICEh
YS5jcmVhdGVFbGVtZW50KCJmb3JtIikuZW5jdHlwZSwgdC5odG1sNUNsb25lID0g
Ijw6bmF2PjwvOm5hdj4iICE9PSBhLmNyZWF0ZUVsZW1lbnQoIm5hdiIpLmNsb25l
Tm9kZSghMCkub3V0ZXJIVE1MLCB0LmlubGluZUJsb2NrTmVlZHNMYXlvdXQgPSAh
MSwgdC5zaHJpbmtXcmFwQmxvY2tzID0gITEsIHQucGl4ZWxQb3NpdGlvbiA9ICEx
LCB0LmRlbGV0ZUV4cGFuZG8gPSAhMCwgdC5ub0Nsb25lRXZlbnQgPSAhMCwgdC5y
ZWxpYWJsZU1hcmdpblJpZ2h0ID0gITAsIHQuYm94U2l6aW5nUmVsaWFibGUgPSAh
MCwgby5jaGVja2VkID0gITAsIHQubm9DbG9uZUNoZWNrZWQgPSBvLmNsb25lTm9k
ZSghMCkuY2hlY2tlZCwgcy5kaXNhYmxlZCA9ICEwLCB0Lm9wdERpc2FibGVkID0g
IXUuZGlzYWJsZWQ7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBkZWxldGUg
ZC50ZXN0DQogICAgICAgIH0gY2F0Y2ggKGgpIHsNCiAgICAgICAgICAgIHQuZGVs
ZXRlRXhwYW5kbyA9ICExDQogICAgICAgIH0NCiAgICAgICAgbyA9IGEuY3JlYXRl
RWxlbWVudCgiaW5wdXQiKSwgby5zZXRBdHRyaWJ1dGUoInZhbHVlIiwgIiIpLCB0
LmlucHV0ID0gIiIgPT09IG8uZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpLCBvLnZhbHVl
ID0gInQiLCBvLnNldEF0dHJpYnV0ZSgidHlwZSIsICJyYWRpbyIpLCB0LnJhZGlv
VmFsdWUgPSAidCIgPT09IG8udmFsdWUsIG8uc2V0QXR0cmlidXRlKCJjaGVja2Vk
IiwgInQiKSwgby5zZXRBdHRyaWJ1dGUoIm5hbWUiLCAidCIpLCBsID0gYS5jcmVh
dGVEb2N1bWVudEZyYWdtZW50KCksIGwuYXBwZW5kQ2hpbGQobyksIHQuYXBwZW5k
Q2hlY2tlZCA9IG8uY2hlY2tlZCwgdC5jaGVja0Nsb25lID0gbC5jbG9uZU5vZGUo
ITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsIGQuYXR0YWNoRXZl
bnQgJiYgKGQuYXR0YWNoRXZlbnQoIm9uY2xpY2siLCBmdW5jdGlvbigpIHsNCiAg
ICAgICAgICAgIHQubm9DbG9uZUV2ZW50ID0gITENCiAgICAgICAgfSksIGQuY2xv
bmVOb2RlKCEwKS5jbGljaygpKTsNCiAgICAgICAgZm9yIChmIGluIHsNCiAgICAg
ICAgICAgICAgICBzdWJtaXQ6ICEwLA0KICAgICAgICAgICAgICAgIGNoYW5nZTog
ITAsDQogICAgICAgICAgICAgICAgZm9jdXNpbjogITANCiAgICAgICAgICAgIH0p
IGQuc2V0QXR0cmlidXRlKGMgPSAib24iICsgZiwgInQiKSwgdFtmICsgIkJ1YmJs
ZXMiXSA9IGMgaW4gZSB8fCBkLmF0dHJpYnV0ZXNbY10uZXhwYW5kbyA9PT0gITE7
DQogICAgICAgIGQuc3R5bGUuYmFja2dyb3VuZENsaXAgPSAiY29udGVudC1ib3gi
LCBkLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXAgPSAiIiwgdC5j
bGVhckNsb25lU3R5bGUgPSAiY29udGVudC1ib3giID09PSBkLnN0eWxlLmJhY2tn
cm91bmRDbGlwOw0KICAgICAgICBmb3IgKGYgaW4geCh0KSkgYnJlYWs7DQogICAg
ICAgIHJldHVybiB0Lm93bkxhc3QgPSAiMCIgIT09IGYsIHgoZnVuY3Rpb24oKSB7
DQogICAgICAgICAgICB2YXIgbiwgciwgbywgcyA9ICJwYWRkaW5nOjA7bWFyZ2lu
OjA7Ym9yZGVyOjA7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmNvbnRlbnQtYm94
Oy1tb3otYm94LXNpemluZzpjb250ZW50LWJveDstd2Via2l0LWJveC1zaXppbmc6
Y29udGVudC1ib3g7IiwNCiAgICAgICAgICAgICAgICBsID0gYS5nZXRFbGVtZW50
c0J5VGFnTmFtZSgiYm9keSIpWzBdOw0KICAgICAgICAgICAgbCAmJiAobiA9IGEu
Y3JlYXRlRWxlbWVudCgiZGl2IiksIG4uc3R5bGUuY3NzVGV4dCA9ICJib3JkZXI6
MDt3aWR0aDowO2hlaWdodDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6
LTk5OTlweDttYXJnaW4tdG9wOjFweCIsIGwuYXBwZW5kQ2hpbGQobikuYXBwZW5k
Q2hpbGQoZCksIGQuaW5uZXJIVE1MID0gIjx0YWJsZT48dHI+PHRkPjwvdGQ+PHRk
PnQ8L3RkPjwvdHI+PC90YWJsZT4iLCBvID0gZC5nZXRFbGVtZW50c0J5VGFnTmFt
ZSgidGQiKSwgb1swXS5zdHlsZS5jc3NUZXh0ID0gInBhZGRpbmc6MDttYXJnaW46
MDtib3JkZXI6MDtkaXNwbGF5Om5vbmUiLCBwID0gMCA9PT0gb1swXS5vZmZzZXRI
ZWlnaHQsIG9bMF0uc3R5bGUuZGlzcGxheSA9ICIiLCBvWzFdLnN0eWxlLmRpc3Bs
YXkgPSAibm9uZSIsIHQucmVsaWFibGVIaWRkZW5PZmZzZXRzID0gcCAmJiAwID09
PSBvWzBdLm9mZnNldEhlaWdodCwgZC5pbm5lckhUTUwgPSAiIiwgZC5zdHlsZS5j
c3NUZXh0ID0gImJveC1zaXppbmc6Ym9yZGVyLWJveDstbW96LWJveC1zaXppbmc6
Ym9yZGVyLWJveDstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtwYWRkaW5n
OjFweDtib3JkZXI6MXB4O2Rpc3BsYXk6YmxvY2s7d2lkdGg6NHB4O21hcmdpbi10
b3A6MSU7cG9zaXRpb246YWJzb2x1dGU7dG9wOjElOyIsIHguc3dhcChsLCBudWxs
ICE9IGwuc3R5bGUuem9vbSA/IHsNCiAgICAgICAgICAgICAgICB6b29tOiAxDQog
ICAgICAgICAgICB9IDoge30sIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAg
IHQuYm94U2l6aW5nID0gNCA9PT0gZC5vZmZzZXRXaWR0aA0KICAgICAgICAgICAg
fSksIGUuZ2V0Q29tcHV0ZWRTdHlsZSAmJiAodC5waXhlbFBvc2l0aW9uID0gIjEl
IiAhPT0gKGUuZ2V0Q29tcHV0ZWRTdHlsZShkLCBudWxsKSB8fCB7fSkudG9wLCB0
LmJveFNpemluZ1JlbGlhYmxlID0gIjRweCIgPT09IChlLmdldENvbXB1dGVkU3R5
bGUoZCwgbnVsbCkgfHwgew0KICAgICAgICAgICAgICAgIHdpZHRoOiAiNHB4Ig0K
ICAgICAgICAgICAgfSkud2lkdGgsIHIgPSBkLmFwcGVuZENoaWxkKGEuY3JlYXRl
RWxlbWVudCgiZGl2IikpLCByLnN0eWxlLmNzc1RleHQgPSBkLnN0eWxlLmNzc1Rl
eHQgPSBzLCByLnN0eWxlLm1hcmdpblJpZ2h0ID0gci5zdHlsZS53aWR0aCA9ICIw
IiwgZC5zdHlsZS53aWR0aCA9ICIxcHgiLCB0LnJlbGlhYmxlTWFyZ2luUmlnaHQg
PSAhcGFyc2VGbG9hdCgoZS5nZXRDb21wdXRlZFN0eWxlKHIsIG51bGwpIHx8IHt9
KS5tYXJnaW5SaWdodCkpLCB0eXBlb2YgZC5zdHlsZS56b29tICE9PSBpICYmIChk
LmlubmVySFRNTCA9ICIiLCBkLnN0eWxlLmNzc1RleHQgPSBzICsgIndpZHRoOjFw
eDtwYWRkaW5nOjFweDtkaXNwbGF5OmlubGluZTt6b29tOjEiLCB0LmlubGluZUJs
b2NrTmVlZHNMYXlvdXQgPSAzID09PSBkLm9mZnNldFdpZHRoLCBkLnN0eWxlLmRp
c3BsYXkgPSAiYmxvY2siLCBkLmlubmVySFRNTCA9ICI8ZGl2PjwvZGl2PiIsIGQu
Zmlyc3RDaGlsZC5zdHlsZS53aWR0aCA9ICI1cHgiLCB0LnNocmlua1dyYXBCbG9j
a3MgPSAzICE9PSBkLm9mZnNldFdpZHRoLCB0LmlubGluZUJsb2NrTmVlZHNMYXlv
dXQgJiYgKGwuc3R5bGUuem9vbSA9IDEpKSwgbC5yZW1vdmVDaGlsZChuKSwgbiA9
IGQgPSBvID0gciA9IG51bGwpDQogICAgICAgIH0pLCBuID0gcyA9IGwgPSB1ID0g
ciA9IG8gPSBudWxsLCB0DQogICAgfSh7fSk7DQogICAgdmFyIEIgPSAvKD86XHtb
XHNcU10qXH18XFtbXHNcU10qXF0pJC8sDQogICAgICAgIFAgPSAvKFtBLVpdKS9n
Ow0KDQogICAgZnVuY3Rpb24gUihlLCBuLCByLCBpKSB7DQogICAgICAgIGlmICh4
LmFjY2VwdERhdGEoZSkpIHsNCiAgICAgICAgICAgIHZhciBvLCBhLCBzID0geC5l
eHBhbmRvLA0KICAgICAgICAgICAgICAgIGwgPSBlLm5vZGVUeXBlLA0KICAgICAg
ICAgICAgICAgIHUgPSBsID8geC5jYWNoZSA6IGUsDQogICAgICAgICAgICAgICAg
YyA9IGwgPyBlW3NdIDogZVtzXSAmJiBzOw0KICAgICAgICAgICAgaWYgKGMgJiYg
dVtjXSAmJiAoaSB8fCB1W2NdLmRhdGEpIHx8IHIgIT09IHQgfHwgInN0cmluZyIg
IT0gdHlwZW9mIG4pIHJldHVybiBjIHx8IChjID0gbCA/IGVbc10gPSBwLnBvcCgp
IHx8IHguZ3VpZCsrIDogcyksIHVbY10gfHwgKHVbY10gPSBsID8ge30gOiB7DQog
ICAgICAgICAgICAgICAgdG9KU09OOiB4Lm5vb3ANCiAgICAgICAgICAgIH0pLCAo
Im9iamVjdCIgPT0gdHlwZW9mIG4gfHwgImZ1bmN0aW9uIiA9PSB0eXBlb2Ygbikg
JiYgKGkgPyB1W2NdID0geC5leHRlbmQodVtjXSwgbikgOiB1W2NdLmRhdGEgPSB4
LmV4dGVuZCh1W2NdLmRhdGEsIG4pKSwgYSA9IHVbY10sIGkgfHwgKGEuZGF0YSB8
fCAoYS5kYXRhID0ge30pLCBhID0gYS5kYXRhKSwgciAhPT0gdCAmJiAoYVt4LmNh
bWVsQ2FzZShuKV0gPSByKSwgInN0cmluZyIgPT0gdHlwZW9mIG4gPyAobyA9IGFb
bl0sIG51bGwgPT0gbyAmJiAobyA9IGFbeC5jYW1lbENhc2UobildKSkgOiBvID0g
YSwgbw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gVyhlLCB0LCBu
KSB7DQogICAgICAgIGlmICh4LmFjY2VwdERhdGEoZSkpIHsNCiAgICAgICAgICAg
IHZhciByLCBpLCBvID0gZS5ub2RlVHlwZSwNCiAgICAgICAgICAgICAgICBhID0g
byA/IHguY2FjaGUgOiBlLA0KICAgICAgICAgICAgICAgIHMgPSBvID8gZVt4LmV4
cGFuZG9dIDogeC5leHBhbmRvOw0KICAgICAgICAgICAgaWYgKGFbc10pIHsNCiAg
ICAgICAgICAgICAgICBpZiAodCAmJiAociA9IG4gPyBhW3NdIDogYVtzXS5kYXRh
KSkgew0KICAgICAgICAgICAgICAgICAgICB4LmlzQXJyYXkodCkgPyB0ID0gdC5j
b25jYXQoeC5tYXAodCwgeC5jYW1lbENhc2UpKSA6IHQgaW4gciA/IHQgPSBbdF0g
OiAodCA9IHguY2FtZWxDYXNlKHQpLCB0ID0gdCBpbiByID8gW3RdIDogdC5zcGxp
dCgiICIpKSwgaSA9IHQubGVuZ3RoOw0KICAgICAgICAgICAgICAgICAgICB3aGls
ZSAoaS0tKSBkZWxldGUgclt0W2ldXTsNCiAgICAgICAgICAgICAgICAgICAgaWYg
KG4gPyAhSShyKSA6ICF4LmlzRW1wdHlPYmplY3QocikpIHJldHVybg0KICAgICAg
ICAgICAgICAgIH0obiB8fCAoZGVsZXRlIGFbc10uZGF0YSwgSShhW3NdKSkpICYm
IChvID8geC5jbGVhbkRhdGEoW2VdLCAhMCkgOiB4LnN1cHBvcnQuZGVsZXRlRXhw
YW5kbyB8fCBhICE9IGEud2luZG93ID8gZGVsZXRlIGFbc10gOiBhW3NdID0gbnVs
bCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICB4LmV4dGVu
ZCh7DQogICAgICAgIGNhY2hlOiB7fSwNCiAgICAgICAgbm9EYXRhOiB7DQogICAg
ICAgICAgICBhcHBsZXQ6ICEwLA0KICAgICAgICAgICAgZW1iZWQ6ICEwLA0KICAg
ICAgICAgICAgb2JqZWN0OiAiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2Qjgt
NDQ0NTUzNTQwMDAwIg0KICAgICAgICB9LA0KICAgICAgICBoYXNEYXRhOiBmdW5j
dGlvbihlKSB7DQogICAgICAgICAgICByZXR1cm4gZSA9IGUubm9kZVR5cGUgPyB4
LmNhY2hlW2VbeC5leHBhbmRvXV0gOiBlW3guZXhwYW5kb10sICEhZSAmJiAhSShl
KQ0KICAgICAgICB9LA0KICAgICAgICBkYXRhOiBmdW5jdGlvbihlLCB0LCBuKSB7
DQogICAgICAgICAgICByZXR1cm4gUihlLCB0LCBuKQ0KICAgICAgICB9LA0KICAg
ICAgICByZW1vdmVEYXRhOiBmdW5jdGlvbihlLCB0KSB7DQogICAgICAgICAgICBy
ZXR1cm4gVyhlLCB0KQ0KICAgICAgICB9LA0KICAgICAgICBfZGF0YTogZnVuY3Rp
b24oZSwgdCwgbikgew0KICAgICAgICAgICAgcmV0dXJuIFIoZSwgdCwgbiwgITAp
DQogICAgICAgIH0sDQogICAgICAgIF9yZW1vdmVEYXRhOiBmdW5jdGlvbihlLCB0
KSB7DQogICAgICAgICAgICByZXR1cm4gVyhlLCB0LCAhMCkNCiAgICAgICAgfSwN
CiAgICAgICAgYWNjZXB0RGF0YTogZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAg
aWYgKGUubm9kZVR5cGUgJiYgMSAhPT0gZS5ub2RlVHlwZSAmJiA5ICE9PSBlLm5v
ZGVUeXBlKSByZXR1cm4gITE7DQogICAgICAgICAgICB2YXIgdCA9IGUubm9kZU5h
bWUgJiYgeC5ub0RhdGFbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXTsNCiAgICAg
ICAgICAgIHJldHVybiAhdCB8fCB0ICE9PSAhMCAmJiBlLmdldEF0dHJpYnV0ZSgi
Y2xhc3NpZCIpID09PSB0DQogICAgICAgIH0NCiAgICB9KSwgeC5mbi5leHRlbmQo
ew0KICAgICAgICBkYXRhOiBmdW5jdGlvbihlLCBuKSB7DQogICAgICAgICAgICB2
YXIgciwgaSwgbyA9IG51bGwsDQogICAgICAgICAgICAgICAgYSA9IDAsDQogICAg
ICAgICAgICAgICAgcyA9IHRoaXNbMF07DQogICAgICAgICAgICBpZiAoZSA9PT0g
dCkgew0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmxlbmd0aCAmJiAobyA9IHgu
ZGF0YShzKSwgMSA9PT0gcy5ub2RlVHlwZSAmJiAheC5fZGF0YShzLCAicGFyc2Vk
QXR0cnMiKSkpIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yIChyID0gcy5hdHRy
aWJ1dGVzOyByLmxlbmd0aCA+IGE7IGErKykgaSA9IHJbYV0ubmFtZSwgMCA9PT0g
aS5pbmRleE9mKCJkYXRhLSIpICYmIChpID0geC5jYW1lbENhc2UoaS5zbGljZSg1
KSksICQocywgaSwgb1tpXSkpOw0KICAgICAgICAgICAgICAgICAgICB4Ll9kYXRh
KHMsICJwYXJzZWRBdHRycyIsICEwKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAg
ICAgICAgICAgICByZXR1cm4gbw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAg
cmV0dXJuICJvYmplY3QiID09IHR5cGVvZiBlID8gdGhpcy5lYWNoKGZ1bmN0aW9u
KCkgew0KICAgICAgICAgICAgICAgIHguZGF0YSh0aGlzLCBlKQ0KICAgICAgICAg
ICAgfSkgOiBhcmd1bWVudHMubGVuZ3RoID4gMSA/IHRoaXMuZWFjaChmdW5jdGlv
bigpIHsNCiAgICAgICAgICAgICAgICB4LmRhdGEodGhpcywgZSwgbikNCiAgICAg
ICAgICAgIH0pIDogcyA/ICQocywgZSwgeC5kYXRhKHMsIGUpKSA6IG51bGwNCiAg
ICAgICAgfSwNCiAgICAgICAgcmVtb3ZlRGF0YTogZnVuY3Rpb24oZSkgew0KICAg
ICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHsNCiAgICAgICAg
ICAgICAgICB4LnJlbW92ZURhdGEodGhpcywgZSkNCiAgICAgICAgICAgIH0pDQog
ICAgICAgIH0NCiAgICB9KTsNCg0KICAgIGZ1bmN0aW9uICQoZSwgbiwgcikgew0K
ICAgICAgICBpZiAociA9PT0gdCAmJiAxID09PSBlLm5vZGVUeXBlKSB7DQogICAg
ICAgICAgICB2YXIgaSA9ICJkYXRhLSIgKyBuLnJlcGxhY2UoUCwgIi0kMSIpLnRv
TG93ZXJDYXNlKCk7DQogICAgICAgICAgICBpZiAociA9IGUuZ2V0QXR0cmlidXRl
KGkpLCAic3RyaW5nIiA9PSB0eXBlb2Ygcikgew0KICAgICAgICAgICAgICAgIHRy
eSB7DQogICAgICAgICAgICAgICAgICAgIHIgPSAidHJ1ZSIgPT09IHIgPyAhMCA6
ICJmYWxzZSIgPT09IHIgPyAhMSA6ICJudWxsIiA9PT0gciA/IG51bGwgOiArciAr
ICIiID09PSByID8gK3IgOiBCLnRlc3QocikgPyB4LnBhcnNlSlNPTihyKSA6IHIN
CiAgICAgICAgICAgICAgICB9IGNhdGNoIChvKSB7fQ0KICAgICAgICAgICAgICAg
IHguZGF0YShlLCBuLCByKQ0KICAgICAgICAgICAgfSBlbHNlIHIgPSB0DQogICAg
ICAgIH0NCiAgICAgICAgcmV0dXJuIHINCiAgICB9DQoNCiAgICBmdW5jdGlvbiBJ
KGUpIHsNCiAgICAgICAgdmFyIHQ7DQogICAgICAgIGZvciAodCBpbiBlKQ0KICAg
ICAgICAgICAgaWYgKCgiZGF0YSIgIT09IHQgfHwgIXguaXNFbXB0eU9iamVjdChl
W3RdKSkgJiYgInRvSlNPTiIgIT09IHQpIHJldHVybiAhMTsNCiAgICAgICAgcmV0
dXJuICEwDQogICAgfQ0KICAgIHguZXh0ZW5kKHsNCiAgICAgICAgcXVldWU6IGZ1
bmN0aW9uKGUsIG4sIHIpIHsNCiAgICAgICAgICAgIHZhciBpOw0KICAgICAgICAg
ICAgcmV0dXJuIGUgPyAobiA9IChuIHx8ICJmeCIpICsgInF1ZXVlIiwgaSA9IHgu
X2RhdGEoZSwgbiksIHIgJiYgKCFpIHx8IHguaXNBcnJheShyKSA/IGkgPSB4Ll9k
YXRhKGUsIG4sIHgubWFrZUFycmF5KHIpKSA6IGkucHVzaChyKSksIGkgfHwgW10p
IDogdA0KICAgICAgICB9LA0KICAgICAgICBkZXF1ZXVlOiBmdW5jdGlvbihlLCB0
KSB7DQogICAgICAgICAgICB0ID0gdCB8fCAiZngiOw0KICAgICAgICAgICAgdmFy
IG4gPSB4LnF1ZXVlKGUsIHQpLA0KICAgICAgICAgICAgICAgIHIgPSBuLmxlbmd0
aCwNCiAgICAgICAgICAgICAgICBpID0gbi5zaGlmdCgpLA0KICAgICAgICAgICAg
ICAgIG8gPSB4Ll9xdWV1ZUhvb2tzKGUsIHQpLA0KICAgICAgICAgICAgICAgIGEg
PSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgeC5kZXF1ZXVlKGUs
IHQpDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICJpbnByb2dyZXNz
IiA9PT0gaSAmJiAoaSA9IG4uc2hpZnQoKSwgci0tKSwgaSAmJiAoImZ4IiA9PT0g
dCAmJiBuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSwgZGVsZXRlIG8uc3RvcCwgaS5j
YWxsKGUsIGEsIG8pKSwgIXIgJiYgbyAmJiBvLmVtcHR5LmZpcmUoKQ0KICAgICAg
ICB9LA0KICAgICAgICBfcXVldWVIb29rczogZnVuY3Rpb24oZSwgdCkgew0KICAg
ICAgICAgICAgdmFyIG4gPSB0ICsgInF1ZXVlSG9va3MiOw0KICAgICAgICAgICAg
cmV0dXJuIHguX2RhdGEoZSwgbikgfHwgeC5fZGF0YShlLCBuLCB7DQogICAgICAg
ICAgICAgICAgZW1wdHk6IHguQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLmFkZChm
dW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgeC5fcmVtb3ZlRGF0YShl
LCB0ICsgInF1ZXVlIiksIHguX3JlbW92ZURhdGEoZSwgbikNCiAgICAgICAgICAg
ICAgICB9KQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgIH0pLCB4LmZu
LmV4dGVuZCh7DQogICAgICAgIHF1ZXVlOiBmdW5jdGlvbihlLCBuKSB7DQogICAg
ICAgICAgICB2YXIgciA9IDI7DQogICAgICAgICAgICByZXR1cm4gInN0cmluZyIg
IT0gdHlwZW9mIGUgJiYgKG4gPSBlLCBlID0gImZ4Iiwgci0tKSwgciA+IGFyZ3Vt
ZW50cy5sZW5ndGggPyB4LnF1ZXVlKHRoaXNbMF0sIGUpIDogbiA9PT0gdCA/IHRo
aXMgOiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgdmFy
IHQgPSB4LnF1ZXVlKHRoaXMsIGUsIG4pOw0KICAgICAgICAgICAgICAgIHguX3F1
ZXVlSG9va3ModGhpcywgZSksICJmeCIgPT09IGUgJiYgImlucHJvZ3Jlc3MiICE9
PSB0WzBdICYmIHguZGVxdWV1ZSh0aGlzLCBlKQ0KICAgICAgICAgICAgfSkNCiAg
ICAgICAgfSwNCiAgICAgICAgZGVxdWV1ZTogZnVuY3Rpb24oZSkgew0KICAgICAg
ICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHsNCiAgICAgICAgICAg
ICAgICB4LmRlcXVldWUodGhpcywgZSkNCiAgICAgICAgICAgIH0pDQogICAgICAg
IH0sDQogICAgICAgIGRlbGF5OiBmdW5jdGlvbihlLCB0KSB7DQogICAgICAgICAg
ICByZXR1cm4gZSA9IHguZnggPyB4LmZ4LnNwZWVkc1tlXSB8fCBlIDogZSwgdCA9
IHQgfHwgImZ4IiwgdGhpcy5xdWV1ZSh0LCBmdW5jdGlvbih0LCBuKSB7DQogICAg
ICAgICAgICAgICAgdmFyIHIgPSBzZXRUaW1lb3V0KHQsIGUpOw0KICAgICAgICAg
ICAgICAgIG4uc3RvcCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAg
ICBjbGVhclRpbWVvdXQocikNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAg
ICB9KQ0KICAgICAgICB9LA0KICAgICAgICBjbGVhclF1ZXVlOiBmdW5jdGlvbihl
KSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5xdWV1ZShlIHx8ICJmeCIsIFtd
KQ0KICAgICAgICB9LA0KICAgICAgICBwcm9taXNlOiBmdW5jdGlvbihlLCBuKSB7
DQogICAgICAgICAgICB2YXIgciwgaSA9IDEsDQogICAgICAgICAgICAgICAgbyA9
IHguRGVmZXJyZWQoKSwNCiAgICAgICAgICAgICAgICBhID0gdGhpcywNCiAgICAg
ICAgICAgICAgICBzID0gdGhpcy5sZW5ndGgsDQogICAgICAgICAgICAgICAgbCA9
IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICAtLWkgfHwgby5yZXNv
bHZlV2l0aChhLCBbYV0pDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAg
ICJzdHJpbmciICE9IHR5cGVvZiBlICYmIChuID0gZSwgZSA9IHQpLCBlID0gZSB8
fCAiZngiOw0KICAgICAgICAgICAgd2hpbGUgKHMtLSkgciA9IHguX2RhdGEoYVtz
XSwgZSArICJxdWV1ZUhvb2tzIiksIHIgJiYgci5lbXB0eSAmJiAoaSsrLCByLmVt
cHR5LmFkZChsKSk7DQogICAgICAgICAgICByZXR1cm4gbCgpLCBvLnByb21pc2Uo
bikNCiAgICAgICAgfQ0KICAgIH0pOw0KICAgIHZhciB6LCBYLCBVID0gL1tcdFxy
XG5cZl0vZywNCiAgICAgICAgViA9IC9cci9nLA0KICAgICAgICBZID0gL14oPzpp
bnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdCkkL2ksDQogICAgICAg
IEogPSAvXig/OmF8YXJlYSkkL2ksDQogICAgICAgIEcgPSAvXig/OmNoZWNrZWR8
c2VsZWN0ZWQpJC9pLA0KICAgICAgICBRID0geC5zdXBwb3J0LmdldFNldEF0dHJp
YnV0ZSwNCiAgICAgICAgSyA9IHguc3VwcG9ydC5pbnB1dDsNCiAgICB4LmZuLmV4
dGVuZCh7DQogICAgICAgIGF0dHI6IGZ1bmN0aW9uKGUsIHQpIHsNCiAgICAgICAg
ICAgIHJldHVybiB4LmFjY2Vzcyh0aGlzLCB4LmF0dHIsIGUsIHQsIGFyZ3VtZW50
cy5sZW5ndGggPiAxKQ0KICAgICAgICB9LA0KICAgICAgICByZW1vdmVBdHRyOiBm
dW5jdGlvbihlKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0
aW9uKCkgew0KICAgICAgICAgICAgICAgIHgucmVtb3ZlQXR0cih0aGlzLCBlKQ0K
ICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgcHJvcDogZnVuY3Rp
b24oZSwgdCkgew0KICAgICAgICAgICAgcmV0dXJuIHguYWNjZXNzKHRoaXMsIHgu
cHJvcCwgZSwgdCwgYXJndW1lbnRzLmxlbmd0aCA+IDEpDQogICAgICAgIH0sDQog
ICAgICAgIHJlbW92ZVByb3A6IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgIHJl
dHVybiBlID0geC5wcm9wRml4W2VdIHx8IGUsIHRoaXMuZWFjaChmdW5jdGlvbigp
IHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICB0
aGlzW2VdID0gdCwgZGVsZXRlIHRoaXNbZV0NCiAgICAgICAgICAgICAgICB9IGNh
dGNoIChuKSB7fQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAg
YWRkQ2xhc3M6IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgIHZhciB0LCBuLCBy
LCBpLCBvLCBhID0gMCwNCiAgICAgICAgICAgICAgICBzID0gdGhpcy5sZW5ndGgs
DQogICAgICAgICAgICAgICAgbCA9ICJzdHJpbmciID09IHR5cGVvZiBlICYmIGU7
DQogICAgICAgICAgICBpZiAoeC5pc0Z1bmN0aW9uKGUpKSByZXR1cm4gdGhpcy5l
YWNoKGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgICAgICB4KHRoaXMpLmFkZENs
YXNzKGUuY2FsbCh0aGlzLCB0LCB0aGlzLmNsYXNzTmFtZSkpDQogICAgICAgICAg
ICB9KTsNCiAgICAgICAgICAgIGlmIChsKQ0KICAgICAgICAgICAgICAgIGZvciAo
dCA9IChlIHx8ICIiKS5tYXRjaChUKSB8fCBbXTsgcyA+IGE7IGErKykNCiAgICAg
ICAgICAgICAgICAgICAgaWYgKG4gPSB0aGlzW2FdLCByID0gMSA9PT0gbi5ub2Rl
VHlwZSAmJiAobi5jbGFzc05hbWUgPyAoIiAiICsgbi5jbGFzc05hbWUgKyAiICIp
LnJlcGxhY2UoVSwgIiAiKSA6ICIgIikpIHsNCiAgICAgICAgICAgICAgICAgICAg
ICAgIG8gPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGkgPSB0
W28rK10pIDAgPiByLmluZGV4T2YoIiAiICsgaSArICIgIikgJiYgKHIgKz0gaSAr
ICIgIik7DQogICAgICAgICAgICAgICAgICAgICAgICBuLmNsYXNzTmFtZSA9IHgu
dHJpbShyKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1
cm4gdGhpcw0KICAgICAgICB9LA0KICAgICAgICByZW1vdmVDbGFzczogZnVuY3Rp
b24oZSkgew0KICAgICAgICAgICAgdmFyIHQsIG4sIHIsIGksIG8sIGEgPSAwLA0K
ICAgICAgICAgICAgICAgIHMgPSB0aGlzLmxlbmd0aCwNCiAgICAgICAgICAgICAg
ICBsID0gMCA9PT0gYXJndW1lbnRzLmxlbmd0aCB8fCAic3RyaW5nIiA9PSB0eXBl
b2YgZSAmJiBlOw0KICAgICAgICAgICAgaWYgKHguaXNGdW5jdGlvbihlKSkgcmV0
dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KSB7DQogICAgICAgICAgICAgICAgeCh0
aGlzKS5yZW1vdmVDbGFzcyhlLmNhbGwodGhpcywgdCwgdGhpcy5jbGFzc05hbWUp
KQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBpZiAobCkNCiAgICAgICAg
ICAgICAgICBmb3IgKHQgPSAoZSB8fCAiIikubWF0Y2goVCkgfHwgW107IHMgPiBh
OyBhKyspDQogICAgICAgICAgICAgICAgICAgIGlmIChuID0gdGhpc1thXSwgciA9
IDEgPT09IG4ubm9kZVR5cGUgJiYgKG4uY2xhc3NOYW1lID8gKCIgIiArIG4uY2xh
c3NOYW1lICsgIiAiKS5yZXBsYWNlKFUsICIgIikgOiAiIikpIHsNCiAgICAgICAg
ICAgICAgICAgICAgICAgIG8gPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAg
d2hpbGUgKGkgPSB0W28rK10pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
d2hpbGUgKHIuaW5kZXhPZigiICIgKyBpICsgIiAiKSA+PSAwKSByID0gci5yZXBs
YWNlKCIgIiArIGkgKyAiICIsICIgIik7DQogICAgICAgICAgICAgICAgICAgICAg
ICBuLmNsYXNzTmFtZSA9IGUgPyB4LnRyaW0ocikgOiAiIg0KICAgICAgICAgICAg
ICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdGhpcw0KICAgICAgICB9LA0K
ICAgICAgICB0b2dnbGVDbGFzczogZnVuY3Rpb24oZSwgdCkgew0KICAgICAgICAg
ICAgdmFyIG4gPSB0eXBlb2YgZTsNCiAgICAgICAgICAgIHJldHVybiAiYm9vbGVh
biIgPT0gdHlwZW9mIHQgJiYgInN0cmluZyIgPT09IG4gPyB0ID8gdGhpcy5hZGRD
bGFzcyhlKSA6IHRoaXMucmVtb3ZlQ2xhc3MoZSkgOiB4LmlzRnVuY3Rpb24oZSkg
PyB0aGlzLmVhY2goZnVuY3Rpb24obikgew0KICAgICAgICAgICAgICAgIHgodGhp
cykudG9nZ2xlQ2xhc3MoZS5jYWxsKHRoaXMsIG4sIHRoaXMuY2xhc3NOYW1lLCB0
KSwgdCkNCiAgICAgICAgICAgIH0pIDogdGhpcy5lYWNoKGZ1bmN0aW9uKCkgew0K
ICAgICAgICAgICAgICAgIGlmICgic3RyaW5nIiA9PT0gbikgew0KICAgICAgICAg
ICAgICAgICAgICB2YXIgdCwgciA9IDAsDQogICAgICAgICAgICAgICAgICAgICAg
ICBvID0geCh0aGlzKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGEgPSBlLm1h
dGNoKFQpIHx8IFtdOw0KICAgICAgICAgICAgICAgICAgICB3aGlsZSAodCA9IGFb
cisrXSkgby5oYXNDbGFzcyh0KSA/IG8ucmVtb3ZlQ2xhc3ModCkgOiBvLmFkZENs
YXNzKHQpDQogICAgICAgICAgICAgICAgfSBlbHNlKG4gPT09IGkgfHwgImJvb2xl
YW4iID09PSBuKSAmJiAodGhpcy5jbGFzc05hbWUgJiYgeC5fZGF0YSh0aGlzLCAi
X19jbGFzc05hbWVfXyIsIHRoaXMuY2xhc3NOYW1lKSwgdGhpcy5jbGFzc05hbWUg
PSB0aGlzLmNsYXNzTmFtZSB8fCBlID09PSAhMSA/ICIiIDogeC5fZGF0YSh0aGlz
LCAiX19jbGFzc05hbWVfXyIpIHx8ICIiKQ0KICAgICAgICAgICAgfSkNCiAgICAg
ICAgfSwNCiAgICAgICAgaGFzQ2xhc3M6IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAg
ICAgIHZhciB0ID0gIiAiICsgZSArICIgIiwNCiAgICAgICAgICAgICAgICBuID0g
MCwNCiAgICAgICAgICAgICAgICByID0gdGhpcy5sZW5ndGg7DQogICAgICAgICAg
ICBmb3IgKDsgciA+IG47IG4rKykNCiAgICAgICAgICAgICAgICBpZiAoMSA9PT0g
dGhpc1tuXS5ub2RlVHlwZSAmJiAoIiAiICsgdGhpc1tuXS5jbGFzc05hbWUgKyAi
ICIpLnJlcGxhY2UoVSwgIiAiKS5pbmRleE9mKHQpID49IDApIHJldHVybiAhMDsN
CiAgICAgICAgICAgIHJldHVybiAhMQ0KICAgICAgICB9LA0KICAgICAgICB2YWw6
IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgIHZhciBuLCByLCBpLCBvID0gdGhp
c1swXTsgew0KICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSBy
ZXR1cm4gaSA9IHguaXNGdW5jdGlvbihlKSwgdGhpcy5lYWNoKGZ1bmN0aW9uKG4p
IHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG87DQogICAgICAgICAgICAgICAg
ICAgIDEgPT09IHRoaXMubm9kZVR5cGUgJiYgKG8gPSBpID8gZS5jYWxsKHRoaXMs
IG4sIHgodGhpcykudmFsKCkpIDogZSwgbnVsbCA9PSBvID8gbyA9ICIiIDogIm51
bWJlciIgPT0gdHlwZW9mIG8gPyBvICs9ICIiIDogeC5pc0FycmF5KG8pICYmIChv
ID0geC5tYXAobywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgICAgICAg
ICAgcmV0dXJuIG51bGwgPT0gZSA/ICIiIDogZSArICIiDQogICAgICAgICAgICAg
ICAgICAgIH0pKSwgciA9IHgudmFsSG9va3NbdGhpcy50eXBlXSB8fCB4LnZhbEhv
b2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sIHIgJiYgInNldCIgaW4g
ciAmJiByLnNldCh0aGlzLCBvLCAidmFsdWUiKSAhPT0gdCB8fCAodGhpcy52YWx1
ZSA9IG8pKQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGlm
IChvKSByZXR1cm4gciA9IHgudmFsSG9va3Nbby50eXBlXSB8fCB4LnZhbEhvb2tz
W28ubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sIHIgJiYgImdldCIgaW4gciAmJiAo
biA9IHIuZ2V0KG8sICJ2YWx1ZSIpKSAhPT0gdCA/IG4gOiAobiA9IG8udmFsdWUs
ICJzdHJpbmciID09IHR5cGVvZiBuID8gbi5yZXBsYWNlKFYsICIiKSA6IG51bGwg
PT0gbiA/ICIiIDogbikNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0p
LCB4LmV4dGVuZCh7DQogICAgICAgIHZhbEhvb2tzOiB7DQogICAgICAgICAgICBv
cHRpb246IHsNCiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKGUpIHsNCiAg
ICAgICAgICAgICAgICAgICAgdmFyIHQgPSB4LmZpbmQuYXR0cihlLCAidmFsdWUi
KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGwgIT0gdCA/IHQgOiBl
LnRleHQNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAg
ICAgICAgc2VsZWN0OiB7DQogICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbihl
KSB7DQogICAgICAgICAgICAgICAgICAgIHZhciB0LCBuLCByID0gZS5vcHRpb25z
LA0KICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGUuc2VsZWN0ZWRJbmRleCwN
CiAgICAgICAgICAgICAgICAgICAgICAgIG8gPSAic2VsZWN0LW9uZSIgPT09IGUu
dHlwZSB8fCAwID4gaSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGEgPSBvID8g
bnVsbCA6IFtdLA0KICAgICAgICAgICAgICAgICAgICAgICAgcyA9IG8gPyBpICsg
MSA6IHIubGVuZ3RoLA0KICAgICAgICAgICAgICAgICAgICAgICAgbCA9IDAgPiBp
ID8gcyA6IG8gPyBpIDogMDsNCiAgICAgICAgICAgICAgICAgICAgZm9yICg7IHMg
PiBsOyBsKyspDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAobiA9IHJbbF0s
ICEoIW4uc2VsZWN0ZWQgJiYgbCAhPT0gaSB8fCAoeC5zdXBwb3J0Lm9wdERpc2Fi
bGVkID8gbi5kaXNhYmxlZCA6IG51bGwgIT09IG4uZ2V0QXR0cmlidXRlKCJkaXNh
YmxlZCIpKSB8fCBuLnBhcmVudE5vZGUuZGlzYWJsZWQgJiYgeC5ub2RlTmFtZShu
LnBhcmVudE5vZGUsICJvcHRncm91cCIpKSkgew0KICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGlmICh0ID0geChuKS52YWwoKSwgbykgcmV0dXJuIHQ7DQogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgYS5wdXNoKHQpDQogICAgICAgICAgICAg
ICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBhDQogICAg
ICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKGUs
IHQpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG4sIHIsIGkgPSBlLm9wdGlv
bnMsDQogICAgICAgICAgICAgICAgICAgICAgICBvID0geC5tYWtlQXJyYXkodCks
DQogICAgICAgICAgICAgICAgICAgICAgICBhID0gaS5sZW5ndGg7DQogICAgICAg
ICAgICAgICAgICAgIHdoaWxlIChhLS0pIHIgPSBpW2FdLCAoci5zZWxlY3RlZCA9
IHguaW5BcnJheSh4KHIpLnZhbCgpLCBvKSA+PSAwKSAmJiAobiA9ICEwKTsNCiAg
ICAgICAgICAgICAgICAgICAgcmV0dXJuIG4gfHwgKGUuc2VsZWN0ZWRJbmRleCA9
IC0xKSwgbw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAg
ICAgfSwNCiAgICAgICAgYXR0cjogZnVuY3Rpb24oZSwgbiwgcikgew0KICAgICAg
ICAgICAgdmFyIG8sIGEsIHMgPSBlLm5vZGVUeXBlOw0KICAgICAgICAgICAgaWYg
KGUgJiYgMyAhPT0gcyAmJiA4ICE9PSBzICYmIDIgIT09IHMpIHJldHVybiB0eXBl
b2YgZS5nZXRBdHRyaWJ1dGUgPT09IGkgPyB4LnByb3AoZSwgbiwgcikgOiAoMSA9
PT0gcyAmJiB4LmlzWE1MRG9jKGUpIHx8IChuID0gbi50b0xvd2VyQ2FzZSgpLCBv
ID0geC5hdHRySG9va3Nbbl0gfHwgKHguZXhwci5tYXRjaC5ib29sLnRlc3Qobikg
PyBYIDogeikpLCByID09PSB0ID8gbyAmJiAiZ2V0IiBpbiBvICYmIG51bGwgIT09
IChhID0gby5nZXQoZSwgbikpID8gYSA6IChhID0geC5maW5kLmF0dHIoZSwgbiks
IG51bGwgPT0gYSA/IHQgOiBhKSA6IG51bGwgIT09IHIgPyBvICYmICJzZXQiIGlu
IG8gJiYgKGEgPSBvLnNldChlLCByLCBuKSkgIT09IHQgPyBhIDogKGUuc2V0QXR0
cmlidXRlKG4sIHIgKyAiIiksIHIpIDogKHgucmVtb3ZlQXR0cihlLCBuKSwgdCkp
DQogICAgICAgIH0sDQogICAgICAgIHJlbW92ZUF0dHI6IGZ1bmN0aW9uKGUsIHQp
IHsNCiAgICAgICAgICAgIHZhciBuLCByLCBpID0gMCwNCiAgICAgICAgICAgICAg
ICBvID0gdCAmJiB0Lm1hdGNoKFQpOw0KICAgICAgICAgICAgaWYgKG8gJiYgMSA9
PT0gZS5ub2RlVHlwZSkNCiAgICAgICAgICAgICAgICB3aGlsZSAobiA9IG9baSsr
XSkgciA9IHgucHJvcEZpeFtuXSB8fCBuLCB4LmV4cHIubWF0Y2guYm9vbC50ZXN0
KG4pID8gSyAmJiBRIHx8ICFHLnRlc3QobikgPyBlW3JdID0gITEgOiBlW3guY2Ft
ZWxDYXNlKCJkZWZhdWx0LSIgKyBuKV0gPSBlW3JdID0gITEgOiB4LmF0dHIoZSwg
biwgIiIpLCBlLnJlbW92ZUF0dHJpYnV0ZShRID8gbiA6IHIpDQogICAgICAgIH0s
DQogICAgICAgIGF0dHJIb29rczogew0KICAgICAgICAgICAgdHlwZTogew0KICAg
ICAgICAgICAgICAgIHNldDogZnVuY3Rpb24oZSwgdCkgew0KICAgICAgICAgICAg
ICAgICAgICBpZiAoIXguc3VwcG9ydC5yYWRpb1ZhbHVlICYmICJyYWRpbyIgPT09
IHQgJiYgeC5ub2RlTmFtZShlLCAiaW5wdXQiKSkgew0KICAgICAgICAgICAgICAg
ICAgICAgICAgdmFyIG4gPSBlLnZhbHVlOw0KICAgICAgICAgICAgICAgICAgICAg
ICAgcmV0dXJuIGUuc2V0QXR0cmlidXRlKCJ0eXBlIiwgdCksIG4gJiYgKGUudmFs
dWUgPSBuKSwgdA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAg
ICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBwcm9wRml4
OiB7DQogICAgICAgICAgICAiZm9yIjogImh0bWxGb3IiLA0KICAgICAgICAgICAg
ImNsYXNzIjogImNsYXNzTmFtZSINCiAgICAgICAgfSwNCiAgICAgICAgcHJvcDog
ZnVuY3Rpb24oZSwgbiwgcikgew0KICAgICAgICAgICAgdmFyIGksIG8sIGEsIHMg
PSBlLm5vZGVUeXBlOw0KICAgICAgICAgICAgaWYgKGUgJiYgMyAhPT0gcyAmJiA4
ICE9PSBzICYmIDIgIT09IHMpIHJldHVybiBhID0gMSAhPT0gcyB8fCAheC5pc1hN
TERvYyhlKSwgYSAmJiAobiA9IHgucHJvcEZpeFtuXSB8fCBuLCBvID0geC5wcm9w
SG9va3Nbbl0pLCByICE9PSB0ID8gbyAmJiAic2V0IiBpbiBvICYmIChpID0gby5z
ZXQoZSwgciwgbikpICE9PSB0ID8gaSA6IGVbbl0gPSByIDogbyAmJiAiZ2V0IiBp
biBvICYmIG51bGwgIT09IChpID0gby5nZXQoZSwgbikpID8gaSA6IGVbbl0NCiAg
ICAgICAgfSwNCiAgICAgICAgcHJvcEhvb2tzOiB7DQogICAgICAgICAgICB0YWJJ
bmRleDogew0KICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24oZSkgew0KICAg
ICAgICAgICAgICAgICAgICB2YXIgdCA9IHguZmluZC5hdHRyKGUsICJ0YWJpbmRl
eCIpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdCA/IHBhcnNlSW50KHQs
IDEwKSA6IFkudGVzdChlLm5vZGVOYW1lKSB8fCBKLnRlc3QoZS5ub2RlTmFtZSkg
JiYgZS5ocmVmID8gMCA6IC0xDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAg
ICAgfQ0KICAgICAgICB9DQogICAgfSksIFggPSB7DQogICAgICAgIHNldDogZnVu
Y3Rpb24oZSwgdCwgbikgew0KICAgICAgICAgICAgcmV0dXJuIHQgPT09ICExID8g
eC5yZW1vdmVBdHRyKGUsIG4pIDogSyAmJiBRIHx8ICFHLnRlc3QobikgPyBlLnNl
dEF0dHJpYnV0ZSghUSAmJiB4LnByb3BGaXhbbl0gfHwgbiwgbikgOiBlW3guY2Ft
ZWxDYXNlKCJkZWZhdWx0LSIgKyBuKV0gPSBlW25dID0gITAsIG4NCiAgICAgICAg
fQ0KICAgIH0sIHguZWFjaCh4LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2go
L1x3Ky9nKSwgZnVuY3Rpb24oZSwgbikgew0KICAgICAgICB2YXIgciA9IHguZXhw
ci5hdHRySGFuZGxlW25dIHx8IHguZmluZC5hdHRyOw0KICAgICAgICB4LmV4cHIu
YXR0ckhhbmRsZVtuXSA9IEsgJiYgUSB8fCAhRy50ZXN0KG4pID8gZnVuY3Rpb24o
ZSwgbiwgaSkgew0KICAgICAgICAgICAgdmFyIG8gPSB4LmV4cHIuYXR0ckhhbmRs
ZVtuXSwNCiAgICAgICAgICAgICAgICBhID0gaSA/IHQgOiAoeC5leHByLmF0dHJI
YW5kbGVbbl0gPSB0KSAhPSByKGUsIG4sIGkpID8gbi50b0xvd2VyQ2FzZSgpIDog
bnVsbDsNCiAgICAgICAgICAgIHJldHVybiB4LmV4cHIuYXR0ckhhbmRsZVtuXSA9
IG8sIGENCiAgICAgICAgfSA6IGZ1bmN0aW9uKGUsIG4sIHIpIHsNCiAgICAgICAg
ICAgIHJldHVybiByID8gdCA6IGVbeC5jYW1lbENhc2UoImRlZmF1bHQtIiArIG4p
XSA/IG4udG9Mb3dlckNhc2UoKSA6IG51bGwNCiAgICAgICAgfQ0KICAgIH0pLCBL
ICYmIFEgfHwgKHguYXR0ckhvb2tzLnZhbHVlID0gew0KICAgICAgICBzZXQ6IGZ1
bmN0aW9uKGUsIG4sIHIpIHsNCiAgICAgICAgICAgIHJldHVybiB4Lm5vZGVOYW1l
KGUsICJpbnB1dCIpID8gKGUuZGVmYXVsdFZhbHVlID0gbiwgdCkgOiB6ICYmIHou
c2V0KGUsIG4sIHIpDQogICAgICAgIH0NCiAgICB9KSwgUSB8fCAoeiA9IHsNCiAg
ICAgICAgc2V0OiBmdW5jdGlvbihlLCBuLCByKSB7DQogICAgICAgICAgICB2YXIg
aSA9IGUuZ2V0QXR0cmlidXRlTm9kZShyKTsNCiAgICAgICAgICAgIHJldHVybiBp
IHx8IGUuc2V0QXR0cmlidXRlTm9kZShpID0gZS5vd25lckRvY3VtZW50LmNyZWF0
ZUF0dHJpYnV0ZShyKSksIGkudmFsdWUgPSBuICs9ICIiLCAidmFsdWUiID09PSBy
IHx8IG4gPT09IGUuZ2V0QXR0cmlidXRlKHIpID8gbiA6IHQNCiAgICAgICAgfQ0K
ICAgIH0sIHguZXhwci5hdHRySGFuZGxlLmlkID0geC5leHByLmF0dHJIYW5kbGUu
bmFtZSA9IHguZXhwci5hdHRySGFuZGxlLmNvb3JkcyA9IGZ1bmN0aW9uKGUsIG4s
IHIpIHsNCiAgICAgICAgdmFyIGk7DQogICAgICAgIHJldHVybiByID8gdCA6IChp
ID0gZS5nZXRBdHRyaWJ1dGVOb2RlKG4pKSAmJiAiIiAhPT0gaS52YWx1ZSA/IGku
dmFsdWUgOiBudWxsDQogICAgfSwgeC52YWxIb29rcy5idXR0b24gPSB7DQogICAg
ICAgIGdldDogZnVuY3Rpb24oZSwgbikgew0KICAgICAgICAgICAgdmFyIHIgPSBl
LmdldEF0dHJpYnV0ZU5vZGUobik7DQogICAgICAgICAgICByZXR1cm4gciAmJiBy
LnNwZWNpZmllZCA/IHIudmFsdWUgOiB0DQogICAgICAgIH0sDQogICAgICAgIHNl
dDogei5zZXQNCiAgICB9LCB4LmF0dHJIb29rcy5jb250ZW50ZWRpdGFibGUgPSB7
DQogICAgICAgIHNldDogZnVuY3Rpb24oZSwgdCwgbikgew0KICAgICAgICAgICAg
ei5zZXQoZSwgIiIgPT09IHQgPyAhMSA6IHQsIG4pDQogICAgICAgIH0NCiAgICB9
LCB4LmVhY2goWyJ3aWR0aCIsICJoZWlnaHQiXSwgZnVuY3Rpb24oZSwgbikgew0K
ICAgICAgICB4LmF0dHJIb29rc1tuXSA9IHsNCiAgICAgICAgICAgIHNldDogZnVu
Y3Rpb24oZSwgcikgew0KICAgICAgICAgICAgICAgIHJldHVybiAiIiA9PT0gciA/
IChlLnNldEF0dHJpYnV0ZShuLCAiYXV0byIpLCByKSA6IHQNCiAgICAgICAgICAg
IH0NCiAgICAgICAgfQ0KICAgIH0pKSwgeC5zdXBwb3J0LmhyZWZOb3JtYWxpemVk
IHx8IHguZWFjaChbImhyZWYiLCAic3JjIl0sIGZ1bmN0aW9uKGUsIHQpIHsNCiAg
ICAgICAgeC5wcm9wSG9va3NbdF0gPSB7DQogICAgICAgICAgICBnZXQ6IGZ1bmN0
aW9uKGUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gZS5nZXRBdHRyaWJ1dGUo
dCwgNCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0pLCB4LnN1cHBv
cnQuc3R5bGUgfHwgKHguYXR0ckhvb2tzLnN0eWxlID0gew0KICAgICAgICBnZXQ6
IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgIHJldHVybiBlLnN0eWxlLmNzc1Rl
eHQgfHwgdA0KICAgICAgICB9LA0KICAgICAgICBzZXQ6IGZ1bmN0aW9uKGUsIHQp
IHsNCiAgICAgICAgICAgIHJldHVybiBlLnN0eWxlLmNzc1RleHQgPSB0ICsgIiIN
CiAgICAgICAgfQ0KICAgIH0pLCB4LnN1cHBvcnQub3B0U2VsZWN0ZWQgfHwgKHgu
cHJvcEhvb2tzLnNlbGVjdGVkID0gew0KICAgICAgICBnZXQ6IGZ1bmN0aW9uKGUp
IHsNCiAgICAgICAgICAgIHZhciB0ID0gZS5wYXJlbnROb2RlOw0KICAgICAgICAg
ICAgcmV0dXJuIHQgJiYgKHQuc2VsZWN0ZWRJbmRleCwgdC5wYXJlbnROb2RlICYm
IHQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KSwgbnVsbA0KICAgICAgICB9DQog
ICAgfSksIHguZWFjaChbInRhYkluZGV4IiwgInJlYWRPbmx5IiwgIm1heExlbmd0
aCIsICJjZWxsU3BhY2luZyIsICJjZWxsUGFkZGluZyIsICJyb3dTcGFuIiwgImNv
bFNwYW4iLCAidXNlTWFwIiwgImZyYW1lQm9yZGVyIiwgImNvbnRlbnRFZGl0YWJs
ZSJdLCBmdW5jdGlvbigpIHsNCiAgICAgICAgeC5wcm9wRml4W3RoaXMudG9Mb3dl
ckNhc2UoKV0gPSB0aGlzDQogICAgfSksIHguc3VwcG9ydC5lbmN0eXBlIHx8ICh4
LnByb3BGaXguZW5jdHlwZSA9ICJlbmNvZGluZyIpLCB4LmVhY2goWyJyYWRpbyIs
ICJjaGVja2JveCJdLCBmdW5jdGlvbigpIHsNCiAgICAgICAgeC52YWxIb29rc1t0
aGlzXSA9IHsNCiAgICAgICAgICAgIHNldDogZnVuY3Rpb24oZSwgbikgew0KICAg
ICAgICAgICAgICAgIHJldHVybiB4LmlzQXJyYXkobikgPyBlLmNoZWNrZWQgPSB4
LmluQXJyYXkoeChlKS52YWwoKSwgbikgPj0gMCA6IHQNCiAgICAgICAgICAgIH0N
CiAgICAgICAgfSwgeC5zdXBwb3J0LmNoZWNrT24gfHwgKHgudmFsSG9va3NbdGhp
c10uZ2V0ID0gZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgcmV0dXJuIG51bGwg
PT09IGUuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpID8gIm9uIiA6IGUudmFsdWUNCiAg
ICAgICAgfSkNCiAgICB9KTsNCiAgICB2YXIgWiA9IC9eKD86aW5wdXR8c2VsZWN0
fHRleHRhcmVhKSQvaSwNCiAgICAgICAgZXQgPSAvXmtleS8sDQogICAgICAgIHR0
ID0gL14oPzptb3VzZXxjb250ZXh0bWVudSl8Y2xpY2svLA0KICAgICAgICBudCA9
IC9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLywNCiAgICAgICAgcnQg
PSAvXihbXi5dKikoPzpcLiguKyl8KSQvOw0KDQogICAgZnVuY3Rpb24gaXQoKSB7
DQogICAgICAgIHJldHVybiAhMA0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIG90KCkg
ew0KICAgICAgICByZXR1cm4gITENCiAgICB9DQoNCiAgICBmdW5jdGlvbiBhdCgp
IHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHJldHVybiBhLmFjdGl2ZUVs
ZW1lbnQNCiAgICAgICAgfSBjYXRjaCAoZSkge30NCiAgICB9DQogICAgeC5ldmVu
dCA9IHsNCiAgICAgICAgZ2xvYmFsOiB7fSwNCiAgICAgICAgYWRkOiBmdW5jdGlv
bihlLCBuLCByLCBvLCBhKSB7DQogICAgICAgICAgICB2YXIgcywgbCwgdSwgYywg
cCwgZiwgZCwgaCwgZywgbSwgeSwgdiA9IHguX2RhdGEoZSk7DQogICAgICAgICAg
ICBpZiAodikgew0KICAgICAgICAgICAgICAgIHIuaGFuZGxlciAmJiAoYyA9IHIs
IHIgPSBjLmhhbmRsZXIsIGEgPSBjLnNlbGVjdG9yKSwgci5ndWlkIHx8IChyLmd1
aWQgPSB4Lmd1aWQrKyksIChsID0gdi5ldmVudHMpIHx8IChsID0gdi5ldmVudHMg
PSB7fSksIChmID0gdi5oYW5kbGUpIHx8IChmID0gdi5oYW5kbGUgPSBmdW5jdGlv
bihlKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0g
aSB8fCBlICYmIHguZXZlbnQudHJpZ2dlcmVkID09PSBlLnR5cGUgPyB0IDogeC5l
dmVudC5kaXNwYXRjaC5hcHBseShmLmVsZW0sIGFyZ3VtZW50cykNCiAgICAgICAg
ICAgICAgICB9LCBmLmVsZW0gPSBlKSwgbiA9IChuIHx8ICIiKS5tYXRjaChUKSB8
fCBbIiJdLCB1ID0gbi5sZW5ndGg7DQogICAgICAgICAgICAgICAgd2hpbGUgKHUt
LSkgcyA9IHJ0LmV4ZWMoblt1XSkgfHwgW10sIGcgPSB5ID0gc1sxXSwgbSA9IChz
WzJdIHx8ICIiKS5zcGxpdCgiLiIpLnNvcnQoKSwgZyAmJiAocCA9IHguZXZlbnQu
c3BlY2lhbFtnXSB8fCB7fSwgZyA9IChhID8gcC5kZWxlZ2F0ZVR5cGUgOiBwLmJp
bmRUeXBlKSB8fCBnLCBwID0geC5ldmVudC5zcGVjaWFsW2ddIHx8IHt9LCBkID0g
eC5leHRlbmQoew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiBnLA0KICAgICAg
ICAgICAgICAgICAgICBvcmlnVHlwZTogeSwNCiAgICAgICAgICAgICAgICAgICAg
ZGF0YTogbywNCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogciwNCiAgICAg
ICAgICAgICAgICAgICAgZ3VpZDogci5ndWlkLA0KICAgICAgICAgICAgICAgICAg
ICBzZWxlY3RvcjogYSwNCiAgICAgICAgICAgICAgICAgICAgbmVlZHNDb250ZXh0
OiBhICYmIHguZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChhKSwNCiAgICAg
ICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBtLmpvaW4oIi4iKQ0KICAgICAgICAg
ICAgICAgIH0sIGMpLCAoaCA9IGxbZ10pIHx8IChoID0gbFtnXSA9IFtdLCBoLmRl
bGVnYXRlQ291bnQgPSAwLCBwLnNldHVwICYmIHAuc2V0dXAuY2FsbChlLCBvLCBt
LCBmKSAhPT0gITEgfHwgKGUuYWRkRXZlbnRMaXN0ZW5lciA/IGUuYWRkRXZlbnRM
aXN0ZW5lcihnLCBmLCAhMSkgOiBlLmF0dGFjaEV2ZW50ICYmIGUuYXR0YWNoRXZl
bnQoIm9uIiArIGcsIGYpKSksIHAuYWRkICYmIChwLmFkZC5jYWxsKGUsIGQpLCBk
LmhhbmRsZXIuZ3VpZCB8fCAoZC5oYW5kbGVyLmd1aWQgPSByLmd1aWQpKSwgYSA/
IGguc3BsaWNlKGguZGVsZWdhdGVDb3VudCsrLCAwLCBkKSA6IGgucHVzaChkKSwg
eC5ldmVudC5nbG9iYWxbZ10gPSAhMCk7DQogICAgICAgICAgICAgICAgZSA9IG51
bGwNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgcmVtb3ZlOiBm
dW5jdGlvbihlLCB0LCBuLCByLCBpKSB7DQogICAgICAgICAgICB2YXIgbywgYSwg
cywgbCwgdSwgYywgcCwgZiwgZCwgaCwgZywgbSA9IHguaGFzRGF0YShlKSAmJiB4
Ll9kYXRhKGUpOw0KICAgICAgICAgICAgaWYgKG0gJiYgKGMgPSBtLmV2ZW50cykp
IHsNCiAgICAgICAgICAgICAgICB0ID0gKHQgfHwgIiIpLm1hdGNoKFQpIHx8IFsi
Il0sIHUgPSB0Lmxlbmd0aDsNCiAgICAgICAgICAgICAgICB3aGlsZSAodS0tKQ0K
ICAgICAgICAgICAgICAgICAgICBpZiAocyA9IHJ0LmV4ZWModFt1XSkgfHwgW10s
IGQgPSBnID0gc1sxXSwgaCA9IChzWzJdIHx8ICIiKS5zcGxpdCgiLiIpLnNvcnQo
KSwgZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcCA9IHguZXZlbnQuc3Bl
Y2lhbFtkXSB8fCB7fSwgZCA9IChyID8gcC5kZWxlZ2F0ZVR5cGUgOiBwLmJpbmRU
eXBlKSB8fCBkLCBmID0gY1tkXSB8fCBbXSwgcyA9IHNbMl0gJiYgUmVnRXhwKCIo
XnxcXC4pIiArIGguam9pbigiXFwuKD86LipcXC58KSIpICsgIihcXC58JCkiKSwg
bCA9IG8gPSBmLmxlbmd0aDsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxl
IChvLS0pIGEgPSBmW29dLCAhaSAmJiBnICE9PSBhLm9yaWdUeXBlIHx8IG4gJiYg
bi5ndWlkICE9PSBhLmd1aWQgfHwgcyAmJiAhcy50ZXN0KGEubmFtZXNwYWNlKSB8
fCByICYmIHIgIT09IGEuc2VsZWN0b3IgJiYgKCIqKiIgIT09IHIgfHwgIWEuc2Vs
ZWN0b3IpIHx8IChmLnNwbGljZShvLCAxKSwgYS5zZWxlY3RvciAmJiBmLmRlbGVn
YXRlQ291bnQtLSwgcC5yZW1vdmUgJiYgcC5yZW1vdmUuY2FsbChlLCBhKSk7DQog
ICAgICAgICAgICAgICAgICAgICAgICBsICYmICFmLmxlbmd0aCAmJiAocC50ZWFy
ZG93biAmJiBwLnRlYXJkb3duLmNhbGwoZSwgaCwgbS5oYW5kbGUpICE9PSAhMSB8
fCB4LnJlbW92ZUV2ZW50KGUsIGQsIG0uaGFuZGxlKSwgZGVsZXRlIGNbZF0pDQog
ICAgICAgICAgICAgICAgICAgIH0gZWxzZQ0KICAgICAgICAgICAgICAgICAgICAg
ICAgZm9yIChkIGluIGMpIHguZXZlbnQucmVtb3ZlKGUsIGQgKyB0W3VdLCBuLCBy
LCAhMCk7DQogICAgICAgICAgICAgICAgeC5pc0VtcHR5T2JqZWN0KGMpICYmIChk
ZWxldGUgbS5oYW5kbGUsIHguX3JlbW92ZURhdGEoZSwgImV2ZW50cyIpKQ0KICAg
ICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICB0cmlnZ2VyOiBmdW5jdGlv
bihuLCByLCBpLCBvKSB7DQogICAgICAgICAgICB2YXIgcywgbCwgdSwgYywgcCwg
ZiwgZCwgaCA9IFtpIHx8IGFdLA0KICAgICAgICAgICAgICAgIGcgPSB2LmNhbGwo
biwgInR5cGUiKSA/IG4udHlwZSA6IG4sDQogICAgICAgICAgICAgICAgbSA9IHYu
Y2FsbChuLCAibmFtZXNwYWNlIikgPyBuLm5hbWVzcGFjZS5zcGxpdCgiLiIpIDog
W107DQogICAgICAgICAgICBpZiAodSA9IGYgPSBpID0gaSB8fCBhLCAzICE9PSBp
Lm5vZGVUeXBlICYmIDggIT09IGkubm9kZVR5cGUgJiYgIW50LnRlc3QoZyArIHgu
ZXZlbnQudHJpZ2dlcmVkKSAmJiAoZy5pbmRleE9mKCIuIikgPj0gMCAmJiAobSA9
IGcuc3BsaXQoIi4iKSwgZyA9IG0uc2hpZnQoKSwgbS5zb3J0KCkpLCBsID0gMCA+
IGcuaW5kZXhPZigiOiIpICYmICJvbiIgKyBnLCBuID0gblt4LmV4cGFuZG9dID8g
biA6IG5ldyB4LkV2ZW50KGcsICJvYmplY3QiID09IHR5cGVvZiBuICYmIG4pLCBu
LmlzVHJpZ2dlciA9IG8gPyAyIDogMywgbi5uYW1lc3BhY2UgPSBtLmpvaW4oIi4i
KSwgbi5uYW1lc3BhY2VfcmUgPSBuLm5hbWVzcGFjZSA/IFJlZ0V4cCgiKF58XFwu
KSIgKyBtLmpvaW4oIlxcLig/Oi4qXFwufCkiKSArICIoXFwufCQpIikgOiBudWxs
LCBuLnJlc3VsdCA9IHQsIG4udGFyZ2V0IHx8IChuLnRhcmdldCA9IGkpLCByID0g
bnVsbCA9PSByID8gW25dIDogeC5tYWtlQXJyYXkociwgW25dKSwgcCA9IHguZXZl
bnQuc3BlY2lhbFtnXSB8fCB7fSwgbyB8fCAhcC50cmlnZ2VyIHx8IHAudHJpZ2dl
ci5hcHBseShpLCByKSAhPT0gITEpKSB7DQogICAgICAgICAgICAgICAgaWYgKCFv
ICYmICFwLm5vQnViYmxlICYmICF4LmlzV2luZG93KGkpKSB7DQogICAgICAgICAg
ICAgICAgICAgIGZvciAoYyA9IHAuZGVsZWdhdGVUeXBlIHx8IGcsIG50LnRlc3Qo
YyArIGcpIHx8ICh1ID0gdS5wYXJlbnROb2RlKTsgdTsgdSA9IHUucGFyZW50Tm9k
ZSkgaC5wdXNoKHUpLCBmID0gdTsNCiAgICAgICAgICAgICAgICAgICAgZiA9PT0g
KGkub3duZXJEb2N1bWVudCB8fCBhKSAmJiBoLnB1c2goZi5kZWZhdWx0VmlldyB8
fCBmLnBhcmVudFdpbmRvdyB8fCBlKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAg
ICAgICAgICAgICBkID0gMDsNCiAgICAgICAgICAgICAgICB3aGlsZSAoKHUgPSBo
W2QrK10pICYmICFuLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpIG4udHlwZSA9IGQg
PiAxID8gYyA6IHAuYmluZFR5cGUgfHwgZywgcyA9ICh4Ll9kYXRhKHUsICJldmVu
dHMiKSB8fCB7fSlbbi50eXBlXSAmJiB4Ll9kYXRhKHUsICJoYW5kbGUiKSwgcyAm
JiBzLmFwcGx5KHUsIHIpLCBzID0gbCAmJiB1W2xdLCBzICYmIHguYWNjZXB0RGF0
YSh1KSAmJiBzLmFwcGx5ICYmIHMuYXBwbHkodSwgcikgPT09ICExICYmIG4ucHJl
dmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgICAgICBpZiAobi50eXBlID0gZywg
IW8gJiYgIW4uaXNEZWZhdWx0UHJldmVudGVkKCkgJiYgKCFwLl9kZWZhdWx0IHx8
IHAuX2RlZmF1bHQuYXBwbHkoaC5wb3AoKSwgcikgPT09ICExKSAmJiB4LmFjY2Vw
dERhdGEoaSkgJiYgbCAmJiBpW2ddICYmICF4LmlzV2luZG93KGkpKSB7DQogICAg
ICAgICAgICAgICAgICAgIGYgPSBpW2xdLCBmICYmIChpW2xdID0gbnVsbCksIHgu
ZXZlbnQudHJpZ2dlcmVkID0gZzsNCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsN
CiAgICAgICAgICAgICAgICAgICAgICAgIGlbZ10oKQ0KICAgICAgICAgICAgICAg
ICAgICB9IGNhdGNoICh5KSB7fQ0KICAgICAgICAgICAgICAgICAgICB4LmV2ZW50
LnRyaWdnZXJlZCA9IHQsIGYgJiYgKGlbbF0gPSBmKQ0KICAgICAgICAgICAgICAg
IH0NCiAgICAgICAgICAgICAgICByZXR1cm4gbi5yZXN1bHQNCiAgICAgICAgICAg
IH0NCiAgICAgICAgfSwNCiAgICAgICAgZGlzcGF0Y2g6IGZ1bmN0aW9uKGUpIHsN
CiAgICAgICAgICAgIGUgPSB4LmV2ZW50LmZpeChlKTsNCiAgICAgICAgICAgIHZh
ciBuLCByLCBpLCBvLCBhLCBzID0gW10sDQogICAgICAgICAgICAgICAgbCA9IGcu
Y2FsbChhcmd1bWVudHMpLA0KICAgICAgICAgICAgICAgIHUgPSAoeC5fZGF0YSh0
aGlzLCAiZXZlbnRzIikgfHwge30pW2UudHlwZV0gfHwgW10sDQogICAgICAgICAg
ICAgICAgYyA9IHguZXZlbnQuc3BlY2lhbFtlLnR5cGVdIHx8IHt9Ow0KICAgICAg
ICAgICAgaWYgKGxbMF0gPSBlLCBlLmRlbGVnYXRlVGFyZ2V0ID0gdGhpcywgIWMu
cHJlRGlzcGF0Y2ggfHwgYy5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsIGUpICE9PSAh
MSkgew0KICAgICAgICAgICAgICAgIHMgPSB4LmV2ZW50LmhhbmRsZXJzLmNhbGwo
dGhpcywgZSwgdSksIG4gPSAwOw0KICAgICAgICAgICAgICAgIHdoaWxlICgobyA9
IHNbbisrXSkgJiYgIWUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSkgew0KICAgICAg
ICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQgPSBvLmVsZW0sIGEgPSAwOw0K
ICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGkgPSBvLmhhbmRsZXJzW2ErK10p
ICYmICFlLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpKCFlLm5hbWVz
cGFjZV9yZSB8fCBlLm5hbWVzcGFjZV9yZS50ZXN0KGkubmFtZXNwYWNlKSkgJiYg
KGUuaGFuZGxlT2JqID0gaSwgZS5kYXRhID0gaS5kYXRhLCByID0gKCh4LmV2ZW50
LnNwZWNpYWxbaS5vcmlnVHlwZV0gfHwge30pLmhhbmRsZSB8fCBpLmhhbmRsZXIp
LmFwcGx5KG8uZWxlbSwgbCksIHIgIT09IHQgJiYgKGUucmVzdWx0ID0gcikgPT09
ICExICYmIChlLnByZXZlbnREZWZhdWx0KCksIGUuc3RvcFByb3BhZ2F0aW9uKCkp
KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gYy5w
b3N0RGlzcGF0Y2ggJiYgYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLCBlKSwgZS5y
ZXN1bHQNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxl
cnM6IGZ1bmN0aW9uKGUsIG4pIHsNCiAgICAgICAgICAgIHZhciByLCBpLCBvLCBh
LCBzID0gW10sDQogICAgICAgICAgICAgICAgbCA9IG4uZGVsZWdhdGVDb3VudCwN
CiAgICAgICAgICAgICAgICB1ID0gZS50YXJnZXQ7DQogICAgICAgICAgICBpZiAo
bCAmJiB1Lm5vZGVUeXBlICYmICghZS5idXR0b24gfHwgImNsaWNrIiAhPT0gZS50
eXBlKSkNCiAgICAgICAgICAgICAgICBmb3IgKDsgdSAhPSB0aGlzOyB1ID0gdS5w
YXJlbnROb2RlIHx8IHRoaXMpDQogICAgICAgICAgICAgICAgICAgIGlmICgxID09
PSB1Lm5vZGVUeXBlICYmICh1LmRpc2FibGVkICE9PSAhMCB8fCAiY2xpY2siICE9
PSBlLnR5cGUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKG8gPSBb
XSwgYSA9IDA7IGwgPiBhOyBhKyspIGkgPSBuW2FdLCByID0gaS5zZWxlY3RvciAr
ICIgIiwgb1tyXSA9PT0gdCAmJiAob1tyXSA9IGkubmVlZHNDb250ZXh0ID8geChy
LCB0aGlzKS5pbmRleCh1KSA+PSAwIDogeC5maW5kKHIsIHRoaXMsIG51bGwsIFt1
XSkubGVuZ3RoKSwgb1tyXSAmJiBvLnB1c2goaSk7DQogICAgICAgICAgICAgICAg
ICAgICAgICBvLmxlbmd0aCAmJiBzLnB1c2goew0KICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGVsZW06IHUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
aGFuZGxlcnM6IG8NCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAg
ICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBuLmxlbmd0aCA+IGwg
JiYgcy5wdXNoKHsNCiAgICAgICAgICAgICAgICBlbGVtOiB0aGlzLA0KICAgICAg
ICAgICAgICAgIGhhbmRsZXJzOiBuLnNsaWNlKGwpDQogICAgICAgICAgICB9KSwg
cw0KICAgICAgICB9LA0KICAgICAgICBmaXg6IGZ1bmN0aW9uKGUpIHsNCiAgICAg
ICAgICAgIGlmIChlW3guZXhwYW5kb10pIHJldHVybiBlOw0KICAgICAgICAgICAg
dmFyIHQsIG4sIHIsIGkgPSBlLnR5cGUsDQogICAgICAgICAgICAgICAgbyA9IGUs
DQogICAgICAgICAgICAgICAgcyA9IHRoaXMuZml4SG9va3NbaV07DQogICAgICAg
ICAgICBzIHx8ICh0aGlzLmZpeEhvb2tzW2ldID0gcyA9IHR0LnRlc3QoaSkgPyB0
aGlzLm1vdXNlSG9va3MgOiBldC50ZXN0KGkpID8gdGhpcy5rZXlIb29rcyA6IHt9
KSwgciA9IHMucHJvcHMgPyB0aGlzLnByb3BzLmNvbmNhdChzLnByb3BzKSA6IHRo
aXMucHJvcHMsIGUgPSBuZXcgeC5FdmVudChvKSwgdCA9IHIubGVuZ3RoOw0KICAg
ICAgICAgICAgd2hpbGUgKHQtLSkgbiA9IHJbdF0sIGVbbl0gPSBvW25dOw0KICAg
ICAgICAgICAgcmV0dXJuIGUudGFyZ2V0IHx8IChlLnRhcmdldCA9IG8uc3JjRWxl
bWVudCB8fCBhKSwgMyA9PT0gZS50YXJnZXQubm9kZVR5cGUgJiYgKGUudGFyZ2V0
ID0gZS50YXJnZXQucGFyZW50Tm9kZSksIGUubWV0YUtleSA9ICEhZS5tZXRhS2V5
LCBzLmZpbHRlciA/IHMuZmlsdGVyKGUsIG8pIDogZQ0KICAgICAgICB9LA0KICAg
ICAgICBwcm9wczogImFsdEtleSBidWJibGVzIGNhbmNlbGFibGUgY3RybEtleSBj
dXJyZW50VGFyZ2V0IGV2ZW50UGhhc2UgbWV0YUtleSByZWxhdGVkVGFyZ2V0IHNo
aWZ0S2V5IHRhcmdldCB0aW1lU3RhbXAgdmlldyB3aGljaCIuc3BsaXQoIiAiKSwN
CiAgICAgICAgZml4SG9va3M6IHt9LA0KICAgICAgICBrZXlIb29rczogew0KICAg
ICAgICAgICAgcHJvcHM6ICJjaGFyIGNoYXJDb2RlIGtleSBrZXlDb2RlIi5zcGxp
dCgiICIpLA0KICAgICAgICAgICAgZmlsdGVyOiBmdW5jdGlvbihlLCB0KSB7DQog
ICAgICAgICAgICAgICAgcmV0dXJuIG51bGwgPT0gZS53aGljaCAmJiAoZS53aGlj
aCA9IG51bGwgIT0gdC5jaGFyQ29kZSA/IHQuY2hhckNvZGUgOiB0LmtleUNvZGUp
LCBlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIG1vdXNlSG9v
a3M6IHsNCiAgICAgICAgICAgIHByb3BzOiAiYnV0dG9uIGJ1dHRvbnMgY2xpZW50
WCBjbGllbnRZIGZyb21FbGVtZW50IG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdl
WSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50Ii5zcGxpdCgiICIpLA0KICAgICAg
ICAgICAgZmlsdGVyOiBmdW5jdGlvbihlLCBuKSB7DQogICAgICAgICAgICAgICAg
dmFyIHIsIGksIG8sIHMgPSBuLmJ1dHRvbiwNCiAgICAgICAgICAgICAgICAgICAg
bCA9IG4uZnJvbUVsZW1lbnQ7DQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGwg
PT0gZS5wYWdlWCAmJiBudWxsICE9IG4uY2xpZW50WCAmJiAoaSA9IGUudGFyZ2V0
Lm93bmVyRG9jdW1lbnQgfHwgYSwgbyA9IGkuZG9jdW1lbnRFbGVtZW50LCByID0g
aS5ib2R5LCBlLnBhZ2VYID0gbi5jbGllbnRYICsgKG8gJiYgby5zY3JvbGxMZWZ0
IHx8IHIgJiYgci5zY3JvbGxMZWZ0IHx8IDApIC0gKG8gJiYgby5jbGllbnRMZWZ0
IHx8IHIgJiYgci5jbGllbnRMZWZ0IHx8IDApLCBlLnBhZ2VZID0gbi5jbGllbnRZ
ICsgKG8gJiYgby5zY3JvbGxUb3AgfHwgciAmJiByLnNjcm9sbFRvcCB8fCAwKSAt
IChvICYmIG8uY2xpZW50VG9wIHx8IHIgJiYgci5jbGllbnRUb3AgfHwgMCkpLCAh
ZS5yZWxhdGVkVGFyZ2V0ICYmIGwgJiYgKGUucmVsYXRlZFRhcmdldCA9IGwgPT09
IGUudGFyZ2V0ID8gbi50b0VsZW1lbnQgOiBsKSwgZS53aGljaCB8fCBzID09PSB0
IHx8IChlLndoaWNoID0gMSAmIHMgPyAxIDogMiAmIHMgPyAzIDogNCAmIHMgPyAy
IDogMCksIGUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc3Bl
Y2lhbDogew0KICAgICAgICAgICAgbG9hZDogew0KICAgICAgICAgICAgICAgIG5v
QnViYmxlOiAhMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGZvY3VzOiB7
DQogICAgICAgICAgICAgICAgdHJpZ2dlcjogZnVuY3Rpb24oKSB7DQogICAgICAg
ICAgICAgICAgICAgIGlmICh0aGlzICE9PSBhdCgpICYmIHRoaXMuZm9jdXMpIHRy
eSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb2N1cygp
LCAhMQ0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fQ0KICAgICAg
ICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgZGVsZWdhdGVUeXBlOiAiZm9j
dXNpbiINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBibHVyOiB7DQogICAg
ICAgICAgICAgICAgdHJpZ2dlcjogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAg
ICAgICAgIHJldHVybiB0aGlzID09PSBhdCgpICYmIHRoaXMuYmx1ciA/ICh0aGlz
LmJsdXIoKSwgITEpIDogdA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAg
ICAgICAgZGVsZWdhdGVUeXBlOiAiZm9jdXNvdXQiDQogICAgICAgICAgICB9LA0K
ICAgICAgICAgICAgY2xpY2s6IHsNCiAgICAgICAgICAgICAgICB0cmlnZ2VyOiBm
dW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHgubm9kZU5h
bWUodGhpcywgImlucHV0IikgJiYgImNoZWNrYm94IiA9PT0gdGhpcy50eXBlICYm
IHRoaXMuY2xpY2sgPyAodGhpcy5jbGljaygpLCAhMSkgOiB0DQogICAgICAgICAg
ICAgICAgfSwNCiAgICAgICAgICAgICAgICBfZGVmYXVsdDogZnVuY3Rpb24oZSkg
ew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4geC5ub2RlTmFtZShlLnRhcmdl
dCwgImEiKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAg
ICAgICAgICBiZWZvcmV1bmxvYWQ6IHsNCiAgICAgICAgICAgICAgICBwb3N0RGlz
cGF0Y2g6IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgZS5yZXN1
bHQgIT09IHQgJiYgKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZSA9IGUucmVz
dWx0KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAg
fSwNCiAgICAgICAgc2ltdWxhdGU6IGZ1bmN0aW9uKGUsIHQsIG4sIHIpIHsNCiAg
ICAgICAgICAgIHZhciBpID0geC5leHRlbmQobmV3IHguRXZlbnQsIG4sIHsNCiAg
ICAgICAgICAgICAgICB0eXBlOiBlLA0KICAgICAgICAgICAgICAgIGlzU2ltdWxh
dGVkOiAhMCwNCiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiB7fQ0KICAg
ICAgICAgICAgfSk7DQogICAgICAgICAgICByID8geC5ldmVudC50cmlnZ2VyKGks
IG51bGwsIHQpIDogeC5ldmVudC5kaXNwYXRjaC5jYWxsKHQsIGkpLCBpLmlzRGVm
YXVsdFByZXZlbnRlZCgpICYmIG4ucHJldmVudERlZmF1bHQoKQ0KICAgICAgICB9
DQogICAgfSwgeC5yZW1vdmVFdmVudCA9IGEucmVtb3ZlRXZlbnRMaXN0ZW5lciA/
IGZ1bmN0aW9uKGUsIHQsIG4pIHsNCiAgICAgICAgZS5yZW1vdmVFdmVudExpc3Rl
bmVyICYmIGUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LCBuLCAhMSkNCiAgICB9IDog
ZnVuY3Rpb24oZSwgdCwgbikgew0KICAgICAgICB2YXIgciA9ICJvbiIgKyB0Ow0K
ICAgICAgICBlLmRldGFjaEV2ZW50ICYmICh0eXBlb2YgZVtyXSA9PT0gaSAmJiAo
ZVtyXSA9IG51bGwpLCBlLmRldGFjaEV2ZW50KHIsIG4pKQ0KICAgIH0sIHguRXZl
bnQgPSBmdW5jdGlvbihlLCBuKSB7DQogICAgICAgIHJldHVybiB0aGlzIGluc3Rh
bmNlb2YgeC5FdmVudCA/IChlICYmIGUudHlwZSA/ICh0aGlzLm9yaWdpbmFsRXZl
bnQgPSBlLCB0aGlzLnR5cGUgPSBlLnR5cGUsIHRoaXMuaXNEZWZhdWx0UHJldmVu
dGVkID0gZS5kZWZhdWx0UHJldmVudGVkIHx8IGUucmV0dXJuVmFsdWUgPT09ICEx
IHx8IGUuZ2V0UHJldmVudERlZmF1bHQgJiYgZS5nZXRQcmV2ZW50RGVmYXVsdCgp
ID8gaXQgOiBvdCkgOiB0aGlzLnR5cGUgPSBlLCBuICYmIHguZXh0ZW5kKHRoaXMs
IG4pLCB0aGlzLnRpbWVTdGFtcCA9IGUgJiYgZS50aW1lU3RhbXAgfHwgeC5ub3co
KSwgdGhpc1t4LmV4cGFuZG9dID0gITAsIHQpIDogbmV3IHguRXZlbnQoZSwgbikN
CiAgICB9LCB4LkV2ZW50LnByb3RvdHlwZSA9IHsNCiAgICAgICAgaXNEZWZhdWx0
UHJldmVudGVkOiBvdCwNCiAgICAgICAgaXNQcm9wYWdhdGlvblN0b3BwZWQ6IG90
LA0KICAgICAgICBpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogb3QsDQog
ICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAg
IHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50Ow0KICAgICAgICAgICAgdGhpcy5p
c0RlZmF1bHRQcmV2ZW50ZWQgPSBpdCwgZSAmJiAoZS5wcmV2ZW50RGVmYXVsdCA/
IGUucHJldmVudERlZmF1bHQoKSA6IGUucmV0dXJuVmFsdWUgPSAhMSkNCiAgICAg
ICAgfSwNCiAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHsNCiAg
ICAgICAgICAgIHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50Ow0KICAgICAgICAg
ICAgdGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IGl0LCBlICYmIChlLnN0b3BQ
cm9wYWdhdGlvbiAmJiBlLnN0b3BQcm9wYWdhdGlvbigpLCBlLmNhbmNlbEJ1YmJs
ZSA9ICEwKQ0KICAgICAgICB9LA0KICAgICAgICBzdG9wSW1tZWRpYXRlUHJvcGFn
YXRpb246IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgdGhpcy5pc0ltbWVkaWF0
ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IGl0LCB0aGlzLnN0b3BQcm9wYWdhdGlvbigp
DQogICAgICAgIH0NCiAgICB9LCB4LmVhY2goew0KICAgICAgICBtb3VzZWVudGVy
OiAibW91c2VvdmVyIiwNCiAgICAgICAgbW91c2VsZWF2ZTogIm1vdXNlb3V0Ig0K
ICAgIH0sIGZ1bmN0aW9uKGUsIHQpIHsNCiAgICAgICAgeC5ldmVudC5zcGVjaWFs
W2VdID0gew0KICAgICAgICAgICAgZGVsZWdhdGVUeXBlOiB0LA0KICAgICAgICAg
ICAgYmluZFR5cGU6IHQsDQogICAgICAgICAgICBoYW5kbGU6IGZ1bmN0aW9uKGUp
IHsNCiAgICAgICAgICAgICAgICB2YXIgbiwgciA9IHRoaXMsDQogICAgICAgICAg
ICAgICAgICAgIGkgPSBlLnJlbGF0ZWRUYXJnZXQsDQogICAgICAgICAgICAgICAg
ICAgIG8gPSBlLmhhbmRsZU9iajsNCiAgICAgICAgICAgICAgICByZXR1cm4gKCFp
IHx8IGkgIT09IHIgJiYgIXguY29udGFpbnMociwgaSkpICYmIChlLnR5cGUgPSBv
Lm9yaWdUeXBlLCBuID0gby5oYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyks
IGUudHlwZSA9IHQpLCBuDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9
KSwgeC5zdXBwb3J0LnN1Ym1pdEJ1YmJsZXMgfHwgKHguZXZlbnQuc3BlY2lhbC5z
dWJtaXQgPSB7DQogICAgICAgIHNldHVwOiBmdW5jdGlvbigpIHsNCiAgICAgICAg
ICAgIHJldHVybiB4Lm5vZGVOYW1lKHRoaXMsICJmb3JtIikgPyAhMSA6ICh4LmV2
ZW50LmFkZCh0aGlzLCAiY2xpY2suX3N1Ym1pdCBrZXlwcmVzcy5fc3VibWl0Iiwg
ZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgIHZhciBuID0gZS50YXJnZXQs
DQogICAgICAgICAgICAgICAgICAgIHIgPSB4Lm5vZGVOYW1lKG4sICJpbnB1dCIp
IHx8IHgubm9kZU5hbWUobiwgImJ1dHRvbiIpID8gbi5mb3JtIDogdDsNCiAgICAg
ICAgICAgICAgICByICYmICF4Ll9kYXRhKHIsICJzdWJtaXRCdWJibGVzIikgJiYg
KHguZXZlbnQuYWRkKHIsICJzdWJtaXQuX3N1Ym1pdCIsIGZ1bmN0aW9uKGUpIHsN
CiAgICAgICAgICAgICAgICAgICAgZS5fc3VibWl0X2J1YmJsZSA9ICEwDQogICAg
ICAgICAgICAgICAgfSksIHguX2RhdGEociwgInN1Ym1pdEJ1YmJsZXMiLCAhMCkp
DQogICAgICAgICAgICB9KSwgdCkNCiAgICAgICAgfSwNCiAgICAgICAgcG9zdERp
c3BhdGNoOiBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICBlLl9zdWJtaXRfYnVi
YmxlICYmIChkZWxldGUgZS5fc3VibWl0X2J1YmJsZSwgdGhpcy5wYXJlbnROb2Rl
ICYmICFlLmlzVHJpZ2dlciAmJiB4LmV2ZW50LnNpbXVsYXRlKCJzdWJtaXQiLCB0
aGlzLnBhcmVudE5vZGUsIGUsICEwKSkNCiAgICAgICAgfSwNCiAgICAgICAgdGVh
cmRvd246IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgcmV0dXJuIHgubm9kZU5h
bWUodGhpcywgImZvcm0iKSA/ICExIDogKHguZXZlbnQucmVtb3ZlKHRoaXMsICIu
X3N1Ym1pdCIpLCB0KQ0KICAgICAgICB9DQogICAgfSksIHguc3VwcG9ydC5jaGFu
Z2VCdWJibGVzIHx8ICh4LmV2ZW50LnNwZWNpYWwuY2hhbmdlID0gew0KICAgICAg
ICBzZXR1cDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICByZXR1cm4gWi50ZXN0
KHRoaXMubm9kZU5hbWUpID8gKCgiY2hlY2tib3giID09PSB0aGlzLnR5cGUgfHwg
InJhZGlvIiA9PT0gdGhpcy50eXBlKSAmJiAoeC5ldmVudC5hZGQodGhpcywgInBy
b3BlcnR5Y2hhbmdlLl9jaGFuZ2UiLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAg
ICAgICAgImNoZWNrZWQiID09PSBlLm9yaWdpbmFsRXZlbnQucHJvcGVydHlOYW1l
ICYmICh0aGlzLl9qdXN0X2NoYW5nZWQgPSAhMCkNCiAgICAgICAgICAgIH0pLCB4
LmV2ZW50LmFkZCh0aGlzLCAiY2xpY2suX2NoYW5nZSIsIGZ1bmN0aW9uKGUpIHsN
CiAgICAgICAgICAgICAgICB0aGlzLl9qdXN0X2NoYW5nZWQgJiYgIWUuaXNUcmln
Z2VyICYmICh0aGlzLl9qdXN0X2NoYW5nZWQgPSAhMSksIHguZXZlbnQuc2ltdWxh
dGUoImNoYW5nZSIsIHRoaXMsIGUsICEwKQ0KICAgICAgICAgICAgfSkpLCAhMSkg
OiAoeC5ldmVudC5hZGQodGhpcywgImJlZm9yZWFjdGl2YXRlLl9jaGFuZ2UiLCBm
dW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgdmFyIHQgPSBlLnRhcmdldDsN
CiAgICAgICAgICAgICAgICBaLnRlc3QodC5ub2RlTmFtZSkgJiYgIXguX2RhdGEo
dCwgImNoYW5nZUJ1YmJsZXMiKSAmJiAoeC5ldmVudC5hZGQodCwgImNoYW5nZS5f
Y2hhbmdlIiwgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgICAgICAhdGhp
cy5wYXJlbnROb2RlIHx8IGUuaXNTaW11bGF0ZWQgfHwgZS5pc1RyaWdnZXIgfHwg
eC5ldmVudC5zaW11bGF0ZSgiY2hhbmdlIiwgdGhpcy5wYXJlbnROb2RlLCBlLCAh
MCkNCiAgICAgICAgICAgICAgICB9KSwgeC5fZGF0YSh0LCAiY2hhbmdlQnViYmxl
cyIsICEwKSkNCiAgICAgICAgICAgIH0pLCB0KQ0KICAgICAgICB9LA0KICAgICAg
ICBoYW5kbGU6IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgIHZhciBuID0gZS50
YXJnZXQ7DQogICAgICAgICAgICByZXR1cm4gdGhpcyAhPT0gbiB8fCBlLmlzU2lt
dWxhdGVkIHx8IGUuaXNUcmlnZ2VyIHx8ICJyYWRpbyIgIT09IG4udHlwZSAmJiAi
Y2hlY2tib3giICE9PSBuLnR5cGUgPyBlLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5
KHRoaXMsIGFyZ3VtZW50cykgOiB0DQogICAgICAgIH0sDQogICAgICAgIHRlYXJk
b3duOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiB4LmV2ZW50LnJl
bW92ZSh0aGlzLCAiLl9jaGFuZ2UiKSwgIVoudGVzdCh0aGlzLm5vZGVOYW1lKQ0K
ICAgICAgICB9DQogICAgfSksIHguc3VwcG9ydC5mb2N1c2luQnViYmxlcyB8fCB4
LmVhY2goew0KICAgICAgICBmb2N1czogImZvY3VzaW4iLA0KICAgICAgICBibHVy
OiAiZm9jdXNvdXQiDQogICAgfSwgZnVuY3Rpb24oZSwgdCkgew0KICAgICAgICB2
YXIgbiA9IDAsDQogICAgICAgICAgICByID0gZnVuY3Rpb24oZSkgew0KICAgICAg
ICAgICAgICAgIHguZXZlbnQuc2ltdWxhdGUodCwgZS50YXJnZXQsIHguZXZlbnQu
Zml4KGUpLCAhMCkNCiAgICAgICAgICAgIH07DQogICAgICAgIHguZXZlbnQuc3Bl
Y2lhbFt0XSA9IHsNCiAgICAgICAgICAgIHNldHVwOiBmdW5jdGlvbigpIHsNCiAg
ICAgICAgICAgICAgICAwID09PSBuKysgJiYgYS5hZGRFdmVudExpc3RlbmVyKGUs
IHIsICEwKQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHRlYXJkb3duOiBm
dW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAwID09PSAtLW4gJiYgYS5yZW1v
dmVFdmVudExpc3RlbmVyKGUsIHIsICEwKQ0KICAgICAgICAgICAgfQ0KICAgICAg
ICB9DQogICAgfSksIHguZm4uZXh0ZW5kKHsNCiAgICAgICAgb246IGZ1bmN0aW9u
KGUsIG4sIHIsIGksIG8pIHsNCiAgICAgICAgICAgIHZhciBhLCBzOw0KICAgICAg
ICAgICAgaWYgKCJvYmplY3QiID09IHR5cGVvZiBlKSB7DQogICAgICAgICAgICAg
ICAgInN0cmluZyIgIT0gdHlwZW9mIG4gJiYgKHIgPSByIHx8IG4sIG4gPSB0KTsN
CiAgICAgICAgICAgICAgICBmb3IgKGEgaW4gZSkgdGhpcy5vbihhLCBuLCByLCBl
W2FdLCBvKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcw0KICAgICAgICAg
ICAgfQ0KICAgICAgICAgICAgaWYgKG51bGwgPT0gciAmJiBudWxsID09IGkgPyAo
aSA9IG4sIHIgPSBuID0gdCkgOiBudWxsID09IGkgJiYgKCJzdHJpbmciID09IHR5
cGVvZiBuID8gKGkgPSByLCByID0gdCkgOiAoaSA9IHIsIHIgPSBuLCBuID0gdCkp
LCBpID09PSAhMSkgaSA9IG90Ow0KICAgICAgICAgICAgZWxzZSBpZiAoIWkpIHJl
dHVybiB0aGlzOw0KICAgICAgICAgICAgcmV0dXJuIDEgPT09IG8gJiYgKHMgPSBp
LCBpID0gZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiB4KCku
b2ZmKGUpLCBzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykNCiAgICAgICAgICAgIH0s
IGkuZ3VpZCA9IHMuZ3VpZCB8fCAocy5ndWlkID0geC5ndWlkKyspKSwgdGhpcy5l
YWNoKGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIHguZXZlbnQuYWRkKHRo
aXMsIGUsIGksIHIsIG4pDQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAg
ICAgICBvbmU6IGZ1bmN0aW9uKGUsIHQsIG4sIHIpIHsNCiAgICAgICAgICAgIHJl
dHVybiB0aGlzLm9uKGUsIHQsIG4sIHIsIDEpDQogICAgICAgIH0sDQogICAgICAg
IG9mZjogZnVuY3Rpb24oZSwgbiwgcikgew0KICAgICAgICAgICAgdmFyIGksIG87
DQogICAgICAgICAgICBpZiAoZSAmJiBlLnByZXZlbnREZWZhdWx0ICYmIGUuaGFu
ZGxlT2JqKSByZXR1cm4gaSA9IGUuaGFuZGxlT2JqLCB4KGUuZGVsZWdhdGVUYXJn
ZXQpLm9mZihpLm5hbWVzcGFjZSA/IGkub3JpZ1R5cGUgKyAiLiIgKyBpLm5hbWVz
cGFjZSA6IGkub3JpZ1R5cGUsIGkuc2VsZWN0b3IsIGkuaGFuZGxlciksIHRoaXM7
DQogICAgICAgICAgICBpZiAoIm9iamVjdCIgPT0gdHlwZW9mIGUpIHsNCiAgICAg
ICAgICAgICAgICBmb3IgKG8gaW4gZSkgdGhpcy5vZmYobywgbiwgZVtvXSk7DQog
ICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMNCiAgICAgICAgICAgIH0NCiAgICAg
ICAgICAgIHJldHVybiAobiA9PT0gITEgfHwgImZ1bmN0aW9uIiA9PSB0eXBlb2Yg
bikgJiYgKHIgPSBuLCBuID0gdCksIHIgPT09ICExICYmIChyID0gb3QpLCB0aGlz
LmVhY2goZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgeC5ldmVudC5yZW1v
dmUodGhpcywgZSwgciwgbikNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQog
ICAgICAgIHRyaWdnZXI6IGZ1bmN0aW9uKGUsIHQpIHsNCiAgICAgICAgICAgIHJl
dHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgeC5l
dmVudC50cmlnZ2VyKGUsIHQsIHRoaXMpDQogICAgICAgICAgICB9KQ0KICAgICAg
ICB9LA0KICAgICAgICB0cmlnZ2VySGFuZGxlcjogZnVuY3Rpb24oZSwgbikgew0K
ICAgICAgICAgICAgdmFyIHIgPSB0aGlzWzBdOw0KICAgICAgICAgICAgcmV0dXJu
IHIgPyB4LmV2ZW50LnRyaWdnZXIoZSwgbiwgciwgITApIDogdA0KICAgICAgICB9
DQogICAgfSk7DQogICAgdmFyIHN0ID0gL14uW146I1xbXC4sXSokLywNCiAgICAg
ICAgbHQgPSAvXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLywNCiAgICAg
ICAgdXQgPSB4LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LA0KICAgICAgICBjdCA9
IHsNCiAgICAgICAgICAgIGNoaWxkcmVuOiAhMCwNCiAgICAgICAgICAgIGNvbnRl
bnRzOiAhMCwNCiAgICAgICAgICAgIG5leHQ6ICEwLA0KICAgICAgICAgICAgcHJl
djogITANCiAgICAgICAgfTsNCiAgICB4LmZuLmV4dGVuZCh7DQogICAgICAgIGZp
bmQ6IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgIHZhciB0LCBuID0gW10sDQog
ICAgICAgICAgICAgICAgciA9IHRoaXMsDQogICAgICAgICAgICAgICAgaSA9IHIu
bGVuZ3RoOw0KICAgICAgICAgICAgaWYgKCJzdHJpbmciICE9IHR5cGVvZiBlKSBy
ZXR1cm4gdGhpcy5wdXNoU3RhY2soeChlKS5maWx0ZXIoZnVuY3Rpb24oKSB7DQog
ICAgICAgICAgICAgICAgZm9yICh0ID0gMDsgaSA+IHQ7IHQrKykNCiAgICAgICAg
ICAgICAgICAgICAgaWYgKHguY29udGFpbnMoclt0XSwgdGhpcykpIHJldHVybiAh
MA0KICAgICAgICAgICAgfSkpOw0KICAgICAgICAgICAgZm9yICh0ID0gMDsgaSA+
IHQ7IHQrKykgeC5maW5kKGUsIHJbdF0sIG4pOw0KICAgICAgICAgICAgcmV0dXJu
IG4gPSB0aGlzLnB1c2hTdGFjayhpID4gMSA/IHgudW5pcXVlKG4pIDogbiksIG4u
c2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yID8gdGhpcy5zZWxlY3RvciArICIgIiAr
IGUgOiBlLCBuDQogICAgICAgIH0sDQogICAgICAgIGhhczogZnVuY3Rpb24oZSkg
ew0KICAgICAgICAgICAgdmFyIHQsIG4gPSB4KGUsIHRoaXMpLA0KICAgICAgICAg
ICAgICAgIHIgPSBuLmxlbmd0aDsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLmZp
bHRlcihmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBmb3IgKHQgPSAwOyBy
ID4gdDsgdCsrKQ0KICAgICAgICAgICAgICAgICAgICBpZiAoeC5jb250YWlucyh0
aGlzLCBuW3RdKSkgcmV0dXJuICEwDQogICAgICAgICAgICB9KQ0KICAgICAgICB9
LA0KICAgICAgICBub3Q6IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgIHJldHVy
biB0aGlzLnB1c2hTdGFjayhmdCh0aGlzLCBlIHx8IFtdLCAhMCkpDQogICAgICAg
IH0sDQogICAgICAgIGZpbHRlcjogZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAg
cmV0dXJuIHRoaXMucHVzaFN0YWNrKGZ0KHRoaXMsIGUgfHwgW10sICExKSkNCiAg
ICAgICAgfSwNCiAgICAgICAgaXM6IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAg
IHJldHVybiAhIWZ0KHRoaXMsICJzdHJpbmciID09IHR5cGVvZiBlICYmIHV0LnRl
c3QoZSkgPyB4KGUpIDogZSB8fCBbXSwgITEpLmxlbmd0aA0KICAgICAgICB9LA0K
ICAgICAgICBjbG9zZXN0OiBmdW5jdGlvbihlLCB0KSB7DQogICAgICAgICAgICB2
YXIgbiwgciA9IDAsDQogICAgICAgICAgICAgICAgaSA9IHRoaXMubGVuZ3RoLA0K
ICAgICAgICAgICAgICAgIG8gPSBbXSwNCiAgICAgICAgICAgICAgICBhID0gdXQu
dGVzdChlKSB8fCAic3RyaW5nIiAhPSB0eXBlb2YgZSA/IHgoZSwgdCB8fCB0aGlz
LmNvbnRleHQpIDogMDsNCiAgICAgICAgICAgIGZvciAoOyBpID4gcjsgcisrKQ0K
ICAgICAgICAgICAgICAgIGZvciAobiA9IHRoaXNbcl07IG4gJiYgbiAhPT0gdDsg
biA9IG4ucGFyZW50Tm9kZSkNCiAgICAgICAgICAgICAgICAgICAgaWYgKDExID4g
bi5ub2RlVHlwZSAmJiAoYSA/IGEuaW5kZXgobikgPiAtMSA6IDEgPT09IG4ubm9k
ZVR5cGUgJiYgeC5maW5kLm1hdGNoZXNTZWxlY3RvcihuLCBlKSkpIHsNCiAgICAg
ICAgICAgICAgICAgICAgICAgIG4gPSBvLnB1c2gobik7DQogICAgICAgICAgICAg
ICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAg
ICAgICByZXR1cm4gdGhpcy5wdXNoU3RhY2soby5sZW5ndGggPiAxID8geC51bmlx
dWUobykgOiBvKQ0KICAgICAgICB9LA0KICAgICAgICBpbmRleDogZnVuY3Rpb24o
ZSkgew0KICAgICAgICAgICAgcmV0dXJuIGUgPyAic3RyaW5nIiA9PSB0eXBlb2Yg
ZSA/IHguaW5BcnJheSh0aGlzWzBdLCB4KGUpKSA6IHguaW5BcnJheShlLmpxdWVy
eSA/IGVbMF0gOiBlLCB0aGlzKSA6IHRoaXNbMF0gJiYgdGhpc1swXS5wYXJlbnRO
b2RlID8gdGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGggOiAtMQ0KICAgICAg
ICB9LA0KICAgICAgICBhZGQ6IGZ1bmN0aW9uKGUsIHQpIHsNCiAgICAgICAgICAg
IHZhciBuID0gInN0cmluZyIgPT0gdHlwZW9mIGUgPyB4KGUsIHQpIDogeC5tYWtl
QXJyYXkoZSAmJiBlLm5vZGVUeXBlID8gW2VdIDogZSksDQogICAgICAgICAgICAg
ICAgciA9IHgubWVyZ2UodGhpcy5nZXQoKSwgbik7DQogICAgICAgICAgICByZXR1
cm4gdGhpcy5wdXNoU3RhY2soeC51bmlxdWUocikpDQogICAgICAgIH0sDQogICAg
ICAgIGFkZEJhY2s6IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgIHJldHVybiB0
aGlzLmFkZChudWxsID09IGUgPyB0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZP
YmplY3QuZmlsdGVyKGUpKQ0KICAgICAgICB9DQogICAgfSk7DQoNCiAgICBmdW5j
dGlvbiBwdChlLCB0KSB7DQogICAgICAgIGRvIGUgPSBlW3RdOyB3aGlsZSAoZSAm
JiAxICE9PSBlLm5vZGVUeXBlKTsNCiAgICAgICAgcmV0dXJuIGUNCiAgICB9DQog
ICAgeC5lYWNoKHsNCiAgICAgICAgcGFyZW50OiBmdW5jdGlvbihlKSB7DQogICAg
ICAgICAgICB2YXIgdCA9IGUucGFyZW50Tm9kZTsNCiAgICAgICAgICAgIHJldHVy
biB0ICYmIDExICE9PSB0Lm5vZGVUeXBlID8gdCA6IG51bGwNCiAgICAgICAgfSwN
CiAgICAgICAgcGFyZW50czogZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgcmV0
dXJuIHguZGlyKGUsICJwYXJlbnROb2RlIikNCiAgICAgICAgfSwNCiAgICAgICAg
cGFyZW50c1VudGlsOiBmdW5jdGlvbihlLCB0LCBuKSB7DQogICAgICAgICAgICBy
ZXR1cm4geC5kaXIoZSwgInBhcmVudE5vZGUiLCBuKQ0KICAgICAgICB9LA0KICAg
ICAgICBuZXh0OiBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICByZXR1cm4gcHQo
ZSwgIm5leHRTaWJsaW5nIikNCiAgICAgICAgfSwNCiAgICAgICAgcHJldjogZnVu
Y3Rpb24oZSkgew0KICAgICAgICAgICAgcmV0dXJuIHB0KGUsICJwcmV2aW91c1Np
YmxpbmciKQ0KICAgICAgICB9LA0KICAgICAgICBuZXh0QWxsOiBmdW5jdGlvbihl
KSB7DQogICAgICAgICAgICByZXR1cm4geC5kaXIoZSwgIm5leHRTaWJsaW5nIikN
CiAgICAgICAgfSwNCiAgICAgICAgcHJldkFsbDogZnVuY3Rpb24oZSkgew0KICAg
ICAgICAgICAgcmV0dXJuIHguZGlyKGUsICJwcmV2aW91c1NpYmxpbmciKQ0KICAg
ICAgICB9LA0KICAgICAgICBuZXh0VW50aWw6IGZ1bmN0aW9uKGUsIHQsIG4pIHsN
CiAgICAgICAgICAgIHJldHVybiB4LmRpcihlLCAibmV4dFNpYmxpbmciLCBuKQ0K
ICAgICAgICB9LA0KICAgICAgICBwcmV2VW50aWw6IGZ1bmN0aW9uKGUsIHQsIG4p
IHsNCiAgICAgICAgICAgIHJldHVybiB4LmRpcihlLCAicHJldmlvdXNTaWJsaW5n
IiwgbikNCiAgICAgICAgfSwNCiAgICAgICAgc2libGluZ3M6IGZ1bmN0aW9uKGUp
IHsNCiAgICAgICAgICAgIHJldHVybiB4LnNpYmxpbmcoKGUucGFyZW50Tm9kZSB8
fCB7fSkuZmlyc3RDaGlsZCwgZSkNCiAgICAgICAgfSwNCiAgICAgICAgY2hpbGRy
ZW46IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgIHJldHVybiB4LnNpYmxpbmco
ZS5maXJzdENoaWxkKQ0KICAgICAgICB9LA0KICAgICAgICBjb250ZW50czogZnVu
Y3Rpb24oZSkgew0KICAgICAgICAgICAgcmV0dXJuIHgubm9kZU5hbWUoZSwgImlm
cmFtZSIpID8gZS5jb250ZW50RG9jdW1lbnQgfHwgZS5jb250ZW50V2luZG93LmRv
Y3VtZW50IDogeC5tZXJnZShbXSwgZS5jaGlsZE5vZGVzKQ0KICAgICAgICB9DQog
ICAgfSwgZnVuY3Rpb24oZSwgdCkgew0KICAgICAgICB4LmZuW2VdID0gZnVuY3Rp
b24obiwgcikgew0KICAgICAgICAgICAgdmFyIGkgPSB4Lm1hcCh0aGlzLCB0LCBu
KTsNCiAgICAgICAgICAgIHJldHVybiAiVW50aWwiICE9PSBlLnNsaWNlKC01KSAm
JiAociA9IG4pLCByICYmICJzdHJpbmciID09IHR5cGVvZiByICYmIChpID0geC5m
aWx0ZXIociwgaSkpLCB0aGlzLmxlbmd0aCA+IDEgJiYgKGN0W2VdIHx8IChpID0g
eC51bmlxdWUoaSkpLCBsdC50ZXN0KGUpICYmIChpID0gaS5yZXZlcnNlKCkpKSwg
dGhpcy5wdXNoU3RhY2soaSkNCiAgICAgICAgfQ0KICAgIH0pLCB4LmV4dGVuZCh7
DQogICAgICAgIGZpbHRlcjogZnVuY3Rpb24oZSwgdCwgbikgew0KICAgICAgICAg
ICAgdmFyIHIgPSB0WzBdOw0KICAgICAgICAgICAgcmV0dXJuIG4gJiYgKGUgPSAi
Om5vdCgiICsgZSArICIpIiksIDEgPT09IHQubGVuZ3RoICYmIDEgPT09IHIubm9k
ZVR5cGUgPyB4LmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsIGUpID8gW3JdIDogW10g
OiB4LmZpbmQubWF0Y2hlcyhlLCB4LmdyZXAodCwgZnVuY3Rpb24oZSkgew0KICAg
ICAgICAgICAgICAgIHJldHVybiAxID09PSBlLm5vZGVUeXBlDQogICAgICAgICAg
ICB9KSkNCiAgICAgICAgfSwNCiAgICAgICAgZGlyOiBmdW5jdGlvbihlLCBuLCBy
KSB7DQogICAgICAgICAgICB2YXIgaSA9IFtdLA0KICAgICAgICAgICAgICAgIG8g
PSBlW25dOw0KICAgICAgICAgICAgd2hpbGUgKG8gJiYgOSAhPT0gby5ub2RlVHlw
ZSAmJiAociA9PT0gdCB8fCAxICE9PSBvLm5vZGVUeXBlIHx8ICF4KG8pLmlzKHIp
KSkgMSA9PT0gby5ub2RlVHlwZSAmJiBpLnB1c2gobyksIG8gPSBvW25dOw0KICAg
ICAgICAgICAgcmV0dXJuIGkNCiAgICAgICAgfSwNCiAgICAgICAgc2libGluZzog
ZnVuY3Rpb24oZSwgdCkgew0KICAgICAgICAgICAgdmFyIG4gPSBbXTsNCiAgICAg
ICAgICAgIGZvciAoOyBlOyBlID0gZS5uZXh0U2libGluZykgMSA9PT0gZS5ub2Rl
VHlwZSAmJiBlICE9PSB0ICYmIG4ucHVzaChlKTsNCiAgICAgICAgICAgIHJldHVy
biBuDQogICAgICAgIH0NCiAgICB9KTsNCg0KICAgIGZ1bmN0aW9uIGZ0KGUsIHQs
IG4pIHsNCiAgICAgICAgaWYgKHguaXNGdW5jdGlvbih0KSkgcmV0dXJuIHguZ3Jl
cChlLCBmdW5jdGlvbihlLCByKSB7DQogICAgICAgICAgICByZXR1cm4gISF0LmNh
bGwoZSwgciwgZSkgIT09IG4NCiAgICAgICAgfSk7DQogICAgICAgIGlmICh0Lm5v
ZGVUeXBlKSByZXR1cm4geC5ncmVwKGUsIGZ1bmN0aW9uKGUpIHsNCiAgICAgICAg
ICAgIHJldHVybiBlID09PSB0ICE9PSBuDQogICAgICAgIH0pOw0KICAgICAgICBp
ZiAoInN0cmluZyIgPT0gdHlwZW9mIHQpIHsNCiAgICAgICAgICAgIGlmIChzdC50
ZXN0KHQpKSByZXR1cm4geC5maWx0ZXIodCwgZSwgbik7DQogICAgICAgICAgICB0
ID0geC5maWx0ZXIodCwgZSkNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4geC5n
cmVwKGUsIGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgIHJldHVybiB4LmluQXJy
YXkoZSwgdCkgPj0gMCAhPT0gbg0KICAgICAgICB9KQ0KICAgIH0NCg0KICAgIGZ1
bmN0aW9uIGR0KGUpIHsNCiAgICAgICAgdmFyIHQgPSBodC5zcGxpdCgifCIpLA0K
ICAgICAgICAgICAgbiA9IGUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOw0KICAg
ICAgICBpZiAobi5jcmVhdGVFbGVtZW50KQ0KICAgICAgICAgICAgd2hpbGUgKHQu
bGVuZ3RoKSBuLmNyZWF0ZUVsZW1lbnQodC5wb3AoKSk7DQogICAgICAgIHJldHVy
biBuDQogICAgfQ0KICAgIHZhciBodCA9ICJhYmJyfGFydGljbGV8YXNpZGV8YXVk
aW98YmRpfGNhbnZhc3xkYXRhfGRhdGFsaXN0fGRldGFpbHN8ZmlnY2FwdGlvbnxm
aWd1cmV8Zm9vdGVyfGhlYWRlcnxoZ3JvdXB8bWFya3xtZXRlcnxuYXZ8b3V0cHV0
fHByb2dyZXNzfHNlY3Rpb258c3VtbWFyeXx0aW1lfHZpZGVvIiwNCiAgICAgICAg
Z3QgPSAvIGpRdWVyeVxkKz0iKD86bnVsbHxcZCspIi9nLA0KICAgICAgICBtdCA9
IFJlZ0V4cCgiPCg/OiIgKyBodCArICIpW1xccy8+XSIsICJpIiksDQogICAgICAg
IHl0ID0gL15ccysvLA0KICAgICAgICB2dCA9IC88KD8hYXJlYXxicnxjb2x8ZW1i
ZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilc
Lz4vZ2ksDQogICAgICAgIGJ0ID0gLzwoW1x3Ol0rKS8sDQogICAgICAgIHh0ID0g
Lzx0Ym9keS9pLA0KICAgICAgICB3dCA9IC88fCYjP1x3KzsvLA0KICAgICAgICBU
dCA9IC88KD86c2NyaXB0fHN0eWxlfGxpbmspL2ksDQogICAgICAgIEN0ID0gL14o
PzpjaGVja2JveHxyYWRpbykkL2ksDQogICAgICAgIE50ID0gL2NoZWNrZWRccyoo
PzpbXj1dfD1ccyouY2hlY2tlZC4pL2ksDQogICAgICAgIGt0ID0gL14kfFwvKD86
amF2YXxlY21hKXNjcmlwdC9pLA0KICAgICAgICBFdCA9IC9edHJ1ZVwvKC4qKS8s
DQogICAgICAgIFN0ID0gL15ccyo8ISg/OlxbQ0RBVEFcW3wtLSl8KD86XF1cXXwt
LSk+XHMqJC9nLA0KICAgICAgICBBdCA9IHsNCiAgICAgICAgICAgIG9wdGlvbjog
WzEsICI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwgIjwvc2VsZWN0PiJd
LA0KICAgICAgICAgICAgbGVnZW5kOiBbMSwgIjxmaWVsZHNldD4iLCAiPC9maWVs
ZHNldD4iXSwNCiAgICAgICAgICAgIGFyZWE6IFsxLCAiPG1hcD4iLCAiPC9tYXA+
Il0sDQogICAgICAgICAgICBwYXJhbTogWzEsICI8b2JqZWN0PiIsICI8L29iamVj
dD4iXSwNCiAgICAgICAgICAgIHRoZWFkOiBbMSwgIjx0YWJsZT4iLCAiPC90YWJs
ZT4iXSwNCiAgICAgICAgICAgIHRyOiBbMiwgIjx0YWJsZT48dGJvZHk+IiwgIjwv
dGJvZHk+PC90YWJsZT4iXSwNCiAgICAgICAgICAgIGNvbDogWzIsICI8dGFibGU+
PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPiIsICI8L2NvbGdyb3VwPjwvdGFibGU+
Il0sDQogICAgICAgICAgICB0ZDogWzMsICI8dGFibGU+PHRib2R5Pjx0cj4iLCAi
PC90cj48L3Rib2R5PjwvdGFibGU+Il0sDQogICAgICAgICAgICBfZGVmYXVsdDog
eC5zdXBwb3J0Lmh0bWxTZXJpYWxpemUgPyBbMCwgIiIsICIiXSA6IFsxLCAiWDxk
aXY+IiwgIjwvZGl2PiJdDQogICAgICAgIH0sDQogICAgICAgIGp0ID0gZHQoYSks
DQogICAgICAgIER0ID0ganQuYXBwZW5kQ2hpbGQoYS5jcmVhdGVFbGVtZW50KCJk
aXYiKSk7DQogICAgQXQub3B0Z3JvdXAgPSBBdC5vcHRpb24sIEF0LnRib2R5ID0g
QXQudGZvb3QgPSBBdC5jb2xncm91cCA9IEF0LmNhcHRpb24gPSBBdC50aGVhZCwg
QXQudGggPSBBdC50ZCwgeC5mbi5leHRlbmQoew0KICAgICAgICB0ZXh0OiBmdW5j
dGlvbihlKSB7DQogICAgICAgICAgICByZXR1cm4geC5hY2Nlc3ModGhpcywgZnVu
Y3Rpb24oZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBlID09PSB0ID8geC50
ZXh0KHRoaXMpIDogdGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSAmJiB0aGlz
WzBdLm93bmVyRG9jdW1lbnQgfHwgYSkuY3JlYXRlVGV4dE5vZGUoZSkpDQogICAg
ICAgICAgICB9LCBudWxsLCBlLCBhcmd1bWVudHMubGVuZ3RoKQ0KICAgICAgICB9
LA0KICAgICAgICBhcHBlbmQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgcmV0
dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCBmdW5jdGlvbihlKSB7DQogICAg
ICAgICAgICAgICAgaWYgKDEgPT09IHRoaXMubm9kZVR5cGUgfHwgMTEgPT09IHRo
aXMubm9kZVR5cGUgfHwgOSA9PT0gdGhpcy5ub2RlVHlwZSkgew0KICAgICAgICAg
ICAgICAgICAgICB2YXIgdCA9IEx0KHRoaXMsIGUpOw0KICAgICAgICAgICAgICAg
ICAgICB0LmFwcGVuZENoaWxkKGUpDQogICAgICAgICAgICAgICAgfQ0KICAgICAg
ICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgcHJlcGVuZDogZnVuY3Rpb24o
KSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMs
IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICBpZiAoMSA9PT0gdGhpcy5u
b2RlVHlwZSB8fCAxMSA9PT0gdGhpcy5ub2RlVHlwZSB8fCA5ID09PSB0aGlzLm5v
ZGVUeXBlKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciB0ID0gTHQodGhpcywg
ZSk7DQogICAgICAgICAgICAgICAgICAgIHQuaW5zZXJ0QmVmb3JlKGUsIHQuZmly
c3RDaGlsZCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAg
ICAgICB9LA0KICAgICAgICBiZWZvcmU6IGZ1bmN0aW9uKCkgew0KICAgICAgICAg
ICAgcmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCBmdW5jdGlvbihlKSB7
DQogICAgICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlICYmIHRoaXMucGFyZW50
Tm9kZS5pbnNlcnRCZWZvcmUoZSwgdGhpcykNCiAgICAgICAgICAgIH0pDQogICAg
ICAgIH0sDQogICAgICAgIGFmdGVyOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAg
IHJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywgZnVuY3Rpb24oZSkgew0K
ICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Tm9kZSAmJiB0aGlzLnBhcmVudE5v
ZGUuaW5zZXJ0QmVmb3JlKGUsIHRoaXMubmV4dFNpYmxpbmcpDQogICAgICAgICAg
ICB9KQ0KICAgICAgICB9LA0KICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKGUsIHQp
IHsNCiAgICAgICAgICAgIHZhciBuLCByID0gZSA/IHguZmlsdGVyKGUsIHRoaXMp
IDogdGhpcywNCiAgICAgICAgICAgICAgICBpID0gMDsNCiAgICAgICAgICAgIGZv
ciAoOyBudWxsICE9IChuID0gcltpXSk7IGkrKykgdCB8fCAxICE9PSBuLm5vZGVU
eXBlIHx8IHguY2xlYW5EYXRhKEZ0KG4pKSwgbi5wYXJlbnROb2RlICYmICh0ICYm
IHguY29udGFpbnMobi5vd25lckRvY3VtZW50LCBuKSAmJiBfdChGdChuLCAic2Ny
aXB0IikpLCBuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobikpOw0KICAgICAgICAg
ICAgcmV0dXJuIHRoaXMNCiAgICAgICAgfSwNCiAgICAgICAgZW1wdHk6IGZ1bmN0
aW9uKCkgew0KICAgICAgICAgICAgdmFyIGUsIHQgPSAwOw0KICAgICAgICAgICAg
Zm9yICg7IG51bGwgIT0gKGUgPSB0aGlzW3RdKTsgdCsrKSB7DQogICAgICAgICAg
ICAgICAgMSA9PT0gZS5ub2RlVHlwZSAmJiB4LmNsZWFuRGF0YShGdChlLCAhMSkp
Ow0KICAgICAgICAgICAgICAgIHdoaWxlIChlLmZpcnN0Q2hpbGQpIGUucmVtb3Zl
Q2hpbGQoZS5maXJzdENoaWxkKTsNCiAgICAgICAgICAgICAgICBlLm9wdGlvbnMg
JiYgeC5ub2RlTmFtZShlLCAic2VsZWN0IikgJiYgKGUub3B0aW9ucy5sZW5ndGgg
PSAwKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHRoaXMNCiAg
ICAgICAgfSwNCiAgICAgICAgY2xvbmU6IGZ1bmN0aW9uKGUsIHQpIHsNCiAgICAg
ICAgICAgIHJldHVybiBlID0gbnVsbCA9PSBlID8gITEgOiBlLCB0ID0gbnVsbCA9
PSB0ID8gZSA6IHQsIHRoaXMubWFwKGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAg
ICAgIHJldHVybiB4LmNsb25lKHRoaXMsIGUsIHQpDQogICAgICAgICAgICB9KQ0K
ICAgICAgICB9LA0KICAgICAgICBodG1sOiBmdW5jdGlvbihlKSB7DQogICAgICAg
ICAgICByZXR1cm4geC5hY2Nlc3ModGhpcywgZnVuY3Rpb24oZSkgew0KICAgICAg
ICAgICAgICAgIHZhciBuID0gdGhpc1swXSB8fCB7fSwNCiAgICAgICAgICAgICAg
ICAgICAgciA9IDAsDQogICAgICAgICAgICAgICAgICAgIGkgPSB0aGlzLmxlbmd0
aDsNCiAgICAgICAgICAgICAgICBpZiAoZSA9PT0gdCkgcmV0dXJuIDEgPT09IG4u
bm9kZVR5cGUgPyBuLmlubmVySFRNTC5yZXBsYWNlKGd0LCAiIikgOiB0Ow0KICAg
ICAgICAgICAgICAgIGlmICghKCJzdHJpbmciICE9IHR5cGVvZiBlIHx8IFR0LnRl
c3QoZSkgfHwgIXguc3VwcG9ydC5odG1sU2VyaWFsaXplICYmIG10LnRlc3QoZSkg
fHwgIXguc3VwcG9ydC5sZWFkaW5nV2hpdGVzcGFjZSAmJiB5dC50ZXN0KGUpIHx8
IEF0WyhidC5leGVjKGUpIHx8IFsiIiwgIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSkp
IHsNCiAgICAgICAgICAgICAgICAgICAgZSA9IGUucmVwbGFjZSh2dCwgIjwkMT48
LyQyPiIpOw0KICAgICAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAg
ICAgICAgICAgICAgZm9yICg7IGkgPiByOyByKyspIG4gPSB0aGlzW3JdIHx8IHt9
LCAxID09PSBuLm5vZGVUeXBlICYmICh4LmNsZWFuRGF0YShGdChuLCAhMSkpLCBu
LmlubmVySFRNTCA9IGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbiA9IDAN
CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAobykge30NCiAgICAgICAgICAg
ICAgICB9DQogICAgICAgICAgICAgICAgbiAmJiB0aGlzLmVtcHR5KCkuYXBwZW5k
KGUpDQogICAgICAgICAgICB9LCBudWxsLCBlLCBhcmd1bWVudHMubGVuZ3RoKQ0K
ICAgICAgICB9LA0KICAgICAgICByZXBsYWNlV2l0aDogZnVuY3Rpb24oKSB7DQog
ICAgICAgICAgICB2YXIgZSA9IHgubWFwKHRoaXMsIGZ1bmN0aW9uKGUpIHsNCiAg
ICAgICAgICAgICAgICAgICAgcmV0dXJuIFtlLm5leHRTaWJsaW5nLCBlLnBhcmVu
dE5vZGVdDQogICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgdCA9
IDA7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMs
IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgICAgICB2YXIgciA9IGVbdCsrXSwN
CiAgICAgICAgICAgICAgICAgICAgaSA9IGVbdCsrXTsNCiAgICAgICAgICAgICAg
ICBpICYmIChyICYmIHIucGFyZW50Tm9kZSAhPT0gaSAmJiAociA9IHRoaXMubmV4
dFNpYmxpbmcpLCB4KHRoaXMpLnJlbW92ZSgpLCBpLmluc2VydEJlZm9yZShuLCBy
KSkNCiAgICAgICAgICAgIH0sICEwKSwgdCA/IHRoaXMgOiB0aGlzLnJlbW92ZSgp
DQogICAgICAgIH0sDQogICAgICAgIGRldGFjaDogZnVuY3Rpb24oZSkgew0KICAg
ICAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlKGUsICEwKQ0KICAgICAgICB9LA0K
ICAgICAgICBkb21NYW5pcDogZnVuY3Rpb24oZSwgdCwgbikgew0KICAgICAgICAg
ICAgZSA9IGQuYXBwbHkoW10sIGUpOw0KICAgICAgICAgICAgdmFyIHIsIGksIG8s
IGEsIHMsIGwsIHUgPSAwLA0KICAgICAgICAgICAgICAgIGMgPSB0aGlzLmxlbmd0
aCwNCiAgICAgICAgICAgICAgICBwID0gdGhpcywNCiAgICAgICAgICAgICAgICBm
ID0gYyAtIDEsDQogICAgICAgICAgICAgICAgaCA9IGVbMF0sDQogICAgICAgICAg
ICAgICAgZyA9IHguaXNGdW5jdGlvbihoKTsNCiAgICAgICAgICAgIGlmIChnIHx8
ICEoMSA+PSBjIHx8ICJzdHJpbmciICE9IHR5cGVvZiBoIHx8IHguc3VwcG9ydC5j
aGVja0Nsb25lKSAmJiBOdC50ZXN0KGgpKSByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0
aW9uKHIpIHsNCiAgICAgICAgICAgICAgICB2YXIgaSA9IHAuZXEocik7DQogICAg
ICAgICAgICAgICAgZyAmJiAoZVswXSA9IGguY2FsbCh0aGlzLCByLCBpLmh0bWwo
KSkpLCBpLmRvbU1hbmlwKGUsIHQsIG4pDQogICAgICAgICAgICB9KTsNCiAgICAg
ICAgICAgIGlmIChjICYmIChsID0geC5idWlsZEZyYWdtZW50KGUsIHRoaXNbMF0u
b3duZXJEb2N1bWVudCwgITEsICFuICYmIHRoaXMpLCByID0gbC5maXJzdENoaWxk
LCAxID09PSBsLmNoaWxkTm9kZXMubGVuZ3RoICYmIChsID0gciksIHIpKSB7DQog
ICAgICAgICAgICAgICAgZm9yIChhID0geC5tYXAoRnQobCwgInNjcmlwdCIpLCBI
dCksIG8gPSBhLmxlbmd0aDsgYyA+IHU7IHUrKykgaSA9IGwsIHUgIT09IGYgJiYg
KGkgPSB4LmNsb25lKGksICEwLCAhMCksIG8gJiYgeC5tZXJnZShhLCBGdChpLCAi
c2NyaXB0IikpKSwgdC5jYWxsKHRoaXNbdV0sIGksIHUpOw0KICAgICAgICAgICAg
ICAgIGlmIChvKQ0KICAgICAgICAgICAgICAgICAgICBmb3IgKHMgPSBhW2EubGVu
Z3RoIC0gMV0ub3duZXJEb2N1bWVudCwgeC5tYXAoYSwgcXQpLCB1ID0gMDsgbyA+
IHU7IHUrKykgaSA9IGFbdV0sIGt0LnRlc3QoaS50eXBlIHx8ICIiKSAmJiAheC5f
ZGF0YShpLCAiZ2xvYmFsRXZhbCIpICYmIHguY29udGFpbnMocywgaSkgJiYgKGku
c3JjID8geC5fZXZhbFVybChpLnNyYykgOiB4Lmdsb2JhbEV2YWwoKGkudGV4dCB8
fCBpLnRleHRDb250ZW50IHx8IGkuaW5uZXJIVE1MIHx8ICIiKS5yZXBsYWNlKFN0
LCAiIikpKTsNCiAgICAgICAgICAgICAgICBsID0gciA9IG51bGwNCiAgICAgICAg
ICAgIH0NCiAgICAgICAgICAgIHJldHVybiB0aGlzDQogICAgICAgIH0NCiAgICB9
KTsNCg0KICAgIGZ1bmN0aW9uIEx0KGUsIHQpIHsNCiAgICAgICAgcmV0dXJuIHgu
bm9kZU5hbWUoZSwgInRhYmxlIikgJiYgeC5ub2RlTmFtZSgxID09PSB0Lm5vZGVU
eXBlID8gdCA6IHQuZmlyc3RDaGlsZCwgInRyIikgPyBlLmdldEVsZW1lbnRzQnlU
YWdOYW1lKCJ0Ym9keSIpWzBdIHx8IGUuYXBwZW5kQ2hpbGQoZS5vd25lckRvY3Vt
ZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IikpIDogZQ0KICAgIH0NCg0KICAgIGZ1
bmN0aW9uIEh0KGUpIHsNCiAgICAgICAgcmV0dXJuIGUudHlwZSA9IChudWxsICE9
PSB4LmZpbmQuYXR0cihlLCAidHlwZSIpKSArICIvIiArIGUudHlwZSwgZQ0KICAg
IH0NCg0KICAgIGZ1bmN0aW9uIHF0KGUpIHsNCiAgICAgICAgdmFyIHQgPSBFdC5l
eGVjKGUudHlwZSk7DQogICAgICAgIHJldHVybiB0ID8gZS50eXBlID0gdFsxXSA6
IGUucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksIGUNCiAgICB9DQoNCiAgICBmdW5j
dGlvbiBfdChlLCB0KSB7DQogICAgICAgIHZhciBuLCByID0gMDsNCiAgICAgICAg
Zm9yICg7IG51bGwgIT0gKG4gPSBlW3JdKTsgcisrKSB4Ll9kYXRhKG4sICJnbG9i
YWxFdmFsIiwgIXQgfHwgeC5fZGF0YSh0W3JdLCAiZ2xvYmFsRXZhbCIpKQ0KICAg
IH0NCg0KICAgIGZ1bmN0aW9uIE10KGUsIHQpIHsNCiAgICAgICAgaWYgKDEgPT09
IHQubm9kZVR5cGUgJiYgeC5oYXNEYXRhKGUpKSB7DQogICAgICAgICAgICB2YXIg
biwgciwgaSwgbyA9IHguX2RhdGEoZSksDQogICAgICAgICAgICAgICAgYSA9IHgu
X2RhdGEodCwgbyksDQogICAgICAgICAgICAgICAgcyA9IG8uZXZlbnRzOw0KICAg
ICAgICAgICAgaWYgKHMpIHsNCiAgICAgICAgICAgICAgICBkZWxldGUgYS5oYW5k
bGUsIGEuZXZlbnRzID0ge307DQogICAgICAgICAgICAgICAgZm9yIChuIGluIHMp
DQogICAgICAgICAgICAgICAgICAgIGZvciAociA9IDAsIGkgPSBzW25dLmxlbmd0
aDsgaSA+IHI7IHIrKykgeC5ldmVudC5hZGQodCwgbiwgc1tuXVtyXSkNCiAgICAg
ICAgICAgIH0NCiAgICAgICAgICAgIGEuZGF0YSAmJiAoYS5kYXRhID0geC5leHRl
bmQoe30sIGEuZGF0YSkpDQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlv
biBPdChlLCB0KSB7DQogICAgICAgIHZhciBuLCByLCBpOw0KICAgICAgICBpZiAo
MSA9PT0gdC5ub2RlVHlwZSkgew0KICAgICAgICAgICAgaWYgKG4gPSB0Lm5vZGVO
YW1lLnRvTG93ZXJDYXNlKCksICF4LnN1cHBvcnQubm9DbG9uZUV2ZW50ICYmIHRb
eC5leHBhbmRvXSkgew0KICAgICAgICAgICAgICAgIGkgPSB4Ll9kYXRhKHQpOw0K
ICAgICAgICAgICAgICAgIGZvciAociBpbiBpLmV2ZW50cykgeC5yZW1vdmVFdmVu
dCh0LCByLCBpLmhhbmRsZSk7DQogICAgICAgICAgICAgICAgdC5yZW1vdmVBdHRy
aWJ1dGUoeC5leHBhbmRvKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgInNj
cmlwdCIgPT09IG4gJiYgdC50ZXh0ICE9PSBlLnRleHQgPyAoSHQodCkudGV4dCA9
IGUudGV4dCwgcXQodCkpIDogIm9iamVjdCIgPT09IG4gPyAodC5wYXJlbnROb2Rl
ICYmICh0Lm91dGVySFRNTCA9IGUub3V0ZXJIVE1MKSwgeC5zdXBwb3J0Lmh0bWw1
Q2xvbmUgJiYgZS5pbm5lckhUTUwgJiYgIXgudHJpbSh0LmlubmVySFRNTCkgJiYg
KHQuaW5uZXJIVE1MID0gZS5pbm5lckhUTUwpKSA6ICJpbnB1dCIgPT09IG4gJiYg
Q3QudGVzdChlLnR5cGUpID8gKHQuZGVmYXVsdENoZWNrZWQgPSB0LmNoZWNrZWQg
PSBlLmNoZWNrZWQsIHQudmFsdWUgIT09IGUudmFsdWUgJiYgKHQudmFsdWUgPSBl
LnZhbHVlKSkgOiAib3B0aW9uIiA9PT0gbiA/IHQuZGVmYXVsdFNlbGVjdGVkID0g
dC5zZWxlY3RlZCA9IGUuZGVmYXVsdFNlbGVjdGVkIDogKCJpbnB1dCIgPT09IG4g
fHwgInRleHRhcmVhIiA9PT0gbikgJiYgKHQuZGVmYXVsdFZhbHVlID0gZS5kZWZh
dWx0VmFsdWUpDQogICAgICAgIH0NCiAgICB9DQogICAgeC5lYWNoKHsNCiAgICAg
ICAgYXBwZW5kVG86ICJhcHBlbmQiLA0KICAgICAgICBwcmVwZW5kVG86ICJwcmVw
ZW5kIiwNCiAgICAgICAgaW5zZXJ0QmVmb3JlOiAiYmVmb3JlIiwNCiAgICAgICAg
aW5zZXJ0QWZ0ZXI6ICJhZnRlciIsDQogICAgICAgIHJlcGxhY2VBbGw6ICJyZXBs
YWNlV2l0aCINCiAgICB9LCBmdW5jdGlvbihlLCB0KSB7DQogICAgICAgIHguZm5b
ZV0gPSBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICB2YXIgbiwgciA9IDAsDQog
ICAgICAgICAgICAgICAgaSA9IFtdLA0KICAgICAgICAgICAgICAgIG8gPSB4KGUp
LA0KICAgICAgICAgICAgICAgIGEgPSBvLmxlbmd0aCAtIDE7DQogICAgICAgICAg
ICBmb3IgKDsgYSA+PSByOyByKyspIG4gPSByID09PSBhID8gdGhpcyA6IHRoaXMu
Y2xvbmUoITApLCB4KG9bcl0pW3RdKG4pLCBoLmFwcGx5KGksIG4uZ2V0KCkpOw0K
ICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaFN0YWNrKGkpDQogICAgICAgIH0N
CiAgICB9KTsNCg0KICAgIGZ1bmN0aW9uIEZ0KGUsIG4pIHsNCiAgICAgICAgdmFy
IHIsIG8sIGEgPSAwLA0KICAgICAgICAgICAgcyA9IHR5cGVvZiBlLmdldEVsZW1l
bnRzQnlUYWdOYW1lICE9PSBpID8gZS5nZXRFbGVtZW50c0J5VGFnTmFtZShuIHx8
ICIqIikgOiB0eXBlb2YgZS5xdWVyeVNlbGVjdG9yQWxsICE9PSBpID8gZS5xdWVy
eVNlbGVjdG9yQWxsKG4gfHwgIioiKSA6IHQ7DQogICAgICAgIGlmICghcykNCiAg
ICAgICAgICAgIGZvciAocyA9IFtdLCByID0gZS5jaGlsZE5vZGVzIHx8IGU7IG51
bGwgIT0gKG8gPSByW2FdKTsgYSsrKSAhbiB8fCB4Lm5vZGVOYW1lKG8sIG4pID8g
cy5wdXNoKG8pIDogeC5tZXJnZShzLCBGdChvLCBuKSk7DQogICAgICAgIHJldHVy
biBuID09PSB0IHx8IG4gJiYgeC5ub2RlTmFtZShlLCBuKSA/IHgubWVyZ2UoW2Vd
LCBzKSA6IHMNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBCdChlKSB7DQogICAgICAg
IEN0LnRlc3QoZS50eXBlKSAmJiAoZS5kZWZhdWx0Q2hlY2tlZCA9IGUuY2hlY2tl
ZCkNCiAgICB9DQogICAgeC5leHRlbmQoew0KICAgICAgICBjbG9uZTogZnVuY3Rp
b24oZSwgdCwgbikgew0KICAgICAgICAgICAgdmFyIHIsIGksIG8sIGEsIHMsIGwg
PSB4LmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCwgZSk7DQogICAgICAgICAgICBp
ZiAoeC5zdXBwb3J0Lmh0bWw1Q2xvbmUgfHwgeC5pc1hNTERvYyhlKSB8fCAhbXQu
dGVzdCgiPCIgKyBlLm5vZGVOYW1lICsgIj4iKSA/IG8gPSBlLmNsb25lTm9kZSgh
MCkgOiAoRHQuaW5uZXJIVE1MID0gZS5vdXRlckhUTUwsIER0LnJlbW92ZUNoaWxk
KG8gPSBEdC5maXJzdENoaWxkKSksICEoeC5zdXBwb3J0Lm5vQ2xvbmVFdmVudCAm
JiB4LnN1cHBvcnQubm9DbG9uZUNoZWNrZWQgfHwgMSAhPT0gZS5ub2RlVHlwZSAm
JiAxMSAhPT0gZS5ub2RlVHlwZSB8fCB4LmlzWE1MRG9jKGUpKSkNCiAgICAgICAg
ICAgICAgICBmb3IgKHIgPSBGdChvKSwgcyA9IEZ0KGUpLCBhID0gMDsgbnVsbCAh
PSAoaSA9IHNbYV0pOyArK2EpIHJbYV0gJiYgT3QoaSwgclthXSk7DQogICAgICAg
ICAgICBpZiAodCkNCiAgICAgICAgICAgICAgICBpZiAobikNCiAgICAgICAgICAg
ICAgICAgICAgZm9yIChzID0gcyB8fCBGdChlKSwgciA9IHIgfHwgRnQobyksIGEg
PSAwOyBudWxsICE9IChpID0gc1thXSk7IGErKykgTXQoaSwgclthXSk7DQogICAg
ICAgICAgICAgICAgZWxzZSBNdChlLCBvKTsNCiAgICAgICAgICAgIHJldHVybiBy
ID0gRnQobywgInNjcmlwdCIpLCByLmxlbmd0aCA+IDAgJiYgX3QociwgIWwgJiYg
RnQoZSwgInNjcmlwdCIpKSwgciA9IHMgPSBpID0gbnVsbCwgbw0KICAgICAgICB9
LA0KICAgICAgICBidWlsZEZyYWdtZW50OiBmdW5jdGlvbihlLCB0LCBuLCByKSB7
DQogICAgICAgICAgICB2YXIgaSwgbywgYSwgcywgbCwgdSwgYywgcCA9IGUubGVu
Z3RoLA0KICAgICAgICAgICAgICAgIGYgPSBkdCh0KSwNCiAgICAgICAgICAgICAg
ICBkID0gW10sDQogICAgICAgICAgICAgICAgaCA9IDA7DQogICAgICAgICAgICBm
b3IgKDsgcCA+IGg7IGgrKykNCiAgICAgICAgICAgICAgICBpZiAobyA9IGVbaF0s
IG8gfHwgMCA9PT0gbykNCiAgICAgICAgICAgICAgICAgICAgaWYgKCJvYmplY3Qi
ID09PSB4LnR5cGUobykpIHgubWVyZ2UoZCwgby5ub2RlVHlwZSA/IFtvXSA6IG8p
Ow0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh3dC50ZXN0KG8pKSB7DQog
ICAgICAgICAgICAgICAgcyA9IHMgfHwgZi5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVs
ZW1lbnQoImRpdiIpKSwgbCA9IChidC5leGVjKG8pIHx8IFsiIiwgIiJdKVsxXS50
b0xvd2VyQ2FzZSgpLCBjID0gQXRbbF0gfHwgQXQuX2RlZmF1bHQsIHMuaW5uZXJI
VE1MID0gY1sxXSArIG8ucmVwbGFjZSh2dCwgIjwkMT48LyQyPiIpICsgY1syXSwg
aSA9IGNbMF07DQogICAgICAgICAgICAgICAgd2hpbGUgKGktLSkgcyA9IHMubGFz
dENoaWxkOw0KICAgICAgICAgICAgICAgIGlmICgheC5zdXBwb3J0LmxlYWRpbmdX
aGl0ZXNwYWNlICYmIHl0LnRlc3QobykgJiYgZC5wdXNoKHQuY3JlYXRlVGV4dE5v
ZGUoeXQuZXhlYyhvKVswXSkpLCAheC5zdXBwb3J0LnRib2R5KSB7DQogICAgICAg
ICAgICAgICAgICAgIG8gPSAidGFibGUiICE9PSBsIHx8IHh0LnRlc3QobykgPyAi
PHRhYmxlPiIgIT09IGNbMV0gfHwgeHQudGVzdChvKSA/IDAgOiBzIDogcy5maXJz
dENoaWxkLCBpID0gbyAmJiBvLmNoaWxkTm9kZXMubGVuZ3RoOw0KICAgICAgICAg
ICAgICAgICAgICB3aGlsZSAoaS0tKSB4Lm5vZGVOYW1lKHUgPSBvLmNoaWxkTm9k
ZXNbaV0sICJ0Ym9keSIpICYmICF1LmNoaWxkTm9kZXMubGVuZ3RoICYmIG8ucmVt
b3ZlQ2hpbGQodSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAg
eC5tZXJnZShkLCBzLmNoaWxkTm9kZXMpLCBzLnRleHRDb250ZW50ID0gIiI7DQog
ICAgICAgICAgICAgICAgd2hpbGUgKHMuZmlyc3RDaGlsZCkgcy5yZW1vdmVDaGls
ZChzLmZpcnN0Q2hpbGQpOw0KICAgICAgICAgICAgICAgIHMgPSBmLmxhc3RDaGls
ZA0KICAgICAgICAgICAgfSBlbHNlIGQucHVzaCh0LmNyZWF0ZVRleHROb2RlKG8p
KTsNCiAgICAgICAgICAgIHMgJiYgZi5yZW1vdmVDaGlsZChzKSwgeC5zdXBwb3J0
LmFwcGVuZENoZWNrZWQgfHwgeC5ncmVwKEZ0KGQsICJpbnB1dCIpLCBCdCksIGgg
PSAwOw0KICAgICAgICAgICAgd2hpbGUgKG8gPSBkW2grK10pDQogICAgICAgICAg
ICAgICAgaWYgKCghciB8fCAtMSA9PT0geC5pbkFycmF5KG8sIHIpKSAmJiAoYSA9
IHguY29udGFpbnMoby5vd25lckRvY3VtZW50LCBvKSwgcyA9IEZ0KGYuYXBwZW5k
Q2hpbGQobyksICJzY3JpcHQiKSwgYSAmJiBfdChzKSwgbikpIHsNCiAgICAgICAg
ICAgICAgICAgICAgaSA9IDA7DQogICAgICAgICAgICAgICAgICAgIHdoaWxlIChv
ID0gc1tpKytdKSBrdC50ZXN0KG8udHlwZSB8fCAiIikgJiYgbi5wdXNoKG8pDQog
ICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHMgPSBudWxsLCBm
DQogICAgICAgIH0sDQogICAgICAgIGNsZWFuRGF0YTogZnVuY3Rpb24oZSwgdCkg
ew0KICAgICAgICAgICAgdmFyIG4sIHIsIG8sIGEsIHMgPSAwLA0KICAgICAgICAg
ICAgICAgIGwgPSB4LmV4cGFuZG8sDQogICAgICAgICAgICAgICAgdSA9IHguY2Fj
aGUsDQogICAgICAgICAgICAgICAgYyA9IHguc3VwcG9ydC5kZWxldGVFeHBhbmRv
LA0KICAgICAgICAgICAgICAgIGYgPSB4LmV2ZW50LnNwZWNpYWw7DQogICAgICAg
ICAgICBmb3IgKDsgbnVsbCAhPSAobiA9IGVbc10pOyBzKyspDQogICAgICAgICAg
ICAgICAgaWYgKCh0IHx8IHguYWNjZXB0RGF0YShuKSkgJiYgKG8gPSBuW2xdLCBh
ID0gbyAmJiB1W29dKSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoYS5ldmVu
dHMpDQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHIgaW4gYS5ldmVudHMp
IGZbcl0gPyB4LmV2ZW50LnJlbW92ZShuLCByKSA6IHgucmVtb3ZlRXZlbnQobiwg
ciwgYS5oYW5kbGUpOw0KICAgICAgICAgICAgICAgICAgICB1W29dICYmIChkZWxl
dGUgdVtvXSwgYyA/IGRlbGV0ZSBuW2xdIDogdHlwZW9mIG4ucmVtb3ZlQXR0cmli
dXRlICE9PSBpID8gbi5yZW1vdmVBdHRyaWJ1dGUobCkgOiBuW2xdID0gbnVsbCwg
cC5wdXNoKG8pKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAg
ICAgX2V2YWxVcmw6IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgIHJldHVybiB4
LmFqYXgoew0KICAgICAgICAgICAgICAgIHVybDogZSwNCiAgICAgICAgICAgICAg
ICB0eXBlOiAiR0VUIiwNCiAgICAgICAgICAgICAgICBkYXRhVHlwZTogInNjcmlw
dCIsDQogICAgICAgICAgICAgICAgYXN5bmM6ICExLA0KICAgICAgICAgICAgICAg
IGdsb2JhbDogITEsDQogICAgICAgICAgICAgICAgInRocm93cyI6ICEwDQogICAg
ICAgICAgICB9KQ0KICAgICAgICB9DQogICAgfSksIHguZm4uZXh0ZW5kKHsNCiAg
ICAgICAgd3JhcEFsbDogZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgaWYgKHgu
aXNGdW5jdGlvbihlKSkgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KSB7DQog
ICAgICAgICAgICAgICAgeCh0aGlzKS53cmFwQWxsKGUuY2FsbCh0aGlzLCB0KSkN
CiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgaWYgKHRoaXNbMF0pIHsNCiAg
ICAgICAgICAgICAgICB2YXIgdCA9IHgoZSwgdGhpc1swXS5vd25lckRvY3VtZW50
KS5lcSgwKS5jbG9uZSghMCk7DQogICAgICAgICAgICAgICAgdGhpc1swXS5wYXJl
bnROb2RlICYmIHQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLCB0Lm1hcChmdW5jdGlv
bigpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzOw0KICAgICAg
ICAgICAgICAgICAgICB3aGlsZSAoZS5maXJzdENoaWxkICYmIDEgPT09IGUuZmly
c3RDaGlsZC5ub2RlVHlwZSkgZSA9IGUuZmlyc3RDaGlsZDsNCiAgICAgICAgICAg
ICAgICAgICAgcmV0dXJuIGUNCiAgICAgICAgICAgICAgICB9KS5hcHBlbmQodGhp
cykNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB0aGlzDQogICAg
ICAgIH0sDQogICAgICAgIHdyYXBJbm5lcjogZnVuY3Rpb24oZSkgew0KICAgICAg
ICAgICAgcmV0dXJuIHguaXNGdW5jdGlvbihlKSA/IHRoaXMuZWFjaChmdW5jdGlv
bih0KSB7DQogICAgICAgICAgICAgICAgeCh0aGlzKS53cmFwSW5uZXIoZS5jYWxs
KHRoaXMsIHQpKQ0KICAgICAgICAgICAgfSkgOiB0aGlzLmVhY2goZnVuY3Rpb24o
KSB7DQogICAgICAgICAgICAgICAgdmFyIHQgPSB4KHRoaXMpLA0KICAgICAgICAg
ICAgICAgICAgICBuID0gdC5jb250ZW50cygpOw0KICAgICAgICAgICAgICAgIG4u
bGVuZ3RoID8gbi53cmFwQWxsKGUpIDogdC5hcHBlbmQoZSkNCiAgICAgICAgICAg
IH0pDQogICAgICAgIH0sDQogICAgICAgIHdyYXA6IGZ1bmN0aW9uKGUpIHsNCiAg
ICAgICAgICAgIHZhciB0ID0geC5pc0Z1bmN0aW9uKGUpOw0KICAgICAgICAgICAg
cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihuKSB7DQogICAgICAgICAgICAgICAg
eCh0aGlzKS53cmFwQWxsKHQgPyBlLmNhbGwodGhpcywgbikgOiBlKQ0KICAgICAg
ICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgdW53cmFwOiBmdW5jdGlvbigp
IHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rp
b24oKSB7DQogICAgICAgICAgICAgICAgeC5ub2RlTmFtZSh0aGlzLCAiYm9keSIp
IHx8IHgodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKQ0KICAgICAg
ICAgICAgfSkuZW5kKCkNCiAgICAgICAgfQ0KICAgIH0pOw0KICAgIHZhciBQdCwg
UnQsIFd0LCAkdCA9IC9hbHBoYVwoW14pXSpcKS9pLA0KICAgICAgICBJdCA9IC9v
cGFjaXR5XHMqPVxzKihbXildKikvLA0KICAgICAgICB6dCA9IC9eKHRvcHxyaWdo
dHxib3R0b218bGVmdCkkLywNCiAgICAgICAgWHQgPSAvXihub25lfHRhYmxlKD8h
LWNbZWFdKS4rKS8sDQogICAgICAgIFV0ID0gL15tYXJnaW4vLA0KICAgICAgICBW
dCA9IFJlZ0V4cCgiXigiICsgdyArICIpKC4qKSQiLCAiaSIpLA0KICAgICAgICBZ
dCA9IFJlZ0V4cCgiXigiICsgdyArICIpKD8hcHgpW2EteiVdKyQiLCAiaSIpLA0K
ICAgICAgICBKdCA9IFJlZ0V4cCgiXihbKy1dKT0oIiArIHcgKyAiKSIsICJpIiks
DQogICAgICAgIEd0ID0gew0KICAgICAgICAgICAgQk9EWTogImJsb2NrIg0KICAg
ICAgICB9LA0KICAgICAgICBRdCA9IHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiAi
YWJzb2x1dGUiLA0KICAgICAgICAgICAgdmlzaWJpbGl0eTogImhpZGRlbiIsDQog
ICAgICAgICAgICBkaXNwbGF5OiAiYmxvY2siDQogICAgICAgIH0sDQogICAgICAg
IEt0ID0gew0KICAgICAgICAgICAgbGV0dGVyU3BhY2luZzogMCwNCiAgICAgICAg
ICAgIGZvbnRXZWlnaHQ6IDQwMA0KICAgICAgICB9LA0KICAgICAgICBadCA9IFsi
VG9wIiwgIlJpZ2h0IiwgIkJvdHRvbSIsICJMZWZ0Il0sDQogICAgICAgIGVuID0g
WyJXZWJraXQiLCAiTyIsICJNb3oiLCAibXMiXTsNCg0KICAgIGZ1bmN0aW9uIHRu
KGUsIHQpIHsNCiAgICAgICAgaWYgKHQgaW4gZSkgcmV0dXJuIHQ7DQogICAgICAg
IHZhciBuID0gdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHQuc2xpY2UoMSks
DQogICAgICAgICAgICByID0gdCwNCiAgICAgICAgICAgIGkgPSBlbi5sZW5ndGg7
DQogICAgICAgIHdoaWxlIChpLS0pDQogICAgICAgICAgICBpZiAodCA9IGVuW2ld
ICsgbiwgdCBpbiBlKSByZXR1cm4gdDsNCiAgICAgICAgcmV0dXJuIHINCiAgICB9
DQoNCiAgICBmdW5jdGlvbiBubihlLCB0KSB7DQogICAgICAgIHJldHVybiBlID0g
dCB8fCBlLCAibm9uZSIgPT09IHguY3NzKGUsICJkaXNwbGF5IikgfHwgIXguY29u
dGFpbnMoZS5vd25lckRvY3VtZW50LCBlKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9u
IHJuKGUsIHQpIHsNCiAgICAgICAgdmFyIG4sIHIsIGksIG8gPSBbXSwNCiAgICAg
ICAgICAgIGEgPSAwLA0KICAgICAgICAgICAgcyA9IGUubGVuZ3RoOw0KICAgICAg
ICBmb3IgKDsgcyA+IGE7IGErKykgciA9IGVbYV0sIHIuc3R5bGUgJiYgKG9bYV0g
PSB4Ll9kYXRhKHIsICJvbGRkaXNwbGF5IiksIG4gPSByLnN0eWxlLmRpc3BsYXks
IHQgPyAob1thXSB8fCAibm9uZSIgIT09IG4gfHwgKHIuc3R5bGUuZGlzcGxheSA9
ICIiKSwgIiIgPT09IHIuc3R5bGUuZGlzcGxheSAmJiBubihyKSAmJiAob1thXSA9
IHguX2RhdGEociwgIm9sZGRpc3BsYXkiLCBsbihyLm5vZGVOYW1lKSkpKSA6IG9b
YV0gfHwgKGkgPSBubihyKSwgKG4gJiYgIm5vbmUiICE9PSBuIHx8ICFpKSAmJiB4
Ll9kYXRhKHIsICJvbGRkaXNwbGF5IiwgaSA/IG4gOiB4LmNzcyhyLCAiZGlzcGxh
eSIpKSkpOw0KICAgICAgICBmb3IgKGEgPSAwOyBzID4gYTsgYSsrKSByID0gZVth
XSwgci5zdHlsZSAmJiAodCAmJiAibm9uZSIgIT09IHIuc3R5bGUuZGlzcGxheSAm
JiAiIiAhPT0gci5zdHlsZS5kaXNwbGF5IHx8IChyLnN0eWxlLmRpc3BsYXkgPSB0
ID8gb1thXSB8fCAiIiA6ICJub25lIikpOw0KICAgICAgICByZXR1cm4gZQ0KICAg
IH0NCiAgICB4LmZuLmV4dGVuZCh7DQogICAgICAgIGNzczogZnVuY3Rpb24oZSwg
bikgew0KICAgICAgICAgICAgcmV0dXJuIHguYWNjZXNzKHRoaXMsIGZ1bmN0aW9u
KGUsIG4sIHIpIHsNCiAgICAgICAgICAgICAgICB2YXIgaSwgbywgYSA9IHt9LA0K
ICAgICAgICAgICAgICAgICAgICBzID0gMDsNCiAgICAgICAgICAgICAgICBpZiAo
eC5pc0FycmF5KG4pKSB7DQogICAgICAgICAgICAgICAgICAgIGZvciAobyA9IFJ0
KGUpLCBpID0gbi5sZW5ndGg7IGkgPiBzOyBzKyspIGFbbltzXV0gPSB4LmNzcyhl
LCBuW3NdLCAhMSwgbyk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBhDQog
ICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiByICE9PSB0
ID8geC5zdHlsZShlLCBuLCByKSA6IHguY3NzKGUsIG4pDQogICAgICAgICAgICB9
LCBlLCBuLCBhcmd1bWVudHMubGVuZ3RoID4gMSkNCiAgICAgICAgfSwNCiAgICAg
ICAgc2hvdzogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICByZXR1cm4gcm4odGhp
cywgITApDQogICAgICAgIH0sDQogICAgICAgIGhpZGU6IGZ1bmN0aW9uKCkgew0K
ICAgICAgICAgICAgcmV0dXJuIHJuKHRoaXMpDQogICAgICAgIH0sDQogICAgICAg
IHRvZ2dsZTogZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgcmV0dXJuICJib29s
ZWFuIiA9PSB0eXBlb2YgZSA/IGUgPyB0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgp
IDogdGhpcy5lYWNoKGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIG5uKHRo
aXMpID8geCh0aGlzKS5zaG93KCkgOiB4KHRoaXMpLmhpZGUoKQ0KICAgICAgICAg
ICAgfSkNCiAgICAgICAgfQ0KICAgIH0pLCB4LmV4dGVuZCh7DQogICAgICAgIGNz
c0hvb2tzOiB7DQogICAgICAgICAgICBvcGFjaXR5OiB7DQogICAgICAgICAgICAg
ICAgZ2V0OiBmdW5jdGlvbihlLCB0KSB7DQogICAgICAgICAgICAgICAgICAgIGlm
ICh0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IFd0KGUsICJv
cGFjaXR5Iik7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIiIgPT09
IG4gPyAiMSIgOiBuDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAg
ICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGNzc051
bWJlcjogew0KICAgICAgICAgICAgY29sdW1uQ291bnQ6ICEwLA0KICAgICAgICAg
ICAgZmlsbE9wYWNpdHk6ICEwLA0KICAgICAgICAgICAgZm9udFdlaWdodDogITAs
DQogICAgICAgICAgICBsaW5lSGVpZ2h0OiAhMCwNCiAgICAgICAgICAgIG9wYWNp
dHk6ICEwLA0KICAgICAgICAgICAgb3JkZXI6ICEwLA0KICAgICAgICAgICAgb3Jw
aGFuczogITAsDQogICAgICAgICAgICB3aWRvd3M6ICEwLA0KICAgICAgICAgICAg
ekluZGV4OiAhMCwNCiAgICAgICAgICAgIHpvb206ICEwDQogICAgICAgIH0sDQog
ICAgICAgIGNzc1Byb3BzOiB7DQogICAgICAgICAgICAiZmxvYXQiOiB4LnN1cHBv
cnQuY3NzRmxvYXQgPyAiY3NzRmxvYXQiIDogInN0eWxlRmxvYXQiDQogICAgICAg
IH0sDQogICAgICAgIHN0eWxlOiBmdW5jdGlvbihlLCBuLCByLCBpKSB7DQogICAg
ICAgICAgICBpZiAoZSAmJiAzICE9PSBlLm5vZGVUeXBlICYmIDggIT09IGUubm9k
ZVR5cGUgJiYgZS5zdHlsZSkgew0KICAgICAgICAgICAgICAgIHZhciBvLCBhLCBz
LCBsID0geC5jYW1lbENhc2UobiksDQogICAgICAgICAgICAgICAgICAgIHUgPSBl
LnN0eWxlOw0KICAgICAgICAgICAgICAgIGlmIChuID0geC5jc3NQcm9wc1tsXSB8
fCAoeC5jc3NQcm9wc1tsXSA9IHRuKHUsIGwpKSwgcyA9IHguY3NzSG9va3Nbbl0g
fHwgeC5jc3NIb29rc1tsXSwgciA9PT0gdCkgcmV0dXJuIHMgJiYgImdldCIgaW4g
cyAmJiAobyA9IHMuZ2V0KGUsICExLCBpKSkgIT09IHQgPyBvIDogdVtuXTsNCiAg
ICAgICAgICAgICAgICBpZiAoYSA9IHR5cGVvZiByLCAic3RyaW5nIiA9PT0gYSAm
JiAobyA9IEp0LmV4ZWMocikpICYmIChyID0gKG9bMV0gKyAxKSAqIG9bMl0gKyBw
YXJzZUZsb2F0KHguY3NzKGUsIG4pKSwgYSA9ICJudW1iZXIiKSwgIShudWxsID09
IHIgfHwgIm51bWJlciIgPT09IGEgJiYgaXNOYU4ocikgfHwgKCJudW1iZXIiICE9
PSBhIHx8IHguY3NzTnVtYmVyW2xdIHx8IChyICs9ICJweCIpLCB4LnN1cHBvcnQu
Y2xlYXJDbG9uZVN0eWxlIHx8ICIiICE9PSByIHx8IDAgIT09IG4uaW5kZXhPZigi
YmFja2dyb3VuZCIpIHx8ICh1W25dID0gImluaGVyaXQiKSwgcyAmJiAic2V0IiBp
biBzICYmIChyID0gcy5zZXQoZSwgciwgaSkpID09PSB0KSkpIHRyeSB7DQogICAg
ICAgICAgICAgICAgICAgIHVbbl0gPSByDQogICAgICAgICAgICAgICAgfSBjYXRj
aCAoYykge30NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgY3Nz
OiBmdW5jdGlvbihlLCBuLCByLCBpKSB7DQogICAgICAgICAgICB2YXIgbywgYSwg
cywgbCA9IHguY2FtZWxDYXNlKG4pOw0KICAgICAgICAgICAgcmV0dXJuIG4gPSB4
LmNzc1Byb3BzW2xdIHx8ICh4LmNzc1Byb3BzW2xdID0gdG4oZS5zdHlsZSwgbCkp
LCBzID0geC5jc3NIb29rc1tuXSB8fCB4LmNzc0hvb2tzW2xdLCBzICYmICJnZXQi
IGluIHMgJiYgKGEgPSBzLmdldChlLCAhMCwgcikpLCBhID09PSB0ICYmIChhID0g
V3QoZSwgbiwgaSkpLCAibm9ybWFsIiA9PT0gYSAmJiBuIGluIEt0ICYmIChhID0g
S3Rbbl0pLCAiIiA9PT0gciB8fCByID8gKG8gPSBwYXJzZUZsb2F0KGEpLCByID09
PSAhMCB8fCB4LmlzTnVtZXJpYyhvKSA/IG8gfHwgMCA6IGEpIDogYQ0KICAgICAg
ICB9DQogICAgfSksIGUuZ2V0Q29tcHV0ZWRTdHlsZSA/IChSdCA9IGZ1bmN0aW9u
KHQpIHsNCiAgICAgICAgcmV0dXJuIGUuZ2V0Q29tcHV0ZWRTdHlsZSh0LCBudWxs
KQ0KICAgIH0sIFd0ID0gZnVuY3Rpb24oZSwgbiwgcikgew0KICAgICAgICB2YXIg
aSwgbywgYSwgcyA9IHIgfHwgUnQoZSksDQogICAgICAgICAgICBsID0gcyA/IHMu
Z2V0UHJvcGVydHlWYWx1ZShuKSB8fCBzW25dIDogdCwNCiAgICAgICAgICAgIHUg
PSBlLnN0eWxlOw0KICAgICAgICByZXR1cm4gcyAmJiAoIiIgIT09IGwgfHwgeC5j
b250YWlucyhlLm93bmVyRG9jdW1lbnQsIGUpIHx8IChsID0geC5zdHlsZShlLCBu
KSksIFl0LnRlc3QobCkgJiYgVXQudGVzdChuKSAmJiAoaSA9IHUud2lkdGgsIG8g
PSB1Lm1pbldpZHRoLCBhID0gdS5tYXhXaWR0aCwgdS5taW5XaWR0aCA9IHUubWF4
V2lkdGggPSB1LndpZHRoID0gbCwgbCA9IHMud2lkdGgsIHUud2lkdGggPSBpLCB1
Lm1pbldpZHRoID0gbywgdS5tYXhXaWR0aCA9IGEpKSwgbA0KICAgIH0pIDogYS5k
b2N1bWVudEVsZW1lbnQuY3VycmVudFN0eWxlICYmIChSdCA9IGZ1bmN0aW9uKGUp
IHsNCiAgICAgICAgcmV0dXJuIGUuY3VycmVudFN0eWxlDQogICAgfSwgV3QgPSBm
dW5jdGlvbihlLCBuLCByKSB7DQogICAgICAgIHZhciBpLCBvLCBhLCBzID0gciB8
fCBSdChlKSwNCiAgICAgICAgICAgIGwgPSBzID8gc1tuXSA6IHQsDQogICAgICAg
ICAgICB1ID0gZS5zdHlsZTsNCiAgICAgICAgcmV0dXJuIG51bGwgPT0gbCAmJiB1
ICYmIHVbbl0gJiYgKGwgPSB1W25dKSwgWXQudGVzdChsKSAmJiAhenQudGVzdChu
KSAmJiAoaSA9IHUubGVmdCwgbyA9IGUucnVudGltZVN0eWxlLCBhID0gbyAmJiBv
LmxlZnQsIGEgJiYgKG8ubGVmdCA9IGUuY3VycmVudFN0eWxlLmxlZnQpLCB1Lmxl
ZnQgPSAiZm9udFNpemUiID09PSBuID8gIjFlbSIgOiBsLCBsID0gdS5waXhlbExl
ZnQgKyAicHgiLCB1LmxlZnQgPSBpLCBhICYmIChvLmxlZnQgPSBhKSksICIiID09
PSBsID8gImF1dG8iIDogbA0KICAgIH0pOw0KDQogICAgZnVuY3Rpb24gb24oZSwg
dCwgbikgew0KICAgICAgICB2YXIgciA9IFZ0LmV4ZWModCk7DQogICAgICAgIHJl
dHVybiByID8gTWF0aC5tYXgoMCwgclsxXSAtIChuIHx8IDApKSArIChyWzJdIHx8
ICJweCIpIDogdA0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGFuKGUsIHQsIG4sIHIs
IGkpIHsNCiAgICAgICAgdmFyIG8gPSBuID09PSAociA/ICJib3JkZXIiIDogImNv
bnRlbnQiKSA/IDQgOiAid2lkdGgiID09PSB0ID8gMSA6IDAsDQogICAgICAgICAg
ICBhID0gMDsNCiAgICAgICAgZm9yICg7IDQgPiBvOyBvICs9IDIpICJtYXJnaW4i
ID09PSBuICYmIChhICs9IHguY3NzKGUsIG4gKyBadFtvXSwgITAsIGkpKSwgciA/
ICgiY29udGVudCIgPT09IG4gJiYgKGEgLT0geC5jc3MoZSwgInBhZGRpbmciICsg
WnRbb10sICEwLCBpKSksICJtYXJnaW4iICE9PSBuICYmIChhIC09IHguY3NzKGUs
ICJib3JkZXIiICsgWnRbb10gKyAiV2lkdGgiLCAhMCwgaSkpKSA6IChhICs9IHgu
Y3NzKGUsICJwYWRkaW5nIiArIFp0W29dLCAhMCwgaSksICJwYWRkaW5nIiAhPT0g
biAmJiAoYSArPSB4LmNzcyhlLCAiYm9yZGVyIiArIFp0W29dICsgIldpZHRoIiwg
ITAsIGkpKSk7DQogICAgICAgIHJldHVybiBhDQogICAgfQ0KDQogICAgZnVuY3Rp
b24gc24oZSwgdCwgbikgew0KICAgICAgICB2YXIgciA9ICEwLA0KICAgICAgICAg
ICAgaSA9ICJ3aWR0aCIgPT09IHQgPyBlLm9mZnNldFdpZHRoIDogZS5vZmZzZXRI
ZWlnaHQsDQogICAgICAgICAgICBvID0gUnQoZSksDQogICAgICAgICAgICBhID0g
eC5zdXBwb3J0LmJveFNpemluZyAmJiAiYm9yZGVyLWJveCIgPT09IHguY3NzKGUs
ICJib3hTaXppbmciLCAhMSwgbyk7DQogICAgICAgIGlmICgwID49IGkgfHwgbnVs
bCA9PSBpKSB7DQogICAgICAgICAgICBpZiAoaSA9IFd0KGUsIHQsIG8pLCAoMCA+
IGkgfHwgbnVsbCA9PSBpKSAmJiAoaSA9IGUuc3R5bGVbdF0pLCBZdC50ZXN0KGkp
KSByZXR1cm4gaTsNCiAgICAgICAgICAgIHIgPSBhICYmICh4LnN1cHBvcnQuYm94
U2l6aW5nUmVsaWFibGUgfHwgaSA9PT0gZS5zdHlsZVt0XSksIGkgPSBwYXJzZUZs
b2F0KGkpIHx8IDANCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gaSArIGFuKGUs
IHQsIG4gfHwgKGEgPyAiYm9yZGVyIiA6ICJjb250ZW50IiksIHIsIG8pICsgInB4
Ig0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGxuKGUpIHsNCiAgICAgICAgdmFyIHQg
PSBhLA0KICAgICAgICAgICAgbiA9IEd0W2VdOw0KICAgICAgICByZXR1cm4gbiB8
fCAobiA9IHVuKGUsIHQpLCAibm9uZSIgIT09IG4gJiYgbiB8fCAoUHQgPSAoUHQg
fHwgeCgiPGlmcmFtZSBmcmFtZWJvcmRlcj0nMCcgd2lkdGg9JzAnIGhlaWdodD0n
MCcvPiIpLmNzcygiY3NzVGV4dCIsICJkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnQi
KSkuYXBwZW5kVG8odC5kb2N1bWVudEVsZW1lbnQpLCB0ID0gKFB0WzBdLmNvbnRl
bnRXaW5kb3cgfHwgUHRbMF0uY29udGVudERvY3VtZW50KS5kb2N1bWVudCwgdC53
cml0ZSgiPCFkb2N0eXBlIGh0bWw+PGh0bWw+PGJvZHk+IiksIHQuY2xvc2UoKSwg
biA9IHVuKGUsIHQpLCBQdC5kZXRhY2goKSksIEd0W2VdID0gbiksIG4NCiAgICB9
DQoNCiAgICBmdW5jdGlvbiB1bihlLCB0KSB7DQogICAgICAgIHZhciBuID0geCh0
LmNyZWF0ZUVsZW1lbnQoZSkpLmFwcGVuZFRvKHQuYm9keSksDQogICAgICAgICAg
ICByID0geC5jc3MoblswXSwgImRpc3BsYXkiKTsNCiAgICAgICAgcmV0dXJuIG4u
cmVtb3ZlKCksIHINCiAgICB9DQogICAgeC5lYWNoKFsiaGVpZ2h0IiwgIndpZHRo
Il0sIGZ1bmN0aW9uKGUsIG4pIHsNCiAgICAgICAgeC5jc3NIb29rc1tuXSA9IHsN
CiAgICAgICAgICAgIGdldDogZnVuY3Rpb24oZSwgciwgaSkgew0KICAgICAgICAg
ICAgICAgIHJldHVybiByID8gMCA9PT0gZS5vZmZzZXRXaWR0aCAmJiBYdC50ZXN0
KHguY3NzKGUsICJkaXNwbGF5IikpID8geC5zd2FwKGUsIFF0LCBmdW5jdGlvbigp
IHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNuKGUsIG4sIGkpDQogICAg
ICAgICAgICAgICAgfSkgOiBzbihlLCBuLCBpKSA6IHQNCiAgICAgICAgICAgIH0s
DQogICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKGUsIHQsIHIpIHsNCiAgICAgICAg
ICAgICAgICB2YXIgaSA9IHIgJiYgUnQoZSk7DQogICAgICAgICAgICAgICAgcmV0
dXJuIG9uKGUsIHQsIHIgPyBhbihlLCBuLCByLCB4LnN1cHBvcnQuYm94U2l6aW5n
ICYmICJib3JkZXItYm94IiA9PT0geC5jc3MoZSwgImJveFNpemluZyIsICExLCBp
KSwgaSkgOiAwKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSksIHgu
c3VwcG9ydC5vcGFjaXR5IHx8ICh4LmNzc0hvb2tzLm9wYWNpdHkgPSB7DQogICAg
ICAgIGdldDogZnVuY3Rpb24oZSwgdCkgew0KICAgICAgICAgICAgcmV0dXJuIEl0
LnRlc3QoKHQgJiYgZS5jdXJyZW50U3R5bGUgPyBlLmN1cnJlbnRTdHlsZS5maWx0
ZXIgOiBlLnN0eWxlLmZpbHRlcikgfHwgIiIpID8gLjAxICogcGFyc2VGbG9hdChS
ZWdFeHAuJDEpICsgIiIgOiB0ID8gIjEiIDogIiINCiAgICAgICAgfSwNCiAgICAg
ICAgc2V0OiBmdW5jdGlvbihlLCB0KSB7DQogICAgICAgICAgICB2YXIgbiA9IGUu
c3R5bGUsDQogICAgICAgICAgICAgICAgciA9IGUuY3VycmVudFN0eWxlLA0KICAg
ICAgICAgICAgICAgIGkgPSB4LmlzTnVtZXJpYyh0KSA/ICJhbHBoYShvcGFjaXR5
PSIgKyAxMDAgKiB0ICsgIikiIDogIiIsDQogICAgICAgICAgICAgICAgbyA9IHIg
JiYgci5maWx0ZXIgfHwgbi5maWx0ZXIgfHwgIiI7DQogICAgICAgICAgICBuLnpv
b20gPSAxLCAodCA+PSAxIHx8ICIiID09PSB0KSAmJiAiIiA9PT0geC50cmltKG8u
cmVwbGFjZSgkdCwgIiIpKSAmJiBuLnJlbW92ZUF0dHJpYnV0ZSAmJiAobi5yZW1v
dmVBdHRyaWJ1dGUoImZpbHRlciIpLCAiIiA9PT0gdCB8fCByICYmICFyLmZpbHRl
cikgfHwgKG4uZmlsdGVyID0gJHQudGVzdChvKSA/IG8ucmVwbGFjZSgkdCwgaSkg
OiBvICsgIiAiICsgaSkNCiAgICAgICAgfQ0KICAgIH0pLCB4KGZ1bmN0aW9uKCkg
ew0KICAgICAgICB4LnN1cHBvcnQucmVsaWFibGVNYXJnaW5SaWdodCB8fCAoeC5j
c3NIb29rcy5tYXJnaW5SaWdodCA9IHsNCiAgICAgICAgICAgIGdldDogZnVuY3Rp
b24oZSwgbikgew0KICAgICAgICAgICAgICAgIHJldHVybiBuID8geC5zd2FwKGUs
IHsNCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogImlubGluZS1ibG9jayIN
CiAgICAgICAgICAgICAgICB9LCBXdCwgW2UsICJtYXJnaW5SaWdodCJdKSA6IHQN
CiAgICAgICAgICAgIH0NCiAgICAgICAgfSksICF4LnN1cHBvcnQucGl4ZWxQb3Np
dGlvbiAmJiB4LmZuLnBvc2l0aW9uICYmIHguZWFjaChbInRvcCIsICJsZWZ0Il0s
IGZ1bmN0aW9uKGUsIG4pIHsNCiAgICAgICAgICAgIHguY3NzSG9va3Nbbl0gPSB7
DQogICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbihlLCByKSB7DQogICAgICAg
ICAgICAgICAgICAgIHJldHVybiByID8gKHIgPSBXdChlLCBuKSwgWXQudGVzdChy
KSA/IHgoZSkucG9zaXRpb24oKVtuXSArICJweCIgOiByKSA6IHQNCiAgICAgICAg
ICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgfSksIHgu
ZXhwciAmJiB4LmV4cHIuZmlsdGVycyAmJiAoeC5leHByLmZpbHRlcnMuaGlkZGVu
ID0gZnVuY3Rpb24oZSkgew0KICAgICAgICByZXR1cm4gMCA+PSBlLm9mZnNldFdp
ZHRoICYmIDAgPj0gZS5vZmZzZXRIZWlnaHQgfHwgIXguc3VwcG9ydC5yZWxpYWJs
ZUhpZGRlbk9mZnNldHMgJiYgIm5vbmUiID09PSAoZS5zdHlsZSAmJiBlLnN0eWxl
LmRpc3BsYXkgfHwgeC5jc3MoZSwgImRpc3BsYXkiKSkNCiAgICB9LCB4LmV4cHIu
ZmlsdGVycy52aXNpYmxlID0gZnVuY3Rpb24oZSkgew0KICAgICAgICByZXR1cm4g
IXguZXhwci5maWx0ZXJzLmhpZGRlbihlKQ0KICAgIH0pLCB4LmVhY2goew0KICAg
ICAgICBtYXJnaW46ICIiLA0KICAgICAgICBwYWRkaW5nOiAiIiwNCiAgICAgICAg
Ym9yZGVyOiAiV2lkdGgiDQogICAgfSwgZnVuY3Rpb24oZSwgdCkgew0KICAgICAg
ICB4LmNzc0hvb2tzW2UgKyB0XSA9IHsNCiAgICAgICAgICAgIGV4cGFuZDogZnVu
Y3Rpb24obikgew0KICAgICAgICAgICAgICAgIHZhciByID0gMCwNCiAgICAgICAg
ICAgICAgICAgICAgaSA9IHt9LA0KICAgICAgICAgICAgICAgICAgICBvID0gInN0
cmluZyIgPT0gdHlwZW9mIG4gPyBuLnNwbGl0KCIgIikgOiBbbl07DQogICAgICAg
ICAgICAgICAgZm9yICg7IDQgPiByOyByKyspIGlbZSArIFp0W3JdICsgdF0gPSBv
W3JdIHx8IG9bciAtIDJdIHx8IG9bMF07DQogICAgICAgICAgICAgICAgcmV0dXJu
IGkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwgVXQudGVzdChlKSB8fCAoeC5j
c3NIb29rc1tlICsgdF0uc2V0ID0gb24pDQogICAgfSk7DQogICAgdmFyIGNuID0g
LyUyMC9nLA0KICAgICAgICBwbiA9IC9cW1xdJC8sDQogICAgICAgIGZuID0gL1xy
P1xuL2csDQogICAgICAgIGRuID0gL14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJl
c2V0fGZpbGUpJC9pLA0KICAgICAgICBobiA9IC9eKD86aW5wdXR8c2VsZWN0fHRl
eHRhcmVhfGtleWdlbikvaTsNCiAgICB4LmZuLmV4dGVuZCh7DQogICAgICAgIHNl
cmlhbGl6ZTogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICByZXR1cm4geC5wYXJh
bSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpDQogICAgICAgIH0sDQogICAgICAgIHNl
cmlhbGl6ZUFycmF5OiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiB0
aGlzLm1hcChmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICB2YXIgZSA9IHgu
cHJvcCh0aGlzLCAiZWxlbWVudHMiKTsNCiAgICAgICAgICAgICAgICByZXR1cm4g
ZSA/IHgubWFrZUFycmF5KGUpIDogdGhpcw0KICAgICAgICAgICAgfSkuZmlsdGVy
KGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy50eXBl
Ow0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm5hbWUgJiYgIXgodGhpcyku
aXMoIjpkaXNhYmxlZCIpICYmIGhuLnRlc3QodGhpcy5ub2RlTmFtZSkgJiYgIWRu
LnRlc3QoZSkgJiYgKHRoaXMuY2hlY2tlZCB8fCAhQ3QudGVzdChlKSkNCiAgICAg
ICAgICAgIH0pLm1hcChmdW5jdGlvbihlLCB0KSB7DQogICAgICAgICAgICAgICAg
dmFyIG4gPSB4KHRoaXMpLnZhbCgpOw0KICAgICAgICAgICAgICAgIHJldHVybiBu
dWxsID09IG4gPyBudWxsIDogeC5pc0FycmF5KG4pID8geC5tYXAobiwgZnVuY3Rp
b24oZSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAg
ICAgICAgICAgICAgICAgbmFtZTogdC5uYW1lLA0KICAgICAgICAgICAgICAgICAg
ICAgICAgdmFsdWU6IGUucmVwbGFjZShmbiwgIlxyXG4iKQ0KICAgICAgICAgICAg
ICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkgOiB7DQogICAgICAgICAgICAg
ICAgICAgIG5hbWU6IHQubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6
IG4ucmVwbGFjZShmbiwgIlxyXG4iKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAg
ICAgICAgIH0pLmdldCgpDQogICAgICAgIH0NCiAgICB9KSwgeC5wYXJhbSA9IGZ1
bmN0aW9uKGUsIG4pIHsNCiAgICAgICAgdmFyIHIsIGkgPSBbXSwNCiAgICAgICAg
ICAgIG8gPSBmdW5jdGlvbihlLCB0KSB7DQogICAgICAgICAgICAgICAgdCA9IHgu
aXNGdW5jdGlvbih0KSA/IHQoKSA6IG51bGwgPT0gdCA/ICIiIDogdCwgaVtpLmxl
bmd0aF0gPSBlbmNvZGVVUklDb21wb25lbnQoZSkgKyAiPSIgKyBlbmNvZGVVUklD
b21wb25lbnQodCkNCiAgICAgICAgICAgIH07DQogICAgICAgIGlmIChuID09PSB0
ICYmIChuID0geC5hamF4U2V0dGluZ3MgJiYgeC5hamF4U2V0dGluZ3MudHJhZGl0
aW9uYWwpLCB4LmlzQXJyYXkoZSkgfHwgZS5qcXVlcnkgJiYgIXguaXNQbGFpbk9i
amVjdChlKSkgeC5lYWNoKGUsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgbyh0
aGlzLm5hbWUsIHRoaXMudmFsdWUpDQogICAgICAgIH0pOw0KICAgICAgICBlbHNl
DQogICAgICAgICAgICBmb3IgKHIgaW4gZSkgZ24ociwgZVtyXSwgbiwgbyk7DQog
ICAgICAgIHJldHVybiBpLmpvaW4oIiYiKS5yZXBsYWNlKGNuLCAiKyIpDQogICAg
fTsNCg0KICAgIGZ1bmN0aW9uIGduKGUsIHQsIG4sIHIpIHsNCiAgICAgICAgdmFy
IGk7DQogICAgICAgIGlmICh4LmlzQXJyYXkodCkpIHguZWFjaCh0LCBmdW5jdGlv
bih0LCBpKSB7DQogICAgICAgICAgICBuIHx8IHBuLnRlc3QoZSkgPyByKGUsIGkp
IDogZ24oZSArICJbIiArICgib2JqZWN0IiA9PSB0eXBlb2YgaSA/IHQgOiAiIikg
KyAiXSIsIGksIG4sIHIpDQogICAgICAgIH0pOw0KICAgICAgICBlbHNlIGlmIChu
IHx8ICJvYmplY3QiICE9PSB4LnR5cGUodCkpIHIoZSwgdCk7DQogICAgICAgIGVs
c2UNCiAgICAgICAgICAgIGZvciAoaSBpbiB0KSBnbihlICsgIlsiICsgaSArICJd
IiwgdFtpXSwgbiwgcikNCiAgICB9DQogICAgeC5lYWNoKCJibHVyIGZvY3VzIGZv
Y3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBk
YmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1v
dXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1p
dCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51Ii5zcGxp
dCgiICIpLCBmdW5jdGlvbihlLCB0KSB7DQogICAgICAgIHguZm5bdF0gPSBmdW5j
dGlvbihlLCBuKSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0
aCA+IDAgPyB0aGlzLm9uKHQsIG51bGwsIGUsIG4pIDogdGhpcy50cmlnZ2VyKHQp
DQogICAgICAgIH0NCiAgICB9KSwgeC5mbi5leHRlbmQoew0KICAgICAgICBob3Zl
cjogZnVuY3Rpb24oZSwgdCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMubW91
c2VlbnRlcihlKS5tb3VzZWxlYXZlKHQgfHwgZSkNCiAgICAgICAgfSwNCiAgICAg
ICAgYmluZDogZnVuY3Rpb24oZSwgdCwgbikgew0KICAgICAgICAgICAgcmV0dXJu
IHRoaXMub24oZSwgbnVsbCwgdCwgbikNCiAgICAgICAgfSwNCiAgICAgICAgdW5i
aW5kOiBmdW5jdGlvbihlLCB0KSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5v
ZmYoZSwgbnVsbCwgdCkNCiAgICAgICAgfSwNCiAgICAgICAgZGVsZWdhdGU6IGZ1
bmN0aW9uKGUsIHQsIG4sIHIpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLm9u
KHQsIGUsIG4sIHIpDQogICAgICAgIH0sDQogICAgICAgIHVuZGVsZWdhdGU6IGZ1
bmN0aW9uKGUsIHQsIG4pIHsNCiAgICAgICAgICAgIHJldHVybiAxID09PSBhcmd1
bWVudHMubGVuZ3RoID8gdGhpcy5vZmYoZSwgIioqIikgOiB0aGlzLm9mZih0LCBl
IHx8ICIqKiIsIG4pDQogICAgICAgIH0NCiAgICB9KTsNCiAgICB2YXIgbW4sIHlu
LCB2biA9IHgubm93KCksDQogICAgICAgIGJuID0gL1w/LywNCiAgICAgICAgeG4g
PSAvIy4qJC8sDQogICAgICAgIHduID0gLyhbPyZdKV89W14mXSovLA0KICAgICAg
ICBUbiA9IC9eKC4qPyk6WyBcdF0qKFteXHJcbl0qKVxyPyQvZ20sDQogICAgICAg
IENuID0gL14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZp
bGV8cmVzfHdpZGdldCk6JC8sDQogICAgICAgIE5uID0gL14oPzpHRVR8SEVBRCkk
LywNCiAgICAgICAga24gPSAvXlwvXC8vLA0KICAgICAgICBFbiA9IC9eKFtcdy4r
LV0rOikoPzpcL1wvKFteXC8/IzpdKikoPzo6KFxkKyl8KXwpLywNCiAgICAgICAg
U24gPSB4LmZuLmxvYWQsDQogICAgICAgIEFuID0ge30sDQogICAgICAgIGpuID0g
e30sDQogICAgICAgIERuID0gIiovIi5jb25jYXQoIioiKTsNCiAgICB0cnkgew0K
ICAgICAgICB5biA9IG8uaHJlZg0KICAgIH0gY2F0Y2ggKExuKSB7DQogICAgICAg
IHluID0gYS5jcmVhdGVFbGVtZW50KCJhIiksIHluLmhyZWYgPSAiIiwgeW4gPSB5
bi5ocmVmDQogICAgfQ0KICAgIG1uID0gRW4uZXhlYyh5bi50b0xvd2VyQ2FzZSgp
KSB8fCBbXTsNCg0KICAgIGZ1bmN0aW9uIEhuKGUpIHsNCiAgICAgICAgcmV0dXJu
IGZ1bmN0aW9uKHQsIG4pIHsNCiAgICAgICAgICAgICJzdHJpbmciICE9IHR5cGVv
ZiB0ICYmIChuID0gdCwgdCA9ICIqIik7DQogICAgICAgICAgICB2YXIgciwgaSA9
IDAsDQogICAgICAgICAgICAgICAgbyA9IHQudG9Mb3dlckNhc2UoKS5tYXRjaChU
KSB8fCBbXTsNCiAgICAgICAgICAgIGlmICh4LmlzRnVuY3Rpb24obikpDQogICAg
ICAgICAgICAgICAgd2hpbGUgKHIgPSBvW2krK10pICIrIiA9PT0gclswXSA/IChy
ID0gci5zbGljZSgxKSB8fCAiKiIsIChlW3JdID0gZVtyXSB8fCBbXSkudW5zaGlm
dChuKSkgOiAoZVtyXSA9IGVbcl0gfHwgW10pLnB1c2gobikNCiAgICAgICAgfQ0K
ICAgIH0NCg0KICAgIGZ1bmN0aW9uIHFuKGUsIG4sIHIsIGkpIHsNCiAgICAgICAg
dmFyIG8gPSB7fSwNCiAgICAgICAgICAgIGEgPSBlID09PSBqbjsNCg0KICAgICAg
ICBmdW5jdGlvbiBzKGwpIHsNCiAgICAgICAgICAgIHZhciB1Ow0KICAgICAgICAg
ICAgcmV0dXJuIG9bbF0gPSAhMCwgeC5lYWNoKGVbbF0gfHwgW10sIGZ1bmN0aW9u
KGUsIGwpIHsNCiAgICAgICAgICAgICAgICB2YXIgYyA9IGwobiwgciwgaSk7DQog
ICAgICAgICAgICAgICAgcmV0dXJuICJzdHJpbmciICE9IHR5cGVvZiBjIHx8IGEg
fHwgb1tjXSA/IGEgPyAhKHUgPSBjKSA6IHQgOiAobi5kYXRhVHlwZXMudW5zaGlm
dChjKSwgcyhjKSwgITEpDQogICAgICAgICAgICB9KSwgdQ0KICAgICAgICB9DQog
ICAgICAgIHJldHVybiBzKG4uZGF0YVR5cGVzWzBdKSB8fCAhb1siKiJdICYmIHMo
IioiKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIF9uKGUsIG4pIHsNCiAgICAgICAg
dmFyIHIsIGksIG8gPSB4LmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9ucyB8fCB7fTsN
CiAgICAgICAgZm9yIChpIGluIG4pIG5baV0gIT09IHQgJiYgKChvW2ldID8gZSA6
IHIgfHwgKHIgPSB7fSkpW2ldID0gbltpXSk7DQogICAgICAgIHJldHVybiByICYm
IHguZXh0ZW5kKCEwLCBlLCByKSwgZQ0KICAgIH0NCiAgICB4LmZuLmxvYWQgPSBm
dW5jdGlvbihlLCBuLCByKSB7DQogICAgICAgIGlmICgic3RyaW5nIiAhPSB0eXBl
b2YgZSAmJiBTbikgcmV0dXJuIFNuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7DQog
ICAgICAgIHZhciBpLCBvLCBhLCBzID0gdGhpcywNCiAgICAgICAgICAgIGwgPSBl
LmluZGV4T2YoIiAiKTsNCiAgICAgICAgcmV0dXJuIGwgPj0gMCAmJiAoaSA9IGUu
c2xpY2UobCwgZS5sZW5ndGgpLCBlID0gZS5zbGljZSgwLCBsKSksIHguaXNGdW5j
dGlvbihuKSA/IChyID0gbiwgbiA9IHQpIDogbiAmJiAib2JqZWN0IiA9PSB0eXBl
b2YgbiAmJiAoYSA9ICJQT1NUIiksIHMubGVuZ3RoID4gMCAmJiB4LmFqYXgoew0K
ICAgICAgICAgICAgdXJsOiBlLA0KICAgICAgICAgICAgdHlwZTogYSwNCiAgICAg
ICAgICAgIGRhdGFUeXBlOiAiaHRtbCIsDQogICAgICAgICAgICBkYXRhOiBuDQog
ICAgICAgIH0pLmRvbmUoZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgbyA9IGFy
Z3VtZW50cywgcy5odG1sKGkgPyB4KCI8ZGl2PiIpLmFwcGVuZCh4LnBhcnNlSFRN
TChlKSkuZmluZChpKSA6IGUpDQogICAgICAgIH0pLmNvbXBsZXRlKHIgJiYgZnVu
Y3Rpb24oZSwgdCkgew0KICAgICAgICAgICAgcy5lYWNoKHIsIG8gfHwgW2UucmVz
cG9uc2VUZXh0LCB0LCBlXSkNCiAgICAgICAgfSksIHRoaXMNCiAgICB9LCB4LmVh
Y2goWyJhamF4U3RhcnQiLCAiYWpheFN0b3AiLCAiYWpheENvbXBsZXRlIiwgImFq
YXhFcnJvciIsICJhamF4U3VjY2VzcyIsICJhamF4U2VuZCJdLCBmdW5jdGlvbihl
LCB0KSB7DQogICAgICAgIHguZm5bdF0gPSBmdW5jdGlvbihlKSB7DQogICAgICAg
ICAgICByZXR1cm4gdGhpcy5vbih0LCBlKQ0KICAgICAgICB9DQogICAgfSksIHgu
ZXh0ZW5kKHsNCiAgICAgICAgYWN0aXZlOiAwLA0KICAgICAgICBsYXN0TW9kaWZp
ZWQ6IHt9LA0KICAgICAgICBldGFnOiB7fSwNCiAgICAgICAgYWpheFNldHRpbmdz
OiB7DQogICAgICAgICAgICB1cmw6IHluLA0KICAgICAgICAgICAgdHlwZTogIkdF
VCIsDQogICAgICAgICAgICBpc0xvY2FsOiBDbi50ZXN0KG1uWzFdKSwNCiAgICAg
ICAgICAgIGdsb2JhbDogITAsDQogICAgICAgICAgICBwcm9jZXNzRGF0YTogITAs
DQogICAgICAgICAgICBhc3luYzogITAsDQogICAgICAgICAgICBjb250ZW50VHlw
ZTogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1V
VEYtOCIsDQogICAgICAgICAgICBhY2NlcHRzOiB7DQogICAgICAgICAgICAgICAg
IioiOiBEbiwNCiAgICAgICAgICAgICAgICB0ZXh0OiAidGV4dC9wbGFpbiIsDQog
ICAgICAgICAgICAgICAgaHRtbDogInRleHQvaHRtbCIsDQogICAgICAgICAgICAg
ICAgeG1sOiAiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsDQogICAgICAgICAg
ICAgICAganNvbjogImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCIN
CiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjb250ZW50czogew0KICAgICAg
ICAgICAgICAgIHhtbDogL3htbC8sDQogICAgICAgICAgICAgICAgaHRtbDogL2h0
bWwvLA0KICAgICAgICAgICAgICAgIGpzb246IC9qc29uLw0KICAgICAgICAgICAg
fSwNCiAgICAgICAgICAgIHJlc3BvbnNlRmllbGRzOiB7DQogICAgICAgICAgICAg
ICAgeG1sOiAicmVzcG9uc2VYTUwiLA0KICAgICAgICAgICAgICAgIHRleHQ6ICJy
ZXNwb25zZVRleHQiLA0KICAgICAgICAgICAgICAgIGpzb246ICJyZXNwb25zZUpT
T04iDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY29udmVydGVyczogew0K
ICAgICAgICAgICAgICAgICIqIHRleHQiOiBTdHJpbmcsDQogICAgICAgICAgICAg
ICAgInRleHQgaHRtbCI6ICEwLA0KICAgICAgICAgICAgICAgICJ0ZXh0IGpzb24i
OiB4LnBhcnNlSlNPTiwNCiAgICAgICAgICAgICAgICAidGV4dCB4bWwiOiB4LnBh
cnNlWE1MDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZmxhdE9wdGlvbnM6
IHsNCiAgICAgICAgICAgICAgICB1cmw6ICEwLA0KICAgICAgICAgICAgICAgIGNv
bnRleHQ6ICEwDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGFq
YXhTZXR1cDogZnVuY3Rpb24oZSwgdCkgew0KICAgICAgICAgICAgcmV0dXJuIHQg
PyBfbihfbihlLCB4LmFqYXhTZXR0aW5ncyksIHQpIDogX24oeC5hamF4U2V0dGlu
Z3MsIGUpDQogICAgICAgIH0sDQogICAgICAgIGFqYXhQcmVmaWx0ZXI6IEhuKEFu
KSwNCiAgICAgICAgYWpheFRyYW5zcG9ydDogSG4oam4pLA0KICAgICAgICBhamF4
OiBmdW5jdGlvbihlLCBuKSB7DQogICAgICAgICAgICAib2JqZWN0IiA9PSB0eXBl
b2YgZSAmJiAobiA9IGUsIGUgPSB0KSwgbiA9IG4gfHwge307DQogICAgICAgICAg
ICB2YXIgciwgaSwgbywgYSwgcywgbCwgdSwgYywgcCA9IHguYWpheFNldHVwKHt9
LCBuKSwNCiAgICAgICAgICAgICAgICBmID0gcC5jb250ZXh0IHx8IHAsDQogICAg
ICAgICAgICAgICAgZCA9IHAuY29udGV4dCAmJiAoZi5ub2RlVHlwZSB8fCBmLmpx
dWVyeSkgPyB4KGYpIDogeC5ldmVudCwNCiAgICAgICAgICAgICAgICBoID0geC5E
ZWZlcnJlZCgpLA0KICAgICAgICAgICAgICAgIGcgPSB4LkNhbGxiYWNrcygib25j
ZSBtZW1vcnkiKSwNCiAgICAgICAgICAgICAgICBtID0gcC5zdGF0dXNDb2RlIHx8
IHt9LA0KICAgICAgICAgICAgICAgIHkgPSB7fSwNCiAgICAgICAgICAgICAgICB2
ID0ge30sDQogICAgICAgICAgICAgICAgYiA9IDAsDQogICAgICAgICAgICAgICAg
dyA9ICJjYW5jZWxlZCIsDQogICAgICAgICAgICAgICAgQyA9IHsNCiAgICAgICAg
ICAgICAgICAgICAgcmVhZHlTdGF0ZTogMCwNCiAgICAgICAgICAgICAgICAgICAg
Z2V0UmVzcG9uc2VIZWFkZXI6IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAg
ICAgICAgICAgIHZhciB0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDIg
PT09IGIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWMpIHsN
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9IHt9Ow0KICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAodCA9IFRuLmV4ZWMoYSkp
IGNbdFsxXS50b0xvd2VyQ2FzZSgpXSA9IHRbMl0NCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9IGNb
ZS50b0xvd2VyQ2FzZSgpXQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAg
ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGwgPT0gdCA/IG51bGwgOiB0
DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIGdl
dEFsbFJlc3BvbnNlSGVhZGVyczogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAg
ICAgICAgICAgICByZXR1cm4gMiA9PT0gYiA/IGEgOiBudWxsDQogICAgICAgICAg
ICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIHNldFJlcXVlc3RIZWFk
ZXI6IGZ1bmN0aW9uKGUsIHQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZh
ciBuID0gZS50b0xvd2VyQ2FzZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAg
cmV0dXJuIGIgfHwgKGUgPSB2W25dID0gdltuXSB8fCBlLCB5W2VdID0gdCksIHRo
aXMNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAg
b3ZlcnJpZGVNaW1lVHlwZTogZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAg
ICAgICAgICAgcmV0dXJuIGIgfHwgKHAubWltZVR5cGUgPSBlKSwgdGhpcw0KICAg
ICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBzdGF0dXND
b2RlOiBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIg
dDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlKQ0KICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGlmICgyID4gYikNCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgZm9yICh0IGluIGUpIG1bdF0gPSBbbVt0XSwgZVt0XV07DQog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBDLmFsd2F5cyhlW0Muc3Rh
dHVzXSk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcw0KICAg
ICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBhYm9ydDog
ZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBl
IHx8IHc7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdSAmJiB1LmFi
b3J0KHQpLCBrKDAsIHQpLCB0aGlzDQogICAgICAgICAgICAgICAgICAgIH0NCiAg
ICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgaWYgKGgucHJvbWlzZShDKS5j
b21wbGV0ZSA9IGcuYWRkLCBDLnN1Y2Nlc3MgPSBDLmRvbmUsIEMuZXJyb3IgPSBD
LmZhaWwsIHAudXJsID0gKChlIHx8IHAudXJsIHx8IHluKSArICIiKS5yZXBsYWNl
KHhuLCAiIikucmVwbGFjZShrbiwgbW5bMV0gKyAiLy8iKSwgcC50eXBlID0gbi5t
ZXRob2QgfHwgbi50eXBlIHx8IHAubWV0aG9kIHx8IHAudHlwZSwgcC5kYXRhVHlw
ZXMgPSB4LnRyaW0ocC5kYXRhVHlwZSB8fCAiKiIpLnRvTG93ZXJDYXNlKCkubWF0
Y2goVCkgfHwgWyIiXSwgbnVsbCA9PSBwLmNyb3NzRG9tYWluICYmIChyID0gRW4u
ZXhlYyhwLnVybC50b0xvd2VyQ2FzZSgpKSwgcC5jcm9zc0RvbWFpbiA9ICEoIXIg
fHwgclsxXSA9PT0gbW5bMV0gJiYgclsyXSA9PT0gbW5bMl0gJiYgKHJbM10gfHwg
KCJodHRwOiIgPT09IHJbMV0gPyAiODAiIDogIjQ0MyIpKSA9PT0gKG1uWzNdIHx8
ICgiaHR0cDoiID09PSBtblsxXSA/ICI4MCIgOiAiNDQzIikpKSksIHAuZGF0YSAm
JiBwLnByb2Nlc3NEYXRhICYmICJzdHJpbmciICE9IHR5cGVvZiBwLmRhdGEgJiYg
KHAuZGF0YSA9IHgucGFyYW0ocC5kYXRhLCBwLnRyYWRpdGlvbmFsKSksIHFuKEFu
LCBwLCBuLCBDKSwgMiA9PT0gYikgcmV0dXJuIEM7DQogICAgICAgICAgICBsID0g
cC5nbG9iYWwsIGwgJiYgMCA9PT0geC5hY3RpdmUrKyAmJiB4LmV2ZW50LnRyaWdn
ZXIoImFqYXhTdGFydCIpLCBwLnR5cGUgPSBwLnR5cGUudG9VcHBlckNhc2UoKSwg
cC5oYXNDb250ZW50ID0gIU5uLnRlc3QocC50eXBlKSwgbyA9IHAudXJsLCBwLmhh
c0NvbnRlbnQgfHwgKHAuZGF0YSAmJiAobyA9IHAudXJsICs9IChibi50ZXN0KG8p
ID8gIiYiIDogIj8iKSArIHAuZGF0YSwgZGVsZXRlIHAuZGF0YSksIHAuY2FjaGUg
PT09ICExICYmIChwLnVybCA9IHduLnRlc3QobykgPyBvLnJlcGxhY2Uod24sICIk
MV89IiArIHZuKyspIDogbyArIChibi50ZXN0KG8pID8gIiYiIDogIj8iKSArICJf
PSIgKyB2bisrKSksIHAuaWZNb2RpZmllZCAmJiAoeC5sYXN0TW9kaWZpZWRbb10g
JiYgQy5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsIHgubGFz
dE1vZGlmaWVkW29dKSwgeC5ldGFnW29dICYmIEMuc2V0UmVxdWVzdEhlYWRlcigi
SWYtTm9uZS1NYXRjaCIsIHguZXRhZ1tvXSkpLCAocC5kYXRhICYmIHAuaGFzQ29u
dGVudCAmJiBwLmNvbnRlbnRUeXBlICE9PSAhMSB8fCBuLmNvbnRlbnRUeXBlKSAm
JiBDLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsIHAuY29udGVudFR5
cGUpLCBDLnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsIHAuZGF0YVR5cGVzWzBd
ICYmIHAuYWNjZXB0c1twLmRhdGFUeXBlc1swXV0gPyBwLmFjY2VwdHNbcC5kYXRh
VHlwZXNbMF1dICsgKCIqIiAhPT0gcC5kYXRhVHlwZXNbMF0gPyAiLCAiICsgRG4g
KyAiOyBxPTAuMDEiIDogIiIpIDogcC5hY2NlcHRzWyIqIl0pOw0KICAgICAgICAg
ICAgZm9yIChpIGluIHAuaGVhZGVycykgQy5zZXRSZXF1ZXN0SGVhZGVyKGksIHAu
aGVhZGVyc1tpXSk7DQogICAgICAgICAgICBpZiAocC5iZWZvcmVTZW5kICYmIChw
LmJlZm9yZVNlbmQuY2FsbChmLCBDLCBwKSA9PT0gITEgfHwgMiA9PT0gYikpIHJl
dHVybiBDLmFib3J0KCk7DQogICAgICAgICAgICB3ID0gImFib3J0IjsNCiAgICAg
ICAgICAgIGZvciAoaSBpbiB7DQogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6
IDEsDQogICAgICAgICAgICAgICAgICAgIGVycm9yOiAxLA0KICAgICAgICAgICAg
ICAgICAgICBjb21wbGV0ZTogMQ0KICAgICAgICAgICAgICAgIH0pIENbaV0ocFtp
XSk7DQogICAgICAgICAgICBpZiAodSA9IHFuKGpuLCBwLCBuLCBDKSkgew0KICAg
ICAgICAgICAgICAgIEMucmVhZHlTdGF0ZSA9IDEsIGwgJiYgZC50cmlnZ2VyKCJh
amF4U2VuZCIsIFtDLCBwXSksIHAuYXN5bmMgJiYgcC50aW1lb3V0ID4gMCAmJiAo
cyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAg
IEMuYWJvcnQoInRpbWVvdXQiKQ0KICAgICAgICAgICAgICAgIH0sIHAudGltZW91
dCkpOw0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAg
IGIgPSAxLCB1LnNlbmQoeSwgaykNCiAgICAgICAgICAgICAgICB9IGNhdGNoIChO
KSB7DQogICAgICAgICAgICAgICAgICAgIGlmICghKDIgPiBiKSkgdGhyb3cgTjsN
CiAgICAgICAgICAgICAgICAgICAgaygtMSwgTikNCiAgICAgICAgICAgICAgICB9
DQogICAgICAgICAgICB9IGVsc2UgaygtMSwgIk5vIFRyYW5zcG9ydCIpOw0KDQog
ICAgICAgICAgICBmdW5jdGlvbiBrKGUsIG4sIHIsIGkpIHsNCiAgICAgICAgICAg
ICAgICB2YXIgYywgeSwgdiwgdywgVCwgTiA9IG47DQogICAgICAgICAgICAgICAg
MiAhPT0gYiAmJiAoYiA9IDIsIHMgJiYgY2xlYXJUaW1lb3V0KHMpLCB1ID0gdCwg
YSA9IGkgfHwgIiIsIEMucmVhZHlTdGF0ZSA9IGUgPiAwID8gNCA6IDAsIGMgPSBl
ID49IDIwMCAmJiAzMDAgPiBlIHx8IDMwNCA9PT0gZSwgciAmJiAodyA9IE1uKHAs
IEMsIHIpKSwgdyA9IE9uKHAsIHcsIEMsIGMpLCBjID8gKHAuaWZNb2RpZmllZCAm
JiAoVCA9IEMuZ2V0UmVzcG9uc2VIZWFkZXIoIkxhc3QtTW9kaWZpZWQiKSwgVCAm
JiAoeC5sYXN0TW9kaWZpZWRbb10gPSBUKSwgVCA9IEMuZ2V0UmVzcG9uc2VIZWFk
ZXIoImV0YWciKSwgVCAmJiAoeC5ldGFnW29dID0gVCkpLCAyMDQgPT09IGUgfHwg
IkhFQUQiID09PSBwLnR5cGUgPyBOID0gIm5vY29udGVudCIgOiAzMDQgPT09IGUg
PyBOID0gIm5vdG1vZGlmaWVkIiA6IChOID0gdy5zdGF0ZSwgeSA9IHcuZGF0YSwg
diA9IHcuZXJyb3IsIGMgPSAhdikpIDogKHYgPSBOLCAoZSB8fCAhTikgJiYgKE4g
PSAiZXJyb3IiLCAwID4gZSAmJiAoZSA9IDApKSksIEMuc3RhdHVzID0gZSwgQy5z
dGF0dXNUZXh0ID0gKG4gfHwgTikgKyAiIiwgYyA/IGgucmVzb2x2ZVdpdGgoZiwg
W3ksIE4sIENdKSA6IGgucmVqZWN0V2l0aChmLCBbQywgTiwgdl0pLCBDLnN0YXR1
c0NvZGUobSksIG0gPSB0LCBsICYmIGQudHJpZ2dlcihjID8gImFqYXhTdWNjZXNz
IiA6ICJhamF4RXJyb3IiLCBbQywgcCwgYyA/IHkgOiB2XSksIGcuZmlyZVdpdGgo
ZiwgW0MsIE5dKSwgbCAmJiAoZC50cmlnZ2VyKCJhamF4Q29tcGxldGUiLCBbQywg
cF0pLCAtLXguYWN0aXZlIHx8IHguZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkp
DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gQw0KICAgICAgICB9
LA0KICAgICAgICBnZXRKU09OOiBmdW5jdGlvbihlLCB0LCBuKSB7DQogICAgICAg
ICAgICByZXR1cm4geC5nZXQoZSwgdCwgbiwgImpzb24iKQ0KICAgICAgICB9LA0K
ICAgICAgICBnZXRTY3JpcHQ6IGZ1bmN0aW9uKGUsIG4pIHsNCiAgICAgICAgICAg
IHJldHVybiB4LmdldChlLCB0LCBuLCAic2NyaXB0IikNCiAgICAgICAgfQ0KICAg
IH0pLCB4LmVhY2goWyJnZXQiLCAicG9zdCJdLCBmdW5jdGlvbihlLCBuKSB7DQog
ICAgICAgIHhbbl0gPSBmdW5jdGlvbihlLCByLCBpLCBvKSB7DQogICAgICAgICAg
ICByZXR1cm4geC5pc0Z1bmN0aW9uKHIpICYmIChvID0gbyB8fCBpLCBpID0gciwg
ciA9IHQpLCB4LmFqYXgoew0KICAgICAgICAgICAgICAgIHVybDogZSwNCiAgICAg
ICAgICAgICAgICB0eXBlOiBuLA0KICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBv
LA0KICAgICAgICAgICAgICAgIGRhdGE6IHIsDQogICAgICAgICAgICAgICAgc3Vj
Y2VzczogaQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgIH0pOw0KDQog
ICAgZnVuY3Rpb24gTW4oZSwgbiwgcikgew0KICAgICAgICB2YXIgaSwgbywgYSwg
cywgbCA9IGUuY29udGVudHMsDQogICAgICAgICAgICB1ID0gZS5kYXRhVHlwZXM7
DQogICAgICAgIHdoaWxlICgiKiIgPT09IHVbMF0pIHUuc2hpZnQoKSwgbyA9PT0g
dCAmJiAobyA9IGUubWltZVR5cGUgfHwgbi5nZXRSZXNwb25zZUhlYWRlcigiQ29u
dGVudC1UeXBlIikpOw0KICAgICAgICBpZiAobykNCiAgICAgICAgICAgIGZvciAo
cyBpbiBsKQ0KICAgICAgICAgICAgICAgIGlmIChsW3NdICYmIGxbc10udGVzdChv
KSkgew0KICAgICAgICAgICAgICAgICAgICB1LnVuc2hpZnQocyk7DQogICAgICAg
ICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICBp
ZiAodVswXSBpbiByKSBhID0gdVswXTsNCiAgICAgICAgZWxzZSB7DQogICAgICAg
ICAgICBmb3IgKHMgaW4gcikgew0KICAgICAgICAgICAgICAgIGlmICghdVswXSB8
fCBlLmNvbnZlcnRlcnNbcyArICIgIiArIHVbMF1dKSB7DQogICAgICAgICAgICAg
ICAgICAgIGEgPSBzOw0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAg
ICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpIHx8IChpID0gcykNCiAgICAg
ICAgICAgIH0NCiAgICAgICAgICAgIGEgPSBhIHx8IGkNCiAgICAgICAgfQ0KICAg
ICAgICByZXR1cm4gYSA/IChhICE9PSB1WzBdICYmIHUudW5zaGlmdChhKSwgclth
XSkgOiB0DQogICAgfQ0KDQogICAgZnVuY3Rpb24gT24oZSwgdCwgbiwgcikgew0K
ICAgICAgICB2YXIgaSwgbywgYSwgcywgbCwgdSA9IHt9LA0KICAgICAgICAgICAg
YyA9IGUuZGF0YVR5cGVzLnNsaWNlKCk7DQogICAgICAgIGlmIChjWzFdKQ0KICAg
ICAgICAgICAgZm9yIChhIGluIGUuY29udmVydGVycykgdVthLnRvTG93ZXJDYXNl
KCldID0gZS5jb252ZXJ0ZXJzW2FdOw0KICAgICAgICBvID0gYy5zaGlmdCgpOw0K
ICAgICAgICB3aGlsZSAobykNCiAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlRmll
bGRzW29dICYmIChuW2UucmVzcG9uc2VGaWVsZHNbb11dID0gdCksICFsICYmIHIg
JiYgZS5kYXRhRmlsdGVyICYmICh0ID0gZS5kYXRhRmlsdGVyKHQsIGUuZGF0YVR5
cGUpKSwgbCA9IG8sIG8gPSBjLnNoaWZ0KCkpDQogICAgICAgICAgICAgICAgaWYg
KCIqIiA9PT0gbykgbyA9IGw7DQogICAgICAgICAgICAgICAgZWxzZSBpZiAoIioi
ICE9PSBsICYmIGwgIT09IG8pIHsNCiAgICAgICAgICAgIGlmIChhID0gdVtsICsg
IiAiICsgb10gfHwgdVsiKiAiICsgb10sICFhKQ0KICAgICAgICAgICAgICAgIGZv
ciAoaSBpbiB1KQ0KICAgICAgICAgICAgICAgICAgICBpZiAocyA9IGkuc3BsaXQo
IiAiKSwgc1sxXSA9PT0gbyAmJiAoYSA9IHVbbCArICIgIiArIHNbMF1dIHx8IHVb
IiogIiArIHNbMF1dKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYSA9PT0g
ITAgPyBhID0gdVtpXSA6IHVbaV0gIT09ICEwICYmIChvID0gc1swXSwgYy51bnNo
aWZ0KHNbMV0pKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAg
ICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChhICE9PSAhMCkNCiAg
ICAgICAgICAgICAgICBpZiAoYSAmJiBlWyJ0aHJvd3MiXSkgdCA9IGEodCk7DQog
ICAgICAgICAgICAgICAgZWxzZSB0cnkgew0KICAgICAgICAgICAgICAgICAgICB0
ID0gYSh0KQ0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHApIHsNCiAgICAgICAg
ICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHN0
YXRlOiAicGFyc2VyZXJyb3IiLA0KICAgICAgICAgICAgICAgICAgICAgICAgZXJy
b3I6IGEgPyBwIDogIk5vIGNvbnZlcnNpb24gZnJvbSAiICsgbCArICIgdG8gIiAr
IG8NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAg
ICAgICAgfQ0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgc3RhdGU6ICJz
dWNjZXNzIiwNCiAgICAgICAgICAgIGRhdGE6IHQNCiAgICAgICAgfQ0KICAgIH0N
CiAgICB4LmFqYXhTZXR1cCh7DQogICAgICAgIGFjY2VwdHM6IHsNCiAgICAgICAg
ICAgIHNjcmlwdDogInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNj
cmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21h
c2NyaXB0Ig0KICAgICAgICB9LA0KICAgICAgICBjb250ZW50czogew0KICAgICAg
ICAgICAgc2NyaXB0OiAvKD86amF2YXxlY21hKXNjcmlwdC8NCiAgICAgICAgfSwN
CiAgICAgICAgY29udmVydGVyczogew0KICAgICAgICAgICAgInRleHQgc2NyaXB0
IjogZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiB4Lmdsb2Jh
bEV2YWwoZSksIGUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0pLCB4
LmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsIGZ1bmN0aW9uKGUpIHsNCiAgICAgICAg
ZS5jYWNoZSA9PT0gdCAmJiAoZS5jYWNoZSA9ICExKSwgZS5jcm9zc0RvbWFpbiAm
JiAoZS50eXBlID0gIkdFVCIsIGUuZ2xvYmFsID0gITEpDQogICAgfSksIHguYWph
eFRyYW5zcG9ydCgic2NyaXB0IiwgZnVuY3Rpb24oZSkgew0KICAgICAgICBpZiAo
ZS5jcm9zc0RvbWFpbikgew0KICAgICAgICAgICAgdmFyIG4sIHIgPSBhLmhlYWQg
fHwgeCgiaGVhZCIpWzBdIHx8IGEuZG9jdW1lbnRFbGVtZW50Ow0KICAgICAgICAg
ICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICBzZW5kOiBmdW5jdGlvbih0LCBp
KSB7DQogICAgICAgICAgICAgICAgICAgIG4gPSBhLmNyZWF0ZUVsZW1lbnQoInNj
cmlwdCIpLCBuLmFzeW5jID0gITAsIGUuc2NyaXB0Q2hhcnNldCAmJiAobi5jaGFy
c2V0ID0gZS5zY3JpcHRDaGFyc2V0KSwgbi5zcmMgPSBlLnVybCwgbi5vbmxvYWQg
PSBuLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKGUsIHQpIHsNCiAgICAg
ICAgICAgICAgICAgICAgICAgICh0IHx8ICFuLnJlYWR5U3RhdGUgfHwgL2xvYWRl
ZHxjb21wbGV0ZS8udGVzdChuLnJlYWR5U3RhdGUpKSAmJiAobi5vbmxvYWQgPSBu
Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGwsIG4ucGFyZW50Tm9kZSAmJiBuLnBh
cmVudE5vZGUucmVtb3ZlQ2hpbGQobiksIG4gPSBudWxsLCB0IHx8IGkoMjAwLCAi
c3VjY2VzcyIpKQ0KICAgICAgICAgICAgICAgICAgICB9LCByLmluc2VydEJlZm9y
ZShuLCByLmZpcnN0Q2hpbGQpDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAg
ICAgICAgICBhYm9ydDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAg
IG4gJiYgbi5vbmxvYWQodCwgITApDQogICAgICAgICAgICAgICAgfQ0KICAgICAg
ICAgICAgfQ0KICAgICAgICB9DQogICAgfSk7DQogICAgdmFyIEZuID0gW10sDQog
ICAgICAgIEJuID0gLyg9KVw/KD89JnwkKXxcP1w/LzsNCiAgICB4LmFqYXhTZXR1
cCh7DQogICAgICAgIGpzb25wOiAiY2FsbGJhY2siLA0KICAgICAgICBqc29ucENh
bGxiYWNrOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciBlID0gRm4ucG9w
KCkgfHwgeC5leHBhbmRvICsgIl8iICsgdm4rKzsNCiAgICAgICAgICAgIHJldHVy
biB0aGlzW2VdID0gITAsIGUNCiAgICAgICAgfQ0KICAgIH0pLCB4LmFqYXhQcmVm
aWx0ZXIoImpzb24ganNvbnAiLCBmdW5jdGlvbihuLCByLCBpKSB7DQogICAgICAg
IHZhciBvLCBhLCBzLCBsID0gbi5qc29ucCAhPT0gITEgJiYgKEJuLnRlc3Qobi51
cmwpID8gInVybCIgOiAic3RyaW5nIiA9PSB0eXBlb2Ygbi5kYXRhICYmICEobi5j
b250ZW50VHlwZSB8fCAiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9y
bS11cmxlbmNvZGVkIikgJiYgQm4udGVzdChuLmRhdGEpICYmICJkYXRhIik7DQog
ICAgICAgIHJldHVybiBsIHx8ICJqc29ucCIgPT09IG4uZGF0YVR5cGVzWzBdID8g
KG8gPSBuLmpzb25wQ2FsbGJhY2sgPSB4LmlzRnVuY3Rpb24obi5qc29ucENhbGxi
YWNrKSA/IG4uanNvbnBDYWxsYmFjaygpIDogbi5qc29ucENhbGxiYWNrLCBsID8g
bltsXSA9IG5bbF0ucmVwbGFjZShCbiwgIiQxIiArIG8pIDogbi5qc29ucCAhPT0g
ITEgJiYgKG4udXJsICs9IChibi50ZXN0KG4udXJsKSA/ICImIiA6ICI/IikgKyBu
Lmpzb25wICsgIj0iICsgbyksIG4uY29udmVydGVyc1sic2NyaXB0IGpzb24iXSA9
IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgcmV0dXJuIHMgfHwgeC5lcnJvcihv
ICsgIiB3YXMgbm90IGNhbGxlZCIpLCBzWzBdDQogICAgICAgIH0sIG4uZGF0YVR5
cGVzWzBdID0gImpzb24iLCBhID0gZVtvXSwgZVtvXSA9IGZ1bmN0aW9uKCkgew0K
ICAgICAgICAgICAgcyA9IGFyZ3VtZW50cw0KICAgICAgICB9LCBpLmFsd2F5cyhm
dW5jdGlvbigpIHsNCiAgICAgICAgICAgIGVbb10gPSBhLCBuW29dICYmIChuLmpz
b25wQ2FsbGJhY2sgPSByLmpzb25wQ2FsbGJhY2ssIEZuLnB1c2gobykpLCBzICYm
IHguaXNGdW5jdGlvbihhKSAmJiBhKHNbMF0pLCBzID0gYSA9IHQNCiAgICAgICAg
fSksICJzY3JpcHQiKSA6IHQNCiAgICB9KTsNCiAgICB2YXIgUG4sIFJuLCBXbiA9
IDAsDQogICAgICAgICRuID0gZS5BY3RpdmVYT2JqZWN0ICYmIGZ1bmN0aW9uKCkg
ew0KICAgICAgICAgICAgdmFyIGU7DQogICAgICAgICAgICBmb3IgKGUgaW4gUG4p
IFBuW2VdKHQsICEwKQ0KICAgICAgICB9Ow0KDQogICAgZnVuY3Rpb24gSW4oKSB7
DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICByZXR1cm4gbmV3IGUuWE1MSHR0
cFJlcXVlc3QNCiAgICAgICAgfSBjYXRjaCAodCkge30NCiAgICB9DQoNCiAgICBm
dW5jdGlvbiB6bigpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHJldHVy
biBuZXcgZS5BY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MSFRUUCIpDQogICAg
ICAgIH0gY2F0Y2ggKHQpIHt9DQogICAgfQ0KICAgIHguYWpheFNldHRpbmdzLnho
ciA9IGUuQWN0aXZlWE9iamVjdCA/IGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1
cm4gIXRoaXMuaXNMb2NhbCAmJiBJbigpIHx8IHpuKCkNCiAgICB9IDogSW4sIFJu
ID0geC5hamF4U2V0dGluZ3MueGhyKCksIHguc3VwcG9ydC5jb3JzID0gISFSbiAm
JiAid2l0aENyZWRlbnRpYWxzIiBpbiBSbiwgUm4gPSB4LnN1cHBvcnQuYWpheCA9
ICEhUm4sIFJuICYmIHguYWpheFRyYW5zcG9ydChmdW5jdGlvbihuKSB7DQogICAg
ICAgIGlmICghbi5jcm9zc0RvbWFpbiB8fCB4LnN1cHBvcnQuY29ycykgew0KICAg
ICAgICAgICAgdmFyIHI7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAg
ICAgICAgIHNlbmQ6IGZ1bmN0aW9uKGksIG8pIHsNCiAgICAgICAgICAgICAgICAg
ICAgdmFyIGEsIHMsIGwgPSBuLnhocigpOw0KICAgICAgICAgICAgICAgICAgICBp
ZiAobi51c2VybmFtZSA/IGwub3BlbihuLnR5cGUsIG4udXJsLCBuLmFzeW5jLCBu
LnVzZXJuYW1lLCBuLnBhc3N3b3JkKSA6IGwub3BlbihuLnR5cGUsIG4udXJsLCBu
LmFzeW5jKSwgbi54aHJGaWVsZHMpDQogICAgICAgICAgICAgICAgICAgICAgICBm
b3IgKHMgaW4gbi54aHJGaWVsZHMpIGxbc10gPSBuLnhockZpZWxkc1tzXTsNCiAg
ICAgICAgICAgICAgICAgICAgbi5taW1lVHlwZSAmJiBsLm92ZXJyaWRlTWltZVR5
cGUgJiYgbC5vdmVycmlkZU1pbWVUeXBlKG4ubWltZVR5cGUpLCBuLmNyb3NzRG9t
YWluIHx8IGlbIlgtUmVxdWVzdGVkLVdpdGgiXSB8fCAoaVsiWC1SZXF1ZXN0ZWQt
V2l0aCJdID0gIlhNTEh0dHBSZXF1ZXN0Iik7DQogICAgICAgICAgICAgICAgICAg
IHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHMgaW4gaSkgbC5z
ZXRSZXF1ZXN0SGVhZGVyKHMsIGlbc10pDQogICAgICAgICAgICAgICAgICAgIH0g
Y2F0Y2ggKHUpIHt9DQogICAgICAgICAgICAgICAgICAgIGwuc2VuZChuLmhhc0Nv
bnRlbnQgJiYgbi5kYXRhIHx8IG51bGwpLCByID0gZnVuY3Rpb24oZSwgaSkgew0K
ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMsIHUsIGMsIHA7DQogICAgICAg
ICAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGlmIChyICYmIChpIHx8IDQgPT09IGwucmVhZHlTdGF0ZSkpDQogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyID0gdCwgYSAmJiAobC5vbnJl
YWR5c3RhdGVjaGFuZ2UgPSB4Lm5vb3AsICRuICYmIGRlbGV0ZSBQblthXSksIGkp
IDQgIT09IGwucmVhZHlTdGF0ZSAmJiBsLmFib3J0KCk7DQogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgcCA9IHt9LCBzID0gbC5zdGF0dXMsIHUgPSBsLmdldEFs
bFJlc3BvbnNlSGVhZGVycygpLCAic3RyaW5nIiA9PSB0eXBlb2YgbC5yZXNwb25z
ZVRleHQgJiYgKHAudGV4dCA9IGwucmVzcG9uc2VUZXh0KTsNCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgYyA9IGwuc3RhdHVzVGV4dA0KICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZikgew0KICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMgPSAiIg0KICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgcyB8fCAhbi5pc0xvY2FsIHx8IG4uY3Jv
c3NEb21haW4gPyAxMjIzID09PSBzICYmIChzID0gMjA0KSA6IHMgPSBwLnRleHQg
PyAyMDAgOiA0MDQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0K
ICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZCkgew0KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGkgfHwgbygtMSwgZCkNCiAgICAgICAgICAgICAg
ICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHAgJiYgbyhzLCBj
LCBwLCB1KQ0KICAgICAgICAgICAgICAgICAgICB9LCBuLmFzeW5jID8gNCA9PT0g
bC5yZWFkeVN0YXRlID8gc2V0VGltZW91dChyKSA6IChhID0gKytXbiwgJG4gJiYg
KFBuIHx8IChQbiA9IHt9LCB4KGUpLnVubG9hZCgkbikpLCBQblthXSA9IHIpLCBs
Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHIpIDogcigpDQogICAgICAgICAgICAgICAg
fSwNCiAgICAgICAgICAgICAgICBhYm9ydDogZnVuY3Rpb24oKSB7DQogICAgICAg
ICAgICAgICAgICAgIHIgJiYgcih0LCAhMCkNCiAgICAgICAgICAgICAgICB9DQog
ICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9KTsNCiAgICB2YXIgWG4sIFVu
LCBWbiA9IC9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLywNCiAgICAgICAgWW4gPSBS
ZWdFeHAoIl4oPzooWystXSk9fCkoIiArIHcgKyAiKShbYS16JV0qKSQiLCAiaSIp
LA0KICAgICAgICBKbiA9IC9xdWV1ZUhvb2tzJC8sDQogICAgICAgIEduID0gW25y
XSwNCiAgICAgICAgUW4gPSB7DQogICAgICAgICAgICAiKiI6IFtmdW5jdGlvbihl
LCB0KSB7DQogICAgICAgICAgICAgICAgdmFyIG4gPSB0aGlzLmNyZWF0ZVR3ZWVu
KGUsIHQpLA0KICAgICAgICAgICAgICAgICAgICByID0gbi5jdXIoKSwNCiAgICAg
ICAgICAgICAgICAgICAgaSA9IFluLmV4ZWModCksDQogICAgICAgICAgICAgICAg
ICAgIG8gPSBpICYmIGlbM10gfHwgKHguY3NzTnVtYmVyW2VdID8gIiIgOiAicHgi
KSwNCiAgICAgICAgICAgICAgICAgICAgYSA9ICh4LmNzc051bWJlcltlXSB8fCAi
cHgiICE9PSBvICYmICtyKSAmJiBZbi5leGVjKHguY3NzKG4uZWxlbSwgZSkpLA0K
ICAgICAgICAgICAgICAgICAgICBzID0gMSwNCiAgICAgICAgICAgICAgICAgICAg
bCA9IDIwOw0KICAgICAgICAgICAgICAgIGlmIChhICYmIGFbM10gIT09IG8pIHsN
CiAgICAgICAgICAgICAgICAgICAgbyA9IG8gfHwgYVszXSwgaSA9IGkgfHwgW10s
IGEgPSArciB8fCAxOw0KICAgICAgICAgICAgICAgICAgICBkbyBzID0gcyB8fCAi
LjUiLCBhIC89IHMsIHguc3R5bGUobi5lbGVtLCBlLCBhICsgbyk7IHdoaWxlIChz
ICE9PSAocyA9IG4uY3VyKCkgLyByKSAmJiAxICE9PSBzICYmIC0tbCkNCiAgICAg
ICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIGkgJiYgKGEgPSBu
LnN0YXJ0ID0gK2EgfHwgK3IgfHwgMCwgbi51bml0ID0gbywgbi5lbmQgPSBpWzFd
ID8gYSArIChpWzFdICsgMSkgKiBpWzJdIDogK2lbMl0pLCBuDQogICAgICAgICAg
ICB9XQ0KICAgICAgICB9Ow0KDQogICAgZnVuY3Rpb24gS24oKSB7DQogICAgICAg
IHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgWG4g
PSB0DQogICAgICAgIH0pLCBYbiA9IHgubm93KCkNCiAgICB9DQoNCiAgICBmdW5j
dGlvbiBabihlLCB0LCBuKSB7DQogICAgICAgIHZhciByLCBpID0gKFFuW3RdIHx8
IFtdKS5jb25jYXQoUW5bIioiXSksDQogICAgICAgICAgICBvID0gMCwNCiAgICAg
ICAgICAgIGEgPSBpLmxlbmd0aDsNCiAgICAgICAgZm9yICg7IGEgPiBvOyBvKysp
DQogICAgICAgICAgICBpZiAociA9IGlbb10uY2FsbChuLCB0LCBlKSkgcmV0dXJu
IHINCiAgICB9DQoNCiAgICBmdW5jdGlvbiBlcihlLCB0LCBuKSB7DQogICAgICAg
IHZhciByLCBpLCBvID0gMCwNCiAgICAgICAgICAgIGEgPSBHbi5sZW5ndGgsDQog
ICAgICAgICAgICBzID0geC5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpIHsN
CiAgICAgICAgICAgICAgICBkZWxldGUgbC5lbGVtDQogICAgICAgICAgICB9KSwN
CiAgICAgICAgICAgIGwgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBp
ZiAoaSkgcmV0dXJuICExOw0KICAgICAgICAgICAgICAgIHZhciB0ID0gWG4gfHwg
S24oKSwNCiAgICAgICAgICAgICAgICAgICAgbiA9IE1hdGgubWF4KDAsIHUuc3Rh
cnRUaW1lICsgdS5kdXJhdGlvbiAtIHQpLA0KICAgICAgICAgICAgICAgICAgICBy
ID0gbiAvIHUuZHVyYXRpb24gfHwgMCwNCiAgICAgICAgICAgICAgICAgICAgbyA9
IDEgLSByLA0KICAgICAgICAgICAgICAgICAgICBhID0gMCwNCiAgICAgICAgICAg
ICAgICAgICAgbCA9IHUudHdlZW5zLmxlbmd0aDsNCiAgICAgICAgICAgICAgICBm
b3IgKDsgbCA+IGE7IGErKykgdS50d2VlbnNbYV0ucnVuKG8pOw0KICAgICAgICAg
ICAgICAgIHJldHVybiBzLm5vdGlmeVdpdGgoZSwgW3UsIG8sIG5dKSwgMSA+IG8g
JiYgbCA/IG4gOiAocy5yZXNvbHZlV2l0aChlLCBbdV0pLCAhMSkNCiAgICAgICAg
ICAgIH0sDQogICAgICAgICAgICB1ID0gcy5wcm9taXNlKHsNCiAgICAgICAgICAg
ICAgICBlbGVtOiBlLA0KICAgICAgICAgICAgICAgIHByb3BzOiB4LmV4dGVuZCh7
fSwgdCksDQogICAgICAgICAgICAgICAgb3B0czogeC5leHRlbmQoITAsIHsNCiAg
ICAgICAgICAgICAgICAgICAgc3BlY2lhbEVhc2luZzoge30NCiAgICAgICAgICAg
ICAgICB9LCBuKSwNCiAgICAgICAgICAgICAgICBvcmlnaW5hbFByb3BlcnRpZXM6
IHQsDQogICAgICAgICAgICAgICAgb3JpZ2luYWxPcHRpb25zOiBuLA0KICAgICAg
ICAgICAgICAgIHN0YXJ0VGltZTogWG4gfHwgS24oKSwNCiAgICAgICAgICAgICAg
ICBkdXJhdGlvbjogbi5kdXJhdGlvbiwNCiAgICAgICAgICAgICAgICB0d2VlbnM6
IFtdLA0KICAgICAgICAgICAgICAgIGNyZWF0ZVR3ZWVuOiBmdW5jdGlvbih0LCBu
KSB7DQogICAgICAgICAgICAgICAgICAgIHZhciByID0geC5Ud2VlbihlLCB1Lm9w
dHMsIHQsIG4sIHUub3B0cy5zcGVjaWFsRWFzaW5nW3RdIHx8IHUub3B0cy5lYXNp
bmcpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdS50d2VlbnMucHVzaChy
KSwgcg0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgc3RvcDog
ZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IDAsDQog
ICAgICAgICAgICAgICAgICAgICAgICByID0gdCA/IHUudHdlZW5zLmxlbmd0aCA6
IDA7DQogICAgICAgICAgICAgICAgICAgIGlmIChpKSByZXR1cm4gdGhpczsNCiAg
ICAgICAgICAgICAgICAgICAgZm9yIChpID0gITA7IHIgPiBuOyBuKyspIHUudHdl
ZW5zW25dLnJ1bigxKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQgPyBz
LnJlc29sdmVXaXRoKGUsIFt1LCB0XSkgOiBzLnJlamVjdFdpdGgoZSwgW3UsIHRd
KSwgdGhpcw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLA0KICAg
ICAgICAgICAgYyA9IHUucHJvcHM7DQogICAgICAgIGZvciAodHIoYywgdS5vcHRz
LnNwZWNpYWxFYXNpbmcpOyBhID4gbzsgbysrKQ0KICAgICAgICAgICAgaWYgKHIg
PSBHbltvXS5jYWxsKHUsIGUsIGMsIHUub3B0cykpIHJldHVybiByOw0KICAgICAg
ICByZXR1cm4geC5tYXAoYywgWm4sIHUpLCB4LmlzRnVuY3Rpb24odS5vcHRzLnN0
YXJ0KSAmJiB1Lm9wdHMuc3RhcnQuY2FsbChlLCB1KSwgeC5meC50aW1lcih4LmV4
dGVuZChsLCB7DQogICAgICAgICAgICBlbGVtOiBlLA0KICAgICAgICAgICAgYW5p
bTogdSwNCiAgICAgICAgICAgIHF1ZXVlOiB1Lm9wdHMucXVldWUNCiAgICAgICAg
fSkpLCB1LnByb2dyZXNzKHUub3B0cy5wcm9ncmVzcykuZG9uZSh1Lm9wdHMuZG9u
ZSwgdS5vcHRzLmNvbXBsZXRlKS5mYWlsKHUub3B0cy5mYWlsKS5hbHdheXModS5v
cHRzLmFsd2F5cykNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB0cihlLCB0KSB7DQog
ICAgICAgIHZhciBuLCByLCBpLCBvLCBhOw0KICAgICAgICBmb3IgKG4gaW4gZSkN
CiAgICAgICAgICAgIGlmIChyID0geC5jYW1lbENhc2UobiksIGkgPSB0W3JdLCBv
ID0gZVtuXSwgeC5pc0FycmF5KG8pICYmIChpID0gb1sxXSwgbyA9IGVbbl0gPSBv
WzBdKSwgbiAhPT0gciAmJiAoZVtyXSA9IG8sIGRlbGV0ZSBlW25dKSwgYSA9IHgu
Y3NzSG9va3Nbcl0sIGEgJiYgImV4cGFuZCIgaW4gYSkgew0KICAgICAgICAgICAg
ICAgIG8gPSBhLmV4cGFuZChvKSwgZGVsZXRlIGVbcl07DQogICAgICAgICAgICAg
ICAgZm9yIChuIGluIG8pIG4gaW4gZSB8fCAoZVtuXSA9IG9bbl0sIHRbbl0gPSBp
KQ0KICAgICAgICAgICAgfSBlbHNlIHRbcl0gPSBpDQogICAgfQ0KICAgIHguQW5p
bWF0aW9uID0geC5leHRlbmQoZXIsIHsNCiAgICAgICAgdHdlZW5lcjogZnVuY3Rp
b24oZSwgdCkgew0KICAgICAgICAgICAgeC5pc0Z1bmN0aW9uKGUpID8gKHQgPSBl
LCBlID0gWyIqIl0pIDogZSA9IGUuc3BsaXQoIiAiKTsNCiAgICAgICAgICAgIHZh
ciBuLCByID0gMCwNCiAgICAgICAgICAgICAgICBpID0gZS5sZW5ndGg7DQogICAg
ICAgICAgICBmb3IgKDsgaSA+IHI7IHIrKykgbiA9IGVbcl0sIFFuW25dID0gUW5b
bl0gfHwgW10sIFFuW25dLnVuc2hpZnQodCkNCiAgICAgICAgfSwNCiAgICAgICAg
cHJlZmlsdGVyOiBmdW5jdGlvbihlLCB0KSB7DQogICAgICAgICAgICB0ID8gR24u
dW5zaGlmdChlKSA6IEduLnB1c2goZSkNCiAgICAgICAgfQ0KICAgIH0pOw0KDQog
ICAgZnVuY3Rpb24gbnIoZSwgdCwgbikgew0KICAgICAgICB2YXIgciwgaSwgbywg
YSwgcywgbCwgdSA9IHRoaXMsDQogICAgICAgICAgICBjID0ge30sDQogICAgICAg
ICAgICBwID0gZS5zdHlsZSwNCiAgICAgICAgICAgIGYgPSBlLm5vZGVUeXBlICYm
IG5uKGUpLA0KICAgICAgICAgICAgZCA9IHguX2RhdGEoZSwgImZ4c2hvdyIpOw0K
ICAgICAgICBuLnF1ZXVlIHx8IChzID0geC5fcXVldWVIb29rcyhlLCAiZngiKSwg
bnVsbCA9PSBzLnVucXVldWVkICYmIChzLnVucXVldWVkID0gMCwgbCA9IHMuZW1w
dHkuZmlyZSwgcy5lbXB0eS5maXJlID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAg
ICBzLnVucXVldWVkIHx8IGwoKQ0KICAgICAgICB9KSwgcy51bnF1ZXVlZCsrLCB1
LmFsd2F5cyhmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHUuYWx3YXlzKGZ1bmN0
aW9uKCkgew0KICAgICAgICAgICAgICAgIHMudW5xdWV1ZWQtLSwgeC5xdWV1ZShl
LCAiZngiKS5sZW5ndGggfHwgcy5lbXB0eS5maXJlKCkNCiAgICAgICAgICAgIH0p
DQogICAgICAgIH0pKSwgMSA9PT0gZS5ub2RlVHlwZSAmJiAoImhlaWdodCIgaW4g
dCB8fCAid2lkdGgiIGluIHQpICYmIChuLm92ZXJmbG93ID0gW3Aub3ZlcmZsb3cs
IHAub3ZlcmZsb3dYLCBwLm92ZXJmbG93WV0sICJpbmxpbmUiID09PSB4LmNzcyhl
LCAiZGlzcGxheSIpICYmICJub25lIiA9PT0geC5jc3MoZSwgImZsb2F0IikgJiYg
KHguc3VwcG9ydC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0ICYmICJpbmxpbmUiICE9
PSBsbihlLm5vZGVOYW1lKSA/IHAuem9vbSA9IDEgOiBwLmRpc3BsYXkgPSAiaW5s
aW5lLWJsb2NrIikpLCBuLm92ZXJmbG93ICYmIChwLm92ZXJmbG93ID0gImhpZGRl
biIsIHguc3VwcG9ydC5zaHJpbmtXcmFwQmxvY2tzIHx8IHUuYWx3YXlzKGZ1bmN0
aW9uKCkgew0KICAgICAgICAgICAgcC5vdmVyZmxvdyA9IG4ub3ZlcmZsb3dbMF0s
IHAub3ZlcmZsb3dYID0gbi5vdmVyZmxvd1sxXSwgcC5vdmVyZmxvd1kgPSBuLm92
ZXJmbG93WzJdDQogICAgICAgIH0pKTsNCiAgICAgICAgZm9yIChyIGluIHQpDQog
ICAgICAgICAgICBpZiAoaSA9IHRbcl0sIFZuLmV4ZWMoaSkpIHsNCiAgICAgICAg
ICAgICAgICBpZiAoZGVsZXRlIHRbcl0sIG8gPSBvIHx8ICJ0b2dnbGUiID09PSBp
LCBpID09PSAoZiA/ICJoaWRlIiA6ICJzaG93IikpIGNvbnRpbnVlOw0KICAgICAg
ICAgICAgICAgIGNbcl0gPSBkICYmIGRbcl0gfHwgeC5zdHlsZShlLCByKQ0KICAg
ICAgICAgICAgfQ0KICAgICAgICBpZiAoIXguaXNFbXB0eU9iamVjdChjKSkgew0K
ICAgICAgICAgICAgZCA/ICJoaWRkZW4iIGluIGQgJiYgKGYgPSBkLmhpZGRlbikg
OiBkID0geC5fZGF0YShlLCAiZnhzaG93Iiwge30pLCBvICYmIChkLmhpZGRlbiA9
ICFmKSwgZiA/IHgoZSkuc2hvdygpIDogdS5kb25lKGZ1bmN0aW9uKCkgew0KICAg
ICAgICAgICAgICAgIHgoZSkuaGlkZSgpDQogICAgICAgICAgICB9KSwgdS5kb25l
KGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIHZhciB0Ow0KICAgICAgICAg
ICAgICAgIHguX3JlbW92ZURhdGEoZSwgImZ4c2hvdyIpOw0KICAgICAgICAgICAg
ICAgIGZvciAodCBpbiBjKSB4LnN0eWxlKGUsIHQsIGNbdF0pDQogICAgICAgICAg
ICB9KTsNCiAgICAgICAgICAgIGZvciAociBpbiBjKSBhID0gWm4oZiA/IGRbcl0g
OiAwLCByLCB1KSwgciBpbiBkIHx8IChkW3JdID0gYS5zdGFydCwgZiAmJiAoYS5l
bmQgPSBhLnN0YXJ0LCBhLnN0YXJ0ID0gIndpZHRoIiA9PT0gciB8fCAiaGVpZ2h0
IiA9PT0gciA/IDEgOiAwKSkNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0
aW9uIHJyKGUsIHQsIG4sIHIsIGkpIHsNCiAgICAgICAgcmV0dXJuIG5ldyByci5w
cm90b3R5cGUuaW5pdChlLCB0LCBuLCByLCBpKQ0KICAgIH0NCiAgICB4LlR3ZWVu
ID0gcnIsIHJyLnByb3RvdHlwZSA9IHsNCiAgICAgICAgY29uc3RydWN0b3I6IHJy
LA0KICAgICAgICBpbml0OiBmdW5jdGlvbihlLCB0LCBuLCByLCBpLCBvKSB7DQog
ICAgICAgICAgICB0aGlzLmVsZW0gPSBlLCB0aGlzLnByb3AgPSBuLCB0aGlzLmVh
c2luZyA9IGkgfHwgInN3aW5nIiwgdGhpcy5vcHRpb25zID0gdCwgdGhpcy5zdGFy
dCA9IHRoaXMubm93ID0gdGhpcy5jdXIoKSwgdGhpcy5lbmQgPSByLCB0aGlzLnVu
aXQgPSBvIHx8ICh4LmNzc051bWJlcltuXSA/ICIiIDogInB4IikNCiAgICAgICAg
fSwNCiAgICAgICAgY3VyOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciBl
ID0gcnIucHJvcEhvb2tzW3RoaXMucHJvcF07DQogICAgICAgICAgICByZXR1cm4g
ZSAmJiBlLmdldCA/IGUuZ2V0KHRoaXMpIDogcnIucHJvcEhvb2tzLl9kZWZhdWx0
LmdldCh0aGlzKQ0KICAgICAgICB9LA0KICAgICAgICBydW46IGZ1bmN0aW9uKGUp
IHsNCiAgICAgICAgICAgIHZhciB0LCBuID0gcnIucHJvcEhvb2tzW3RoaXMucHJv
cF07DQogICAgICAgICAgICByZXR1cm4gdGhpcy5wb3MgPSB0ID0gdGhpcy5vcHRp
b25zLmR1cmF0aW9uID8geC5lYXNpbmdbdGhpcy5lYXNpbmddKGUsIHRoaXMub3B0
aW9ucy5kdXJhdGlvbiAqIGUsIDAsIDEsIHRoaXMub3B0aW9ucy5kdXJhdGlvbikg
OiBlLCB0aGlzLm5vdyA9ICh0aGlzLmVuZCAtIHRoaXMuc3RhcnQpICogdCArIHRo
aXMuc3RhcnQsIHRoaXMub3B0aW9ucy5zdGVwICYmIHRoaXMub3B0aW9ucy5zdGVw
LmNhbGwodGhpcy5lbGVtLCB0aGlzLm5vdywgdGhpcyksIG4gJiYgbi5zZXQgPyBu
LnNldCh0aGlzKSA6IHJyLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksIHRo
aXMNCiAgICAgICAgfQ0KICAgIH0sIHJyLnByb3RvdHlwZS5pbml0LnByb3RvdHlw
ZSA9IHJyLnByb3RvdHlwZSwgcnIucHJvcEhvb2tzID0gew0KICAgICAgICBfZGVm
YXVsdDogew0KICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbihlKSB7DQogICAgICAg
ICAgICAgICAgdmFyIHQ7DQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGwgPT0g
ZS5lbGVtW2UucHJvcF0gfHwgZS5lbGVtLnN0eWxlICYmIG51bGwgIT0gZS5lbGVt
LnN0eWxlW2UucHJvcF0gPyAodCA9IHguY3NzKGUuZWxlbSwgZS5wcm9wLCAiIiks
IHQgJiYgImF1dG8iICE9PSB0ID8gdCA6IDApIDogZS5lbGVtW2UucHJvcF0NCiAg
ICAgICAgICAgIH0sDQogICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKGUpIHsNCiAg
ICAgICAgICAgICAgICB4LmZ4LnN0ZXBbZS5wcm9wXSA/IHguZnguc3RlcFtlLnBy
b3BdKGUpIDogZS5lbGVtLnN0eWxlICYmIChudWxsICE9IGUuZWxlbS5zdHlsZVt4
LmNzc1Byb3BzW2UucHJvcF1dIHx8IHguY3NzSG9va3NbZS5wcm9wXSkgPyB4LnN0
eWxlKGUuZWxlbSwgZS5wcm9wLCBlLm5vdyArIGUudW5pdCkgOiBlLmVsZW1bZS5w
cm9wXSA9IGUubm93DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9LCBy
ci5wcm9wSG9va3Muc2Nyb2xsVG9wID0gcnIucHJvcEhvb2tzLnNjcm9sbExlZnQg
PSB7DQogICAgICAgIHNldDogZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgZS5l
bGVtLm5vZGVUeXBlICYmIGUuZWxlbS5wYXJlbnROb2RlICYmIChlLmVsZW1bZS5w
cm9wXSA9IGUubm93KQ0KICAgICAgICB9DQogICAgfSwgeC5lYWNoKFsidG9nZ2xl
IiwgInNob3ciLCAiaGlkZSJdLCBmdW5jdGlvbihlLCB0KSB7DQogICAgICAgIHZh
ciBuID0geC5mblt0XTsNCiAgICAgICAgeC5mblt0XSA9IGZ1bmN0aW9uKGUsIHIs
IGkpIHsNCiAgICAgICAgICAgIHJldHVybiBudWxsID09IGUgfHwgImJvb2xlYW4i
ID09IHR5cGVvZiBlID8gbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogdGhpcy5h
bmltYXRlKGlyKHQsICEwKSwgZSwgciwgaSkNCiAgICAgICAgfQ0KICAgIH0pLCB4
LmZuLmV4dGVuZCh7DQogICAgICAgIGZhZGVUbzogZnVuY3Rpb24oZSwgdCwgbiwg
cikgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKG5uKS5jc3MoIm9w
YWNpdHkiLCAwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7DQogICAgICAgICAgICAg
ICAgb3BhY2l0eTogdA0KICAgICAgICAgICAgfSwgZSwgbiwgcikNCiAgICAgICAg
fSwNCiAgICAgICAgYW5pbWF0ZTogZnVuY3Rpb24oZSwgdCwgbiwgcikgew0KICAg
ICAgICAgICAgdmFyIGkgPSB4LmlzRW1wdHlPYmplY3QoZSksDQogICAgICAgICAg
ICAgICAgbyA9IHguc3BlZWQodCwgbiwgciksDQogICAgICAgICAgICAgICAgYSA9
IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGVyKHRo
aXMsIHguZXh0ZW5kKHt9LCBlKSwgbyk7DQogICAgICAgICAgICAgICAgICAgIChp
IHx8IHguX2RhdGEodGhpcywgImZpbmlzaCIpKSAmJiB0LnN0b3AoITApDQogICAg
ICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIHJldHVybiBhLmZpbmlzaCA9IGEs
IGkgfHwgby5xdWV1ZSA9PT0gITEgPyB0aGlzLmVhY2goYSkgOiB0aGlzLnF1ZXVl
KG8ucXVldWUsIGEpDQogICAgICAgIH0sDQogICAgICAgIHN0b3A6IGZ1bmN0aW9u
KGUsIG4sIHIpIHsNCiAgICAgICAgICAgIHZhciBpID0gZnVuY3Rpb24oZSkgew0K
ICAgICAgICAgICAgICAgIHZhciB0ID0gZS5zdG9wOw0KICAgICAgICAgICAgICAg
IGRlbGV0ZSBlLnN0b3AsIHQocikNCiAgICAgICAgICAgIH07DQogICAgICAgICAg
ICByZXR1cm4gInN0cmluZyIgIT0gdHlwZW9mIGUgJiYgKHIgPSBuLCBuID0gZSwg
ZSA9IHQpLCBuICYmIGUgIT09ICExICYmIHRoaXMucXVldWUoZSB8fCAiZngiLCBb
XSksIHRoaXMuZWFjaChmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICB2YXIg
dCA9ICEwLA0KICAgICAgICAgICAgICAgICAgICBuID0gbnVsbCAhPSBlICYmIGUg
KyAicXVldWVIb29rcyIsDQogICAgICAgICAgICAgICAgICAgIG8gPSB4LnRpbWVy
cywNCiAgICAgICAgICAgICAgICAgICAgYSA9IHguX2RhdGEodGhpcyk7DQogICAg
ICAgICAgICAgICAgaWYgKG4pIGFbbl0gJiYgYVtuXS5zdG9wICYmIGkoYVtuXSk7
DQogICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICBmb3Ig
KG4gaW4gYSkgYVtuXSAmJiBhW25dLnN0b3AgJiYgSm4udGVzdChuKSAmJiBpKGFb
bl0pOw0KICAgICAgICAgICAgICAgIGZvciAobiA9IG8ubGVuZ3RoOyBuLS07KSBv
W25dLmVsZW0gIT09IHRoaXMgfHwgbnVsbCAhPSBlICYmIG9bbl0ucXVldWUgIT09
IGUgfHwgKG9bbl0uYW5pbS5zdG9wKHIpLCB0ID0gITEsIG8uc3BsaWNlKG4sIDEp
KTsNCiAgICAgICAgICAgICAgICAodCB8fCAhcikgJiYgeC5kZXF1ZXVlKHRoaXMs
IGUpDQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBmaW5pc2g6
IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgIHJldHVybiBlICE9PSAhMSAmJiAo
ZSA9IGUgfHwgImZ4IiksIHRoaXMuZWFjaChmdW5jdGlvbigpIHsNCiAgICAgICAg
ICAgICAgICB2YXIgdCwgbiA9IHguX2RhdGEodGhpcyksDQogICAgICAgICAgICAg
ICAgICAgIHIgPSBuW2UgKyAicXVldWUiXSwNCiAgICAgICAgICAgICAgICAgICAg
aSA9IG5bZSArICJxdWV1ZUhvb2tzIl0sDQogICAgICAgICAgICAgICAgICAgIG8g
PSB4LnRpbWVycywNCiAgICAgICAgICAgICAgICAgICAgYSA9IHIgPyByLmxlbmd0
aCA6IDA7DQogICAgICAgICAgICAgICAgZm9yIChuLmZpbmlzaCA9ICEwLCB4LnF1
ZXVlKHRoaXMsIGUsIFtdKSwgaSAmJiBpLnN0b3AgJiYgaS5zdG9wLmNhbGwodGhp
cywgITApLCB0ID0gby5sZW5ndGg7IHQtLTspIG9bdF0uZWxlbSA9PT0gdGhpcyAm
JiBvW3RdLnF1ZXVlID09PSBlICYmIChvW3RdLmFuaW0uc3RvcCghMCksIG8uc3Bs
aWNlKHQsIDEpKTsNCiAgICAgICAgICAgICAgICBmb3IgKHQgPSAwOyBhID4gdDsg
dCsrKSByW3RdICYmIHJbdF0uZmluaXNoICYmIHJbdF0uZmluaXNoLmNhbGwodGhp
cyk7DQogICAgICAgICAgICAgICAgZGVsZXRlIG4uZmluaXNoDQogICAgICAgICAg
ICB9KQ0KICAgICAgICB9DQogICAgfSk7DQoNCiAgICBmdW5jdGlvbiBpcihlLCB0
KSB7DQogICAgICAgIHZhciBuLCByID0gew0KICAgICAgICAgICAgICAgIGhlaWdo
dDogZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGkgPSAwOw0KICAgICAg
ICBmb3IgKHQgPSB0ID8gMSA6IDA7IDQgPiBpOyBpICs9IDIgLSB0KSBuID0gWnRb
aV0sIHJbIm1hcmdpbiIgKyBuXSA9IHJbInBhZGRpbmciICsgbl0gPSBlOw0KICAg
ICAgICByZXR1cm4gdCAmJiAoci5vcGFjaXR5ID0gci53aWR0aCA9IGUpLCByDQog
ICAgfQ0KICAgIHguZWFjaCh7DQogICAgICAgIHNsaWRlRG93bjogaXIoInNob3ci
KSwNCiAgICAgICAgc2xpZGVVcDogaXIoImhpZGUiKSwNCiAgICAgICAgc2xpZGVU
b2dnbGU6IGlyKCJ0b2dnbGUiKSwNCiAgICAgICAgZmFkZUluOiB7DQogICAgICAg
ICAgICBvcGFjaXR5OiAic2hvdyINCiAgICAgICAgfSwNCiAgICAgICAgZmFkZU91
dDogew0KICAgICAgICAgICAgb3BhY2l0eTogImhpZGUiDQogICAgICAgIH0sDQog
ICAgICAgIGZhZGVUb2dnbGU6IHsNCiAgICAgICAgICAgIG9wYWNpdHk6ICJ0b2dn
bGUiDQogICAgICAgIH0NCiAgICB9LCBmdW5jdGlvbihlLCB0KSB7DQogICAgICAg
IHguZm5bZV0gPSBmdW5jdGlvbihlLCBuLCByKSB7DQogICAgICAgICAgICByZXR1
cm4gdGhpcy5hbmltYXRlKHQsIGUsIG4sIHIpDQogICAgICAgIH0NCiAgICB9KSwg
eC5zcGVlZCA9IGZ1bmN0aW9uKGUsIHQsIG4pIHsNCiAgICAgICAgdmFyIHIgPSBl
ICYmICJvYmplY3QiID09IHR5cGVvZiBlID8geC5leHRlbmQoe30sIGUpIDogew0K
ICAgICAgICAgICAgY29tcGxldGU6IG4gfHwgIW4gJiYgdCB8fCB4LmlzRnVuY3Rp
b24oZSkgJiYgZSwNCiAgICAgICAgICAgIGR1cmF0aW9uOiBlLA0KICAgICAgICAg
ICAgZWFzaW5nOiBuICYmIHQgfHwgdCAmJiAheC5pc0Z1bmN0aW9uKHQpICYmIHQN
CiAgICAgICAgfTsNCiAgICAgICAgcmV0dXJuIHIuZHVyYXRpb24gPSB4LmZ4Lm9m
ZiA/IDAgOiAibnVtYmVyIiA9PSB0eXBlb2Ygci5kdXJhdGlvbiA/IHIuZHVyYXRp
b24gOiByLmR1cmF0aW9uIGluIHguZnguc3BlZWRzID8geC5meC5zcGVlZHNbci5k
dXJhdGlvbl0gOiB4LmZ4LnNwZWVkcy5fZGVmYXVsdCwgKG51bGwgPT0gci5xdWV1
ZSB8fCByLnF1ZXVlID09PSAhMCkgJiYgKHIucXVldWUgPSAiZngiKSwgci5vbGQg
PSByLmNvbXBsZXRlLCByLmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7DQogICAgICAg
ICAgICB4LmlzRnVuY3Rpb24oci5vbGQpICYmIHIub2xkLmNhbGwodGhpcyksIHIu
cXVldWUgJiYgeC5kZXF1ZXVlKHRoaXMsIHIucXVldWUpDQogICAgICAgIH0sIHIN
CiAgICB9LCB4LmVhc2luZyA9IHsNCiAgICAgICAgbGluZWFyOiBmdW5jdGlvbihl
KSB7DQogICAgICAgICAgICByZXR1cm4gZQ0KICAgICAgICB9LA0KICAgICAgICBz
d2luZzogZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgcmV0dXJuIC41IC0gTWF0
aC5jb3MoZSAqIE1hdGguUEkpIC8gMg0KICAgICAgICB9DQogICAgfSwgeC50aW1l
cnMgPSBbXSwgeC5meCA9IHJyLnByb3RvdHlwZS5pbml0LCB4LmZ4LnRpY2sgPSBm
dW5jdGlvbigpIHsNCiAgICAgICAgdmFyIGUsIG4gPSB4LnRpbWVycywNCiAgICAg
ICAgICAgIHIgPSAwOw0KICAgICAgICBmb3IgKFhuID0geC5ub3coKTsgbi5sZW5n
dGggPiByOyByKyspIGUgPSBuW3JdLCBlKCkgfHwgbltyXSAhPT0gZSB8fCBuLnNw
bGljZShyLS0sIDEpOw0KICAgICAgICBuLmxlbmd0aCB8fCB4LmZ4LnN0b3AoKSwg
WG4gPSB0DQogICAgfSwgeC5meC50aW1lciA9IGZ1bmN0aW9uKGUpIHsNCiAgICAg
ICAgZSgpICYmIHgudGltZXJzLnB1c2goZSkgJiYgeC5meC5zdGFydCgpDQogICAg
fSwgeC5meC5pbnRlcnZhbCA9IDEzLCB4LmZ4LnN0YXJ0ID0gZnVuY3Rpb24oKSB7
DQogICAgICAgIFVuIHx8IChVbiA9IHNldEludGVydmFsKHguZngudGljaywgeC5m
eC5pbnRlcnZhbCkpDQogICAgfSwgeC5meC5zdG9wID0gZnVuY3Rpb24oKSB7DQog
ICAgICAgIGNsZWFySW50ZXJ2YWwoVW4pLCBVbiA9IG51bGwNCiAgICB9LCB4LmZ4
LnNwZWVkcyA9IHsNCiAgICAgICAgc2xvdzogNjAwLA0KICAgICAgICBmYXN0OiAy
MDAsDQogICAgICAgIF9kZWZhdWx0OiA0MDANCiAgICB9LCB4LmZ4LnN0ZXAgPSB7
fSwgeC5leHByICYmIHguZXhwci5maWx0ZXJzICYmICh4LmV4cHIuZmlsdGVycy5h
bmltYXRlZCA9IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgcmV0dXJuIHguZ3JlcCh4
LnRpbWVycywgZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgcmV0dXJuIGUgPT09
IHQuZWxlbQ0KICAgICAgICB9KS5sZW5ndGgNCiAgICB9KSwgeC5mbi5vZmZzZXQg
PSBmdW5jdGlvbihlKSB7DQogICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSBy
ZXR1cm4gZSA9PT0gdCA/IHRoaXMgOiB0aGlzLmVhY2goZnVuY3Rpb24odCkgew0K
ICAgICAgICAgICAgeC5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsIGUsIHQpDQogICAg
ICAgIH0pOw0KICAgICAgICB2YXIgbiwgciwgbyA9IHsNCiAgICAgICAgICAgICAg
ICB0b3A6IDAsDQogICAgICAgICAgICAgICAgbGVmdDogMA0KICAgICAgICAgICAg
fSwNCiAgICAgICAgICAgIGEgPSB0aGlzWzBdLA0KICAgICAgICAgICAgcyA9IGEg
JiYgYS5vd25lckRvY3VtZW50Ow0KICAgICAgICBpZiAocykgcmV0dXJuIG4gPSBz
LmRvY3VtZW50RWxlbWVudCwgeC5jb250YWlucyhuLCBhKSA/ICh0eXBlb2YgYS5n
ZXRCb3VuZGluZ0NsaWVudFJlY3QgIT09IGkgJiYgKG8gPSBhLmdldEJvdW5kaW5n
Q2xpZW50UmVjdCgpKSwgciA9IG9yKHMpLCB7DQogICAgICAgICAgICB0b3A6IG8u
dG9wICsgKHIucGFnZVlPZmZzZXQgfHwgbi5zY3JvbGxUb3ApIC0gKG4uY2xpZW50
VG9wIHx8IDApLA0KICAgICAgICAgICAgbGVmdDogby5sZWZ0ICsgKHIucGFnZVhP
ZmZzZXQgfHwgbi5zY3JvbGxMZWZ0KSAtIChuLmNsaWVudExlZnQgfHwgMCkNCiAg
ICAgICAgfSkgOiBvDQogICAgfSwgeC5vZmZzZXQgPSB7DQogICAgICAgIHNldE9m
ZnNldDogZnVuY3Rpb24oZSwgdCwgbikgew0KICAgICAgICAgICAgdmFyIHIgPSB4
LmNzcyhlLCAicG9zaXRpb24iKTsNCiAgICAgICAgICAgICJzdGF0aWMiID09PSBy
ICYmIChlLnN0eWxlLnBvc2l0aW9uID0gInJlbGF0aXZlIik7DQogICAgICAgICAg
ICB2YXIgaSA9IHgoZSksDQogICAgICAgICAgICAgICAgbyA9IGkub2Zmc2V0KCks
DQogICAgICAgICAgICAgICAgYSA9IHguY3NzKGUsICJ0b3AiKSwNCiAgICAgICAg
ICAgICAgICBzID0geC5jc3MoZSwgImxlZnQiKSwNCiAgICAgICAgICAgICAgICBs
ID0gKCJhYnNvbHV0ZSIgPT09IHIgfHwgImZpeGVkIiA9PT0gcikgJiYgeC5pbkFy
cmF5KCJhdXRvIiwgW2EsIHNdKSA+IC0xLA0KICAgICAgICAgICAgICAgIHUgPSB7
fSwNCiAgICAgICAgICAgICAgICBjID0ge30sDQogICAgICAgICAgICAgICAgcCwg
ZjsNCiAgICAgICAgICAgIGwgPyAoYyA9IGkucG9zaXRpb24oKSwgcCA9IGMudG9w
LCBmID0gYy5sZWZ0KSA6IChwID0gcGFyc2VGbG9hdChhKSB8fCAwLCBmID0gcGFy
c2VGbG9hdChzKSB8fCAwKSwgeC5pc0Z1bmN0aW9uKHQpICYmICh0ID0gdC5jYWxs
KGUsIG4sIG8pKSwgbnVsbCAhPSB0LnRvcCAmJiAodS50b3AgPSB0LnRvcCAtIG8u
dG9wICsgcCksIG51bGwgIT0gdC5sZWZ0ICYmICh1LmxlZnQgPSB0LmxlZnQgLSBv
LmxlZnQgKyBmKSwgInVzaW5nIiBpbiB0ID8gdC51c2luZy5jYWxsKGUsIHUpIDog
aS5jc3ModSkNCiAgICAgICAgfQ0KICAgIH0sIHguZm4uZXh0ZW5kKHsNCiAgICAg
ICAgcG9zaXRpb246IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgaWYgKHRoaXNb
MF0pIHsNCiAgICAgICAgICAgICAgICB2YXIgZSwgdCwgbiA9IHsNCiAgICAgICAg
ICAgICAgICAgICAgICAgIHRvcDogMCwNCiAgICAgICAgICAgICAgICAgICAgICAg
IGxlZnQ6IDANCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAg
ICAgICAgciA9IHRoaXNbMF07DQogICAgICAgICAgICAgICAgcmV0dXJuICJmaXhl
ZCIgPT09IHguY3NzKHIsICJwb3NpdGlvbiIpID8gdCA9IHIuZ2V0Qm91bmRpbmdD
bGllbnRSZWN0KCkgOiAoZSA9IHRoaXMub2Zmc2V0UGFyZW50KCksIHQgPSB0aGlz
Lm9mZnNldCgpLCB4Lm5vZGVOYW1lKGVbMF0sICJodG1sIikgfHwgKG4gPSBlLm9m
ZnNldCgpKSwgbi50b3AgKz0geC5jc3MoZVswXSwgImJvcmRlclRvcFdpZHRoIiwg
ITApLCBuLmxlZnQgKz0geC5jc3MoZVswXSwgImJvcmRlckxlZnRXaWR0aCIsICEw
KSksIHsNCiAgICAgICAgICAgICAgICAgICAgdG9wOiB0LnRvcCAtIG4udG9wIC0g
eC5jc3MociwgIm1hcmdpblRvcCIsICEwKSwNCiAgICAgICAgICAgICAgICAgICAg
bGVmdDogdC5sZWZ0IC0gbi5sZWZ0IC0geC5jc3MociwgIm1hcmdpbkxlZnQiLCAh
MCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0s
DQogICAgICAgIG9mZnNldFBhcmVudDogZnVuY3Rpb24oKSB7DQogICAgICAgICAg
ICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAg
dmFyIGUgPSB0aGlzLm9mZnNldFBhcmVudCB8fCBzOw0KICAgICAgICAgICAgICAg
IHdoaWxlIChlICYmICF4Lm5vZGVOYW1lKGUsICJodG1sIikgJiYgInN0YXRpYyIg
PT09IHguY3NzKGUsICJwb3NpdGlvbiIpKSBlID0gZS5vZmZzZXRQYXJlbnQ7DQog
ICAgICAgICAgICAgICAgcmV0dXJuIGUgfHwgcw0KICAgICAgICAgICAgfSkNCiAg
ICAgICAgfQ0KICAgIH0pLCB4LmVhY2goew0KICAgICAgICBzY3JvbGxMZWZ0OiAi
cGFnZVhPZmZzZXQiLA0KICAgICAgICBzY3JvbGxUb3A6ICJwYWdlWU9mZnNldCIN
CiAgICB9LCBmdW5jdGlvbihlLCBuKSB7DQogICAgICAgIHZhciByID0gL1kvLnRl
c3Qobik7DQogICAgICAgIHguZm5bZV0gPSBmdW5jdGlvbihpKSB7DQogICAgICAg
ICAgICByZXR1cm4geC5hY2Nlc3ModGhpcywgZnVuY3Rpb24oZSwgaSwgbykgew0K
ICAgICAgICAgICAgICAgIHZhciBhID0gb3IoZSk7DQogICAgICAgICAgICAgICAg
cmV0dXJuIG8gPT09IHQgPyBhID8gbiBpbiBhID8gYVtuXSA6IGEuZG9jdW1lbnQu
ZG9jdW1lbnRFbGVtZW50W2ldIDogZVtpXSA6IChhID8gYS5zY3JvbGxUbyhyID8g
eChhKS5zY3JvbGxMZWZ0KCkgOiBvLCByID8gbyA6IHgoYSkuc2Nyb2xsVG9wKCkp
IDogZVtpXSA9IG8sIHQpDQogICAgICAgICAgICB9LCBlLCBpLCBhcmd1bWVudHMu
bGVuZ3RoLCBudWxsKQ0KICAgICAgICB9DQogICAgfSk7DQoNCiAgICBmdW5jdGlv
biBvcihlKSB7DQogICAgICAgIHJldHVybiB4LmlzV2luZG93KGUpID8gZSA6IDkg
PT09IGUubm9kZVR5cGUgPyBlLmRlZmF1bHRWaWV3IHx8IGUucGFyZW50V2luZG93
IDogITENCiAgICB9DQogICAgeC5lYWNoKHsNCiAgICAgICAgSGVpZ2h0OiAiaGVp
Z2h0IiwNCiAgICAgICAgV2lkdGg6ICJ3aWR0aCINCiAgICB9LCBmdW5jdGlvbihl
LCBuKSB7DQogICAgICAgIHguZWFjaCh7DQogICAgICAgICAgICBwYWRkaW5nOiAi
aW5uZXIiICsgZSwNCiAgICAgICAgICAgIGNvbnRlbnQ6IG4sDQogICAgICAgICAg
ICAiIjogIm91dGVyIiArIGUNCiAgICAgICAgfSwgZnVuY3Rpb24ociwgaSkgew0K
ICAgICAgICAgICAgeC5mbltpXSA9IGZ1bmN0aW9uKGksIG8pIHsNCiAgICAgICAg
ICAgICAgICB2YXIgYSA9IGFyZ3VtZW50cy5sZW5ndGggJiYgKHIgfHwgImJvb2xl
YW4iICE9IHR5cGVvZiBpKSwNCiAgICAgICAgICAgICAgICAgICAgcyA9IHIgfHwg
KGkgPT09ICEwIHx8IG8gPT09ICEwID8gIm1hcmdpbiIgOiAiYm9yZGVyIik7DQog
ICAgICAgICAgICAgICAgcmV0dXJuIHguYWNjZXNzKHRoaXMsIGZ1bmN0aW9uKG4s
IHIsIGkpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG87DQogICAgICAgICAg
ICAgICAgICAgIHJldHVybiB4LmlzV2luZG93KG4pID8gbi5kb2N1bWVudC5kb2N1
bWVudEVsZW1lbnRbImNsaWVudCIgKyBlXSA6IDkgPT09IG4ubm9kZVR5cGUgPyAo
byA9IG4uZG9jdW1lbnRFbGVtZW50LCBNYXRoLm1heChuLmJvZHlbInNjcm9sbCIg
KyBlXSwgb1sic2Nyb2xsIiArIGVdLCBuLmJvZHlbIm9mZnNldCIgKyBlXSwgb1si
b2Zmc2V0IiArIGVdLCBvWyJjbGllbnQiICsgZV0pKSA6IGkgPT09IHQgPyB4LmNz
cyhuLCByLCBzKSA6IHguc3R5bGUobiwgciwgaSwgcykNCiAgICAgICAgICAgICAg
ICB9LCBuLCBhID8gaSA6IHQsIGEsIG51bGwpDQogICAgICAgICAgICB9DQogICAg
ICAgIH0pDQogICAgfSksIHguZm4uc2l6ZSA9IGZ1bmN0aW9uKCkgew0KICAgICAg
ICByZXR1cm4gdGhpcy5sZW5ndGgNCiAgICB9LCB4LmZuLmFuZFNlbGYgPSB4LmZu
LmFkZEJhY2ssICJvYmplY3QiID09IHR5cGVvZiBtb2R1bGUgJiYgbW9kdWxlICYm
ICJvYmplY3QiID09IHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA/IG1vZHVsZS5leHBv
cnRzID0geCA6IChlLmpRdWVyeSA9IGUuJCA9IHgsICJmdW5jdGlvbiIgPT0gdHlw
ZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kICYmIGRlZmluZSgianF1ZXJ5IiwgW10s
IGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1cm4geA0KICAgIH0pKQ0KfSkod2lu
ZG93KTsNCjwvc2NyaXB0Pg0KPHNjcmlwdD4NCiEgZnVuY3Rpb24oKSB7DQogICAg
ZnVuY3Rpb24gbihuKSB7DQogICAgICAgIHJldHVybiBuICYmIChuLm93bmVyRG9j
dW1lbnQgfHwgbi5kb2N1bWVudCB8fCBuKS5kb2N1bWVudEVsZW1lbnQNCiAgICB9
DQoNCiAgICBmdW5jdGlvbiB0KG4pIHsNCiAgICAgICAgcmV0dXJuIG4gJiYgKG4u
b3duZXJEb2N1bWVudCAmJiBuLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwg
bi5kb2N1bWVudCAmJiBuIHx8IG4uZGVmYXVsdFZpZXcpDQogICAgfQ0KDQogICAg
ZnVuY3Rpb24gZShuLCB0KSB7DQogICAgICAgIHJldHVybiB0ID4gbiA/IC0xIDog
biA+IHQgPyAxIDogbiA+PSB0ID8gMCA6IE5hTg0KICAgIH0NCg0KICAgIGZ1bmN0
aW9uIHIobikgew0KICAgICAgICByZXR1cm4gbnVsbCA9PT0gbiA/IE5hTiA6ICtu
DQogICAgfQ0KDQogICAgZnVuY3Rpb24gaShuKSB7DQogICAgICAgIHJldHVybiAh
aXNOYU4obikNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB1KG4pIHsNCiAgICAgICAg
cmV0dXJuIHsNCiAgICAgICAgICAgIGxlZnQ6IGZ1bmN0aW9uKHQsIGUsIHIsIGkp
IHsNCiAgICAgICAgICAgICAgICBmb3IgKGFyZ3VtZW50cy5sZW5ndGggPCAzICYm
IChyID0gMCksIGFyZ3VtZW50cy5sZW5ndGggPCA0ICYmIChpID0gdC5sZW5ndGgp
OyBpID4gcjspIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHUgPSByICsgaSA+
Pj4gMTsNCiAgICAgICAgICAgICAgICAgICAgbih0W3VdLCBlKSA8IDAgPyByID0g
dSArIDEgOiBpID0gdQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAg
ICByZXR1cm4gcg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHJpZ2h0OiBm
dW5jdGlvbih0LCBlLCByLCBpKSB7DQogICAgICAgICAgICAgICAgZm9yIChhcmd1
bWVudHMubGVuZ3RoIDwgMyAmJiAociA9IDApLCBhcmd1bWVudHMubGVuZ3RoIDwg
NCAmJiAoaSA9IHQubGVuZ3RoKTsgaSA+IHI7KSB7DQogICAgICAgICAgICAgICAg
ICAgIHZhciB1ID0gciArIGkgPj4+IDE7DQogICAgICAgICAgICAgICAgICAgIG4o
dFt1XSwgZSkgPiAwID8gaSA9IHUgOiByID0gdSArIDENCiAgICAgICAgICAgICAg
ICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIHINCiAgICAgICAgICAgIH0NCiAg
ICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIG8obikgew0KICAgICAgICBy
ZXR1cm4gbi5sZW5ndGgNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBhKG4pIHsNCiAg
ICAgICAgZm9yICh2YXIgdCA9IDE7IG4gKiB0ICUgMTspIHQgKj0gMTA7DQogICAg
ICAgIHJldHVybiB0DQogICAgfQ0KDQogICAgZnVuY3Rpb24gbChuLCB0KSB7DQog
ICAgICAgIGZvciAodmFyIGUgaW4gdCkgT2JqZWN0LmRlZmluZVByb3BlcnR5KG4u
cHJvdG90eXBlLCBlLCB7DQogICAgICAgICAgICB2YWx1ZTogdFtlXSwNCiAgICAg
ICAgICAgIGVudW1lcmFibGU6ICExDQogICAgICAgIH0pDQogICAgfQ0KDQogICAg
ZnVuY3Rpb24gYygpIHsNCiAgICAgICAgdGhpcy5fID0gT2JqZWN0LmNyZWF0ZShu
dWxsKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGYobikgew0KICAgICAgICByZXR1
cm4gKG4gKz0gIiIpID09PSBibyB8fCBuWzBdID09PSBfbyA/IF9vICsgbiA6IG4N
CiAgICB9DQoNCiAgICBmdW5jdGlvbiBzKG4pIHsNCiAgICAgICAgcmV0dXJuIChu
ICs9ICIiKVswXSA9PT0gX28gPyBuLnNsaWNlKDEpIDogbg0KICAgIH0NCg0KICAg
IGZ1bmN0aW9uIGgobikgew0KICAgICAgICByZXR1cm4gZihuKSBpbiB0aGlzLl8N
CiAgICB9DQoNCiAgICBmdW5jdGlvbiBwKG4pIHsNCiAgICAgICAgcmV0dXJuIChu
ID0gZihuKSkgaW4gdGhpcy5fICYmIGRlbGV0ZSB0aGlzLl9bbl0NCiAgICB9DQoN
CiAgICBmdW5jdGlvbiBnKCkgew0KICAgICAgICB2YXIgbiA9IFtdOw0KICAgICAg
ICBmb3IgKHZhciB0IGluIHRoaXMuXykgbi5wdXNoKHModCkpOw0KICAgICAgICBy
ZXR1cm4gbg0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHYoKSB7DQogICAgICAgIHZh
ciBuID0gMDsNCiAgICAgICAgZm9yICh2YXIgdCBpbiB0aGlzLl8pICsrbjsNCiAg
ICAgICAgcmV0dXJuIG4NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBkKCkgew0KICAg
ICAgICBmb3IgKHZhciBuIGluIHRoaXMuXykgcmV0dXJuICExOw0KICAgICAgICBy
ZXR1cm4gITANCiAgICB9DQoNCiAgICBmdW5jdGlvbiB5KCkgew0KICAgICAgICB0
aGlzLl8gPSBPYmplY3QuY3JlYXRlKG51bGwpDQogICAgfQ0KDQogICAgZnVuY3Rp
b24gbShuKSB7DQogICAgICAgIHJldHVybiBuDQogICAgfQ0KDQogICAgZnVuY3Rp
b24gTShuLCB0LCBlKSB7DQogICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsNCiAg
ICAgICAgICAgIHZhciByID0gZS5hcHBseSh0LCBhcmd1bWVudHMpOw0KICAgICAg
ICAgICAgcmV0dXJuIHIgPT09IHQgPyBuIDogcg0KICAgICAgICB9DQogICAgfQ0K
DQogICAgZnVuY3Rpb24geChuLCB0KSB7DQogICAgICAgIGlmICh0IGluIG4pIHJl
dHVybiB0Ow0KICAgICAgICB0ID0gdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSAr
IHQuc2xpY2UoMSk7DQogICAgICAgIGZvciAodmFyIGUgPSAwLCByID0gd28ubGVu
Z3RoOyByID4gZTsgKytlKSB7DQogICAgICAgICAgICB2YXIgaSA9IHdvW2VdICsg
dDsNCiAgICAgICAgICAgIGlmIChpIGluIG4pIHJldHVybiBpDQogICAgICAgIH0N
CiAgICB9DQoNCiAgICBmdW5jdGlvbiBiKCkge30NCg0KICAgIGZ1bmN0aW9uIF8o
KSB7fQ0KDQogICAgZnVuY3Rpb24gdyhuKSB7DQogICAgICAgIGZ1bmN0aW9uIHQo
KSB7DQogICAgICAgICAgICBmb3IgKHZhciB0LCByID0gZSwgaSA9IC0xLCB1ID0g
ci5sZW5ndGg7ICsraSA8IHU7KSh0ID0gcltpXS5vbikgJiYgdC5hcHBseSh0aGlz
LCBhcmd1bWVudHMpOw0KICAgICAgICAgICAgcmV0dXJuIG4NCiAgICAgICAgfQ0K
ICAgICAgICB2YXIgZSA9IFtdLA0KICAgICAgICAgICAgciA9IG5ldyBjOw0KICAg
ICAgICByZXR1cm4gdC5vbiA9IGZ1bmN0aW9uKHQsIGkpIHsNCiAgICAgICAgICAg
IHZhciB1LCBvID0gci5nZXQodCk7DQogICAgICAgICAgICByZXR1cm4gYXJndW1l
bnRzLmxlbmd0aCA8IDIgPyBvICYmIG8ub24gOiAobyAmJiAoby5vbiA9IG51bGws
IGUgPSBlLnNsaWNlKDAsIHUgPSBlLmluZGV4T2YobykpLmNvbmNhdChlLnNsaWNl
KHUgKyAxKSksIHIucmVtb3ZlKHQpKSwgaSAmJiBlLnB1c2goci5zZXQodCwgew0K
ICAgICAgICAgICAgICAgIG9uOiBpDQogICAgICAgICAgICB9KSksIG4pDQogICAg
ICAgIH0sIHQNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBTKCkgew0KICAgICAgICBh
by5ldmVudC5wcmV2ZW50RGVmYXVsdCgpDQogICAgfQ0KDQogICAgZnVuY3Rpb24g
aygpIHsNCiAgICAgICAgZm9yICh2YXIgbiwgdCA9IGFvLmV2ZW50OyBuID0gdC5z
b3VyY2VFdmVudDspIHQgPSBuOw0KICAgICAgICByZXR1cm4gdA0KICAgIH0NCg0K
ICAgIGZ1bmN0aW9uIE4obikgew0KICAgICAgICBmb3IgKHZhciB0ID0gbmV3IF8s
IGUgPSAwLCByID0gYXJndW1lbnRzLmxlbmd0aDsgKytlIDwgcjspIHRbYXJndW1l
bnRzW2VdXSA9IHcodCk7DQogICAgICAgIHJldHVybiB0Lm9mID0gZnVuY3Rpb24o
ZSwgcikgew0KICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGkpIHsNCiAgICAg
ICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgdSA9IGku
c291cmNlRXZlbnQgPSBhby5ldmVudDsNCiAgICAgICAgICAgICAgICAgICAgaS50
YXJnZXQgPSBuLCBhby5ldmVudCA9IGksIHRbaS50eXBlXS5hcHBseShlLCByKQ0K
ICAgICAgICAgICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICAgICAgICAg
IGFvLmV2ZW50ID0gdQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0N
CiAgICAgICAgfSwgdA0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIEUobikgew0KICAg
ICAgICByZXR1cm4ga28obiwgQ28pLCBuDQogICAgfQ0KDQogICAgZnVuY3Rpb24g
QShuKSB7DQogICAgICAgIHJldHVybiAiZnVuY3Rpb24iID09IHR5cGVvZiBuID8g
biA6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgcmV0dXJuIE5vKG4sIHRoaXMp
DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBDKG4pIHsNCiAgICAg
ICAgcmV0dXJuICJmdW5jdGlvbiIgPT0gdHlwZW9mIG4gPyBuIDogZnVuY3Rpb24o
KSB7DQogICAgICAgICAgICByZXR1cm4gRW8obiwgdGhpcykNCiAgICAgICAgfQ0K
ICAgIH0NCg0KICAgIGZ1bmN0aW9uIHoobiwgdCkgew0KICAgICAgICBmdW5jdGlv
biBlKCkgew0KICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUobikNCiAg
ICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHIoKSB7DQogICAgICAgICAgICB0
aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKG4uc3BhY2UsIG4ubG9jYWwpDQogICAgICAg
IH0NCg0KICAgICAgICBmdW5jdGlvbiBpKCkgew0KICAgICAgICAgICAgdGhpcy5z
ZXRBdHRyaWJ1dGUobiwgdCkNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9u
IHUoKSB7DQogICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZU5TKG4uc3BhY2Us
IG4ubG9jYWwsIHQpDQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBvKCkg
ew0KICAgICAgICAgICAgdmFyIGUgPSB0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7
DQogICAgICAgICAgICBudWxsID09IGUgPyB0aGlzLnJlbW92ZUF0dHJpYnV0ZShu
KSA6IHRoaXMuc2V0QXR0cmlidXRlKG4sIGUpDQogICAgICAgIH0NCg0KICAgICAg
ICBmdW5jdGlvbiBhKCkgew0KICAgICAgICAgICAgdmFyIGUgPSB0LmFwcGx5KHRo
aXMsIGFyZ3VtZW50cyk7DQogICAgICAgICAgICBudWxsID09IGUgPyB0aGlzLnJl
bW92ZUF0dHJpYnV0ZU5TKG4uc3BhY2UsIG4ubG9jYWwpIDogdGhpcy5zZXRBdHRy
aWJ1dGVOUyhuLnNwYWNlLCBuLmxvY2FsLCBlKQ0KICAgICAgICB9DQogICAgICAg
IHJldHVybiBuID0gYW8ubnMucXVhbGlmeShuKSwgbnVsbCA9PSB0ID8gbi5sb2Nh
bCA/IHIgOiBlIDogImZ1bmN0aW9uIiA9PSB0eXBlb2YgdCA/IG4ubG9jYWwgPyBh
IDogbyA6IG4ubG9jYWwgPyB1IDogaQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIEwo
bikgew0KICAgICAgICByZXR1cm4gbi50cmltKCkucmVwbGFjZSgvXHMrL2csICIg
IikNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBxKG4pIHsNCiAgICAgICAgcmV0dXJu
IG5ldyBSZWdFeHAoIig/Ol58XFxzKykiICsgYW8ucmVxdW90ZShuKSArICIoPzpc
XHMrfCQpIiwgImciKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIFQobikgew0KICAg
ICAgICByZXR1cm4gKG4gKyAiIikudHJpbSgpLnNwbGl0KC9efFxzKy8pDQogICAg
fQ0KDQogICAgZnVuY3Rpb24gUihuLCB0KSB7DQogICAgICAgIGZ1bmN0aW9uIGUo
KSB7DQogICAgICAgICAgICBmb3IgKHZhciBlID0gLTE7ICsrZSA8IGk7KSBuW2Vd
KHRoaXMsIHQpDQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiByKCkgew0K
ICAgICAgICAgICAgZm9yICh2YXIgZSA9IC0xLCByID0gdC5hcHBseSh0aGlzLCBh
cmd1bWVudHMpOyArK2UgPCBpOykgbltlXSh0aGlzLCByKQ0KICAgICAgICB9DQog
ICAgICAgIG4gPSBUKG4pLm1hcChEKTsNCiAgICAgICAgdmFyIGkgPSBuLmxlbmd0
aDsNCiAgICAgICAgcmV0dXJuICJmdW5jdGlvbiIgPT0gdHlwZW9mIHQgPyByIDog
ZQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIEQobikgew0KICAgICAgICB2YXIgdCA9
IHEobik7DQogICAgICAgIHJldHVybiBmdW5jdGlvbihlLCByKSB7DQogICAgICAg
ICAgICBpZiAoaSA9IGUuY2xhc3NMaXN0KSByZXR1cm4gciA/IGkuYWRkKG4pIDog
aS5yZW1vdmUobik7DQogICAgICAgICAgICB2YXIgaSA9IGUuZ2V0QXR0cmlidXRl
KCJjbGFzcyIpIHx8ICIiOw0KICAgICAgICAgICAgciA/ICh0Lmxhc3RJbmRleCA9
IDAsIHQudGVzdChpKSB8fCBlLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCBMKGkgKyAi
ICIgKyBuKSkpIDogZS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgTChpLnJlcGxhY2Uo
dCwgIiAiKSkpDQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBQKG4s
IHQsIGUpIHsNCiAgICAgICAgZnVuY3Rpb24gcigpIHsNCiAgICAgICAgICAgIHRo
aXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobikNCiAgICAgICAgfQ0KDQogICAgICAg
IGZ1bmN0aW9uIGkoKSB7DQogICAgICAgICAgICB0aGlzLnN0eWxlLnNldFByb3Bl
cnR5KG4sIHQsIGUpDQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiB1KCkg
ew0KICAgICAgICAgICAgdmFyIHIgPSB0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7
DQogICAgICAgICAgICBudWxsID09IHIgPyB0aGlzLnN0eWxlLnJlbW92ZVByb3Bl
cnR5KG4pIDogdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuLCByLCBlKQ0KICAgICAg
ICB9DQogICAgICAgIHJldHVybiBudWxsID09IHQgPyByIDogImZ1bmN0aW9uIiA9
PSB0eXBlb2YgdCA/IHUgOiBpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gVShuLCB0
KSB7DQogICAgICAgIGZ1bmN0aW9uIGUoKSB7DQogICAgICAgICAgICBkZWxldGUg
dGhpc1tuXQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gcigpIHsNCiAg
ICAgICAgICAgIHRoaXNbbl0gPSB0DQogICAgICAgIH0NCg0KICAgICAgICBmdW5j
dGlvbiBpKCkgew0KICAgICAgICAgICAgdmFyIGUgPSB0LmFwcGx5KHRoaXMsIGFy
Z3VtZW50cyk7DQogICAgICAgICAgICBudWxsID09IGUgPyBkZWxldGUgdGhpc1tu
XSA6IHRoaXNbbl0gPSBlDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG51bGwg
PT0gdCA/IGUgOiAiZnVuY3Rpb24iID09IHR5cGVvZiB0ID8gaSA6IHINCiAgICB9
DQoNCiAgICBmdW5jdGlvbiBqKG4pIHsNCiAgICAgICAgZnVuY3Rpb24gdCgpIHsN
CiAgICAgICAgICAgIHZhciB0ID0gdGhpcy5vd25lckRvY3VtZW50LA0KICAgICAg
ICAgICAgICAgIGUgPSB0aGlzLm5hbWVzcGFjZVVSSTsNCiAgICAgICAgICAgIHJl
dHVybiBlID09PSB6byAmJiB0LmRvY3VtZW50RWxlbWVudC5uYW1lc3BhY2VVUkkg
PT09IHpvID8gdC5jcmVhdGVFbGVtZW50KG4pIDogdC5jcmVhdGVFbGVtZW50TlMo
ZSwgbikNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGUoKSB7DQogICAg
ICAgICAgICByZXR1cm4gdGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnRO
UyhuLnNwYWNlLCBuLmxvY2FsKQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiAi
ZnVuY3Rpb24iID09IHR5cGVvZiBuID8gbiA6IChuID0gYW8ubnMucXVhbGlmeShu
KSkubG9jYWwgPyBlIDogdA0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIEYoKSB7DQog
ICAgICAgIHZhciBuID0gdGhpcy5wYXJlbnROb2RlOw0KICAgICAgICBuICYmIG4u
cmVtb3ZlQ2hpbGQodGhpcykNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBIKG4pIHsN
CiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIF9fZGF0YV9fOiBuDQogICAg
ICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBPKG4pIHsNCiAgICAgICAgcmV0
dXJuIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgcmV0dXJuIEFvKHRoaXMsIG4p
DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBJKG4pIHsNCiAgICAg
ICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggfHwgKG4gPSBlKSwNCiAgICAgICAg
ICAgIGZ1bmN0aW9uKHQsIGUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdCAm
JiBlID8gbih0Ll9fZGF0YV9fLCBlLl9fZGF0YV9fKSA6ICF0IC0gIWUNCiAgICAg
ICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBZKG4sIHQpIHsNCiAgICAg
ICAgZm9yICh2YXIgZSA9IDAsIHIgPSBuLmxlbmd0aDsgciA+IGU7IGUrKykNCiAg
ICAgICAgICAgIGZvciAodmFyIGksIHUgPSBuW2VdLCBvID0gMCwgYSA9IHUubGVu
Z3RoOyBhID4gbzsgbysrKShpID0gdVtvXSkgJiYgdChpLCBvLCBlKTsNCiAgICAg
ICAgcmV0dXJuIG4NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBaKG4pIHsNCiAgICAg
ICAgcmV0dXJuIGtvKG4sIHFvKSwgbg0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIFYo
bikgew0KICAgICAgICB2YXIgdCwgZTsNCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9u
KHIsIGksIHUpIHsNCiAgICAgICAgICAgIHZhciBvLCBhID0gblt1XS51cGRhdGUs
DQogICAgICAgICAgICAgICAgbCA9IGEubGVuZ3RoOw0KICAgICAgICAgICAgZm9y
ICh1ICE9IGUgJiYgKGUgPSB1LCB0ID0gMCksIGkgPj0gdCAmJiAodCA9IGkgKyAx
KTsgIShvID0gYVt0XSkgJiYgKyt0IDwgbDspOw0KICAgICAgICAgICAgcmV0dXJu
IG8NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIFgobiwgdCwgZSkg
ew0KICAgICAgICBmdW5jdGlvbiByKCkgew0KICAgICAgICAgICAgdmFyIHQgPSB0
aGlzW29dOw0KICAgICAgICAgICAgdCAmJiAodGhpcy5yZW1vdmVFdmVudExpc3Rl
bmVyKG4sIHQsIHQuJCksIGRlbGV0ZSB0aGlzW29dKQ0KICAgICAgICB9DQoNCiAg
ICAgICAgZnVuY3Rpb24gaSgpIHsNCiAgICAgICAgICAgIHZhciBpID0gbCh0LCBj
byhhcmd1bWVudHMpKTsNCiAgICAgICAgICAgIHIuY2FsbCh0aGlzKSwgdGhpcy5h
ZGRFdmVudExpc3RlbmVyKG4sIHRoaXNbb10gPSBpLCBpLiQgPSBlKSwgaS5fID0g
dA0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gdSgpIHsNCiAgICAgICAg
ICAgIHZhciB0LCBlID0gbmV3IFJlZ0V4cCgiXl9fb24oW14uXSspIiArIGFvLnJl
cXVvdGUobikgKyAiJCIpOw0KICAgICAgICAgICAgZm9yICh2YXIgciBpbiB0aGlz
KQ0KICAgICAgICAgICAgICAgIGlmICh0ID0gci5tYXRjaChlKSkgew0KICAgICAg
ICAgICAgICAgICAgICB2YXIgaSA9IHRoaXNbcl07DQogICAgICAgICAgICAgICAg
ICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0WzFdLCBpLCBpLiQpLCBkZWxl
dGUgdGhpc1tyXQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAg
ICB2YXIgbyA9ICJfX29uIiArIG4sDQogICAgICAgICAgICBhID0gbi5pbmRleE9m
KCIuIiksDQogICAgICAgICAgICBsID0gJDsNCiAgICAgICAgYSA+IDAgJiYgKG4g
PSBuLnNsaWNlKDAsIGEpKTsNCiAgICAgICAgdmFyIGMgPSBUby5nZXQobik7DQog
ICAgICAgIHJldHVybiBjICYmIChuID0gYywgbCA9IEIpLCBhID8gdCA/IGkgOiBy
IDogdCA/IGIgOiB1DQogICAgfQ0KDQogICAgZnVuY3Rpb24gJChuLCB0KSB7DQog
ICAgICAgIHJldHVybiBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICB2YXIgciA9
IGFvLmV2ZW50Ow0KICAgICAgICAgICAgYW8uZXZlbnQgPSBlLCB0WzBdID0gdGhp
cy5fX2RhdGFfXzsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAg
bi5hcHBseSh0aGlzLCB0KQ0KICAgICAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAg
ICAgICAgICAgICBhby5ldmVudCA9IHINCiAgICAgICAgICAgIH0NCiAgICAgICAg
fQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIEIobiwgdCkgew0KICAgICAgICB2YXIg
ZSA9ICQobiwgdCk7DQogICAgICAgIHJldHVybiBmdW5jdGlvbihuKSB7DQogICAg
ICAgICAgICB2YXIgdCA9IHRoaXMsDQogICAgICAgICAgICAgICAgciA9IG4ucmVs
YXRlZFRhcmdldDsNCiAgICAgICAgICAgIHIgJiYgKHIgPT09IHQgfHwgOCAmIHIu
Y29tcGFyZURvY3VtZW50UG9zaXRpb24odCkpIHx8IGUuY2FsbCh0LCBuKQ0KICAg
ICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gVyhlKSB7DQogICAgICAgIHZh
ciByID0gIi5kcmFnc3VwcHJlc3MtIiArICsrRG8sDQogICAgICAgICAgICBpID0g
ImNsaWNrIiArIHIsDQogICAgICAgICAgICB1ID0gYW8uc2VsZWN0KHQoZSkpLm9u
KCJ0b3VjaG1vdmUiICsgciwgUykub24oImRyYWdzdGFydCIgKyByLCBTKS5vbigi
c2VsZWN0c3RhcnQiICsgciwgUyk7DQogICAgICAgIGlmIChudWxsID09IFJvICYm
IChSbyA9ICJvbnNlbGVjdHN0YXJ0IiBpbiBlID8gITEgOiB4KGUuc3R5bGUsICJ1
c2VyU2VsZWN0IikpLCBSbykgew0KICAgICAgICAgICAgdmFyIG8gPSBuKGUpLnN0
eWxlLA0KICAgICAgICAgICAgICAgIGEgPSBvW1JvXTsNCiAgICAgICAgICAgIG9b
Um9dID0gIm5vbmUiDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9u
KG4pIHsNCiAgICAgICAgICAgIGlmICh1Lm9uKHIsIG51bGwpLCBSbyAmJiAob1tS
b10gPSBhKSwgbikgew0KICAgICAgICAgICAgICAgIHZhciB0ID0gZnVuY3Rpb24o
KSB7DQogICAgICAgICAgICAgICAgICAgIHUub24oaSwgbnVsbCkNCiAgICAgICAg
ICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIHUub24oaSwgZnVuY3Rpb24oKSB7
DQogICAgICAgICAgICAgICAgICAgIFMoKSwgdCgpDQogICAgICAgICAgICAgICAg
fSwgITApLCBzZXRUaW1lb3V0KHQsIDApDQogICAgICAgICAgICB9DQogICAgICAg
IH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBKKG4sIGUpIHsNCiAgICAgICAgZS5j
aGFuZ2VkVG91Y2hlcyAmJiAoZSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0pOw0KICAg
ICAgICB2YXIgciA9IG4ub3duZXJTVkdFbGVtZW50IHx8IG47DQogICAgICAgIGlm
IChyLmNyZWF0ZVNWR1BvaW50KSB7DQogICAgICAgICAgICB2YXIgaSA9IHIuY3Jl
YXRlU1ZHUG9pbnQoKTsNCiAgICAgICAgICAgIGlmICgwID4gUG8pIHsNCiAgICAg
ICAgICAgICAgICB2YXIgdSA9IHQobik7DQogICAgICAgICAgICAgICAgaWYgKHUu
c2Nyb2xsWCB8fCB1LnNjcm9sbFkpIHsNCiAgICAgICAgICAgICAgICAgICAgciA9
IGFvLnNlbGVjdCgiYm9keSIpLmFwcGVuZCgic3ZnIikuc3R5bGUoew0KICAgICAg
ICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICJhYnNvbHV0ZSIsDQogICAgICAg
ICAgICAgICAgICAgICAgICB0b3A6IDAsDQogICAgICAgICAgICAgICAgICAgICAg
ICBsZWZ0OiAwLA0KICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwLA0K
ICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCwNCiAgICAgICAgICAg
ICAgICAgICAgICAgIGJvcmRlcjogIm5vbmUiDQogICAgICAgICAgICAgICAgICAg
IH0sICJpbXBvcnRhbnQiKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBy
WzBdWzBdLmdldFNjcmVlbkNUTSgpOw0KICAgICAgICAgICAgICAgICAgICBQbyA9
ICEoby5mIHx8IG8uZSksIHIucmVtb3ZlKCkNCiAgICAgICAgICAgICAgICB9DQog
ICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gUG8gPyAoaS54ID0gZS5w
YWdlWCwgaS55ID0gZS5wYWdlWSkgOiAoaS54ID0gZS5jbGllbnRYLCBpLnkgPSBl
LmNsaWVudFkpLCBpID0gaS5tYXRyaXhUcmFuc2Zvcm0obi5nZXRTY3JlZW5DVE0o
KS5pbnZlcnNlKCkpLCBbaS54LCBpLnldDQogICAgICAgIH0NCiAgICAgICAgdmFy
IGEgPSBuLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOw0KICAgICAgICByZXR1cm4g
W2UuY2xpZW50WCAtIGEubGVmdCAtIG4uY2xpZW50TGVmdCwgZS5jbGllbnRZIC0g
YS50b3AgLSBuLmNsaWVudFRvcF0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBHKCkg
ew0KICAgICAgICByZXR1cm4gYW8uZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uaWRl
bnRpZmllcg0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIEsobikgew0KICAgICAgICBy
ZXR1cm4gbiA+IDAgPyAxIDogMCA+IG4gPyAtMSA6IDANCiAgICB9DQoNCiAgICBm
dW5jdGlvbiBRKG4sIHQsIGUpIHsNCiAgICAgICAgcmV0dXJuICh0WzBdIC0gblsw
XSkgKiAoZVsxXSAtIG5bMV0pIC0gKHRbMV0gLSBuWzFdKSAqIChlWzBdIC0gblsw
XSkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBubihuKSB7DQogICAgICAgIHJldHVy
biBuID4gMSA/IDAgOiAtMSA+IG4gPyBGbyA6IE1hdGguYWNvcyhuKQ0KICAgIH0N
Cg0KICAgIGZ1bmN0aW9uIHRuKG4pIHsNCiAgICAgICAgcmV0dXJuIG4gPiAxID8g
SW8gOiAtMSA+IG4gPyAtSW8gOiBNYXRoLmFzaW4obikNCiAgICB9DQoNCiAgICBm
dW5jdGlvbiBlbihuKSB7DQogICAgICAgIHJldHVybiAoKG4gPSBNYXRoLmV4cChu
KSkgLSAxIC8gbikgLyAyDQogICAgfQ0KDQogICAgZnVuY3Rpb24gcm4obikgew0K
ICAgICAgICByZXR1cm4gKChuID0gTWF0aC5leHAobikpICsgMSAvIG4pIC8gMg0K
ICAgIH0NCg0KICAgIGZ1bmN0aW9uIHVuKG4pIHsNCiAgICAgICAgcmV0dXJuICgo
biA9IE1hdGguZXhwKDIgKiBuKSkgLSAxKSAvIChuICsgMSkNCiAgICB9DQoNCiAg
ICBmdW5jdGlvbiBvbihuKSB7DQogICAgICAgIHJldHVybiAobiA9IE1hdGguc2lu
KG4gLyAyKSkgKiBuDQogICAgfQ0KDQogICAgZnVuY3Rpb24gYW4oKSB7fQ0KDQog
ICAgZnVuY3Rpb24gbG4obiwgdCwgZSkgew0KICAgICAgICByZXR1cm4gdGhpcyBp
bnN0YW5jZW9mIGxuID8gKHRoaXMuaCA9ICtuLCB0aGlzLnMgPSArdCwgdm9pZCh0
aGlzLmwgPSArZSkpIDogYXJndW1lbnRzLmxlbmd0aCA8IDIgPyBuIGluc3RhbmNl
b2YgbG4gPyBuZXcgbG4obi5oLCBuLnMsIG4ubCkgOiBfbigiIiArIG4sIHduLCBs
bikgOiBuZXcgbG4obiwgdCwgZSkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBjbihu
LCB0LCBlKSB7DQogICAgICAgIGZ1bmN0aW9uIHIobikgew0KICAgICAgICAgICAg
cmV0dXJuIG4gPiAzNjAgPyBuIC09IDM2MCA6IDAgPiBuICYmIChuICs9IDM2MCks
IDYwID4gbiA/IHUgKyAobyAtIHUpICogbiAvIDYwIDogMTgwID4gbiA/IG8gOiAy
NDAgPiBuID8gdSArIChvIC0gdSkgKiAoMjQwIC0gbikgLyA2MCA6IHUNCiAgICAg
ICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGkobikgew0KICAgICAgICAgICAgcmV0
dXJuIE1hdGgucm91bmQoMjU1ICogcihuKSkNCiAgICAgICAgfQ0KICAgICAgICB2
YXIgdSwgbzsNCiAgICAgICAgcmV0dXJuIG4gPSBpc05hTihuKSA/IDAgOiAobiAl
PSAzNjApIDwgMCA/IG4gKyAzNjAgOiBuLCB0ID0gaXNOYU4odCkgPyAwIDogMCA+
IHQgPyAwIDogdCA+IDEgPyAxIDogdCwgZSA9IDAgPiBlID8gMCA6IGUgPiAxID8g
MSA6IGUsIG8gPSAuNSA+PSBlID8gZSAqICgxICsgdCkgOiBlICsgdCAtIGUgKiB0
LCB1ID0gMiAqIGUgLSBvLCBuZXcgbW4oaShuICsgMTIwKSwgaShuKSwgaShuIC0g
MTIwKSkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBmbihuLCB0LCBlKSB7DQogICAg
ICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgZm4gPyAodGhpcy5oID0gK24sIHRo
aXMuYyA9ICt0LCB2b2lkKHRoaXMubCA9ICtlKSkgOiBhcmd1bWVudHMubGVuZ3Ro
IDwgMiA/IG4gaW5zdGFuY2VvZiBmbiA/IG5ldyBmbihuLmgsIG4uYywgbi5sKSA6
IG4gaW5zdGFuY2VvZiBobiA/IGduKG4ubCwgbi5hLCBuLmIpIDogZ24oKG4gPSBT
bigobiA9IGFvLnJnYihuKSkuciwgbi5nLCBuLmIpKS5sLCBuLmEsIG4uYikgOiBu
ZXcgZm4obiwgdCwgZSkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzbihuLCB0LCBl
KSB7DQogICAgICAgIHJldHVybiBpc05hTihuKSAmJiAobiA9IDApLCBpc05hTih0
KSAmJiAodCA9IDApLCBuZXcgaG4oZSwgTWF0aC5jb3MobiAqPSBZbykgKiB0LCBN
YXRoLnNpbihuKSAqIHQpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gaG4obiwgdCwg
ZSkgew0KICAgICAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGhuID8gKHRoaXMu
bCA9ICtuLCB0aGlzLmEgPSArdCwgdm9pZCh0aGlzLmIgPSArZSkpIDogYXJndW1l
bnRzLmxlbmd0aCA8IDIgPyBuIGluc3RhbmNlb2YgaG4gPyBuZXcgaG4obi5sLCBu
LmEsIG4uYikgOiBuIGluc3RhbmNlb2YgZm4gPyBzbihuLmgsIG4uYywgbi5sKSA6
IFNuKChuID0gbW4obikpLnIsIG4uZywgbi5iKSA6IG5ldyBobihuLCB0LCBlKQ0K
ICAgIH0NCg0KICAgIGZ1bmN0aW9uIHBuKG4sIHQsIGUpIHsNCiAgICAgICAgdmFy
IHIgPSAobiArIDE2KSAvIDExNiwNCiAgICAgICAgICAgIGkgPSByICsgdCAvIDUw
MCwNCiAgICAgICAgICAgIHUgPSByIC0gZSAvIDIwMDsNCiAgICAgICAgcmV0dXJu
IGkgPSB2bihpKSAqIG5hLCByID0gdm4ocikgKiB0YSwgdSA9IHZuKHUpICogZWEs
IG5ldyBtbih5bigzLjI0MDQ1NDIgKiBpIC0gMS41MzcxMzg1ICogciAtIC40OTg1
MzE0ICogdSksIHluKC0uOTY5MjY2ICogaSArIDEuODc2MDEwOCAqIHIgKyAuMDQx
NTU2ICogdSksIHluKC4wNTU2NDM0ICogaSAtIC4yMDQwMjU5ICogciArIDEuMDU3
MjI1MiAqIHUpKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGduKG4sIHQsIGUpIHsN
CiAgICAgICAgcmV0dXJuIG4gPiAwID8gbmV3IGZuKE1hdGguYXRhbjIoZSwgdCkg
KiBabywgTWF0aC5zcXJ0KHQgKiB0ICsgZSAqIGUpLCBuKSA6IG5ldyBmbihOYU4s
IE5hTiwgbikNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB2bihuKSB7DQogICAgICAg
IHJldHVybiBuID4gLjIwNjg5MzAzNCA/IG4gKiBuICogbiA6IChuIC0gNCAvIDI5
KSAvIDcuNzg3MDM3DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZG4obikgew0KICAg
ICAgICByZXR1cm4gbiA+IC4wMDg4NTYgPyBNYXRoLnBvdyhuLCAxIC8gMykgOiA3
Ljc4NzAzNyAqIG4gKyA0IC8gMjkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB5bihu
KSB7DQogICAgICAgIHJldHVybiBNYXRoLnJvdW5kKDI1NSAqICguMDAzMDQgPj0g
biA/IDEyLjkyICogbiA6IDEuMDU1ICogTWF0aC5wb3cobiwgMSAvIDIuNCkgLSAu
MDU1KSkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBtbihuLCB0LCBlKSB7DQogICAg
ICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgbW4gPyAodGhpcy5yID0gfn5uLCB0
aGlzLmcgPSB+fnQsIHZvaWQodGhpcy5iID0gfn5lKSkgOiBhcmd1bWVudHMubGVu
Z3RoIDwgMiA/IG4gaW5zdGFuY2VvZiBtbiA/IG5ldyBtbihuLnIsIG4uZywgbi5i
KSA6IF9uKCIiICsgbiwgbW4sIGNuKSA6IG5ldyBtbihuLCB0LCBlKQ0KICAgIH0N
Cg0KICAgIGZ1bmN0aW9uIE1uKG4pIHsNCiAgICAgICAgcmV0dXJuIG5ldyBtbihu
ID4+IDE2LCBuID4+IDggJiAyNTUsIDI1NSAmIG4pDQogICAgfQ0KDQogICAgZnVu
Y3Rpb24geG4obikgew0KICAgICAgICByZXR1cm4gTW4obikgKyAiIg0KICAgIH0N
Cg0KICAgIGZ1bmN0aW9uIGJuKG4pIHsNCiAgICAgICAgcmV0dXJuIDE2ID4gbiA/
ICIwIiArIE1hdGgubWF4KDAsIG4pLnRvU3RyaW5nKDE2KSA6IE1hdGgubWluKDI1
NSwgbikudG9TdHJpbmcoMTYpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gX24obiwg
dCwgZSkgew0KICAgICAgICB2YXIgciwgaSwgdSwgbyA9IDAsDQogICAgICAgICAg
ICBhID0gMCwNCiAgICAgICAgICAgIGwgPSAwOw0KICAgICAgICBpZiAociA9IC8o
W2Etel0rKVwoKC4qKVwpLy5leGVjKG4gPSBuLnRvTG93ZXJDYXNlKCkpKSBzd2l0
Y2ggKGkgPSByWzJdLnNwbGl0KCIsIiksIHJbMV0pIHsNCiAgICAgICAgICAgIGNh
c2UgImhzbCI6DQogICAgICAgICAgICAgICAgcmV0dXJuIGUocGFyc2VGbG9hdChp
WzBdKSwgcGFyc2VGbG9hdChpWzFdKSAvIDEwMCwgcGFyc2VGbG9hdChpWzJdKSAv
IDEwMCk7DQogICAgICAgICAgICBjYXNlICJyZ2IiOg0KICAgICAgICAgICAgICAg
IHJldHVybiB0KE5uKGlbMF0pLCBObihpWzFdKSwgTm4oaVsyXSkpDQogICAgICAg
IH0NCiAgICAgICAgcmV0dXJuICh1ID0gdWEuZ2V0KG4pKSA/IHQodS5yLCB1Lmcs
IHUuYikgOiAobnVsbCA9PSBuIHx8ICIjIiAhPT0gbi5jaGFyQXQoMCkgfHwgaXNO
YU4odSA9IHBhcnNlSW50KG4uc2xpY2UoMSksIDE2KSkgfHwgKDQgPT09IG4ubGVu
Z3RoID8gKG8gPSAoMzg0MCAmIHUpID4+IDQsIG8gPSBvID4+IDQgfCBvLCBhID0g
MjQwICYgdSwgYSA9IGEgPj4gNCB8IGEsIGwgPSAxNSAmIHUsIGwgPSBsIDw8IDQg
fCBsKSA6IDcgPT09IG4ubGVuZ3RoICYmIChvID0gKDE2NzExNjgwICYgdSkgPj4g
MTYsIGEgPSAoNjUyODAgJiB1KSA+PiA4LCBsID0gMjU1ICYgdSkpLCB0KG8sIGEs
IGwpKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHduKG4sIHQsIGUpIHsNCiAgICAg
ICAgdmFyIHIsIGksIHUgPSBNYXRoLm1pbihuIC89IDI1NSwgdCAvPSAyNTUsIGUg
Lz0gMjU1KSwNCiAgICAgICAgICAgIG8gPSBNYXRoLm1heChuLCB0LCBlKSwNCiAg
ICAgICAgICAgIGEgPSBvIC0gdSwNCiAgICAgICAgICAgIGwgPSAobyArIHUpIC8g
MjsNCiAgICAgICAgcmV0dXJuIGEgPyAoaSA9IC41ID4gbCA/IGEgLyAobyArIHUp
IDogYSAvICgyIC0gbyAtIHUpLCByID0gbiA9PSBvID8gKHQgLSBlKSAvIGEgKyAo
ZSA+IHQgPyA2IDogMCkgOiB0ID09IG8gPyAoZSAtIG4pIC8gYSArIDIgOiAobiAt
IHQpIC8gYSArIDQsIHIgKj0gNjApIDogKHIgPSBOYU4sIGkgPSBsID4gMCAmJiAx
ID4gbCA/IDAgOiByKSwgbmV3IGxuKHIsIGksIGwpDQogICAgfQ0KDQogICAgZnVu
Y3Rpb24gU24obiwgdCwgZSkgew0KICAgICAgICBuID0ga24obiksIHQgPSBrbih0
KSwgZSA9IGtuKGUpOw0KICAgICAgICB2YXIgciA9IGRuKCguNDEyNDU2NCAqIG4g
KyAuMzU3NTc2MSAqIHQgKyAuMTgwNDM3NSAqIGUpIC8gbmEpLA0KICAgICAgICAg
ICAgaSA9IGRuKCguMjEyNjcyOSAqIG4gKyAuNzE1MTUyMiAqIHQgKyAuMDcyMTc1
ICogZSkgLyB0YSksDQogICAgICAgICAgICB1ID0gZG4oKC4wMTkzMzM5ICogbiAr
IC4xMTkxOTIgKiB0ICsgLjk1MDMwNDEgKiBlKSAvIGVhKTsNCiAgICAgICAgcmV0
dXJuIGhuKDExNiAqIGkgLSAxNiwgNTAwICogKHIgLSBpKSwgMjAwICogKGkgLSB1
KSkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBrbihuKSB7DQogICAgICAgIHJldHVy
biAobiAvPSAyNTUpIDw9IC4wNDA0NSA/IG4gLyAxMi45MiA6IE1hdGgucG93KChu
ICsgLjA1NSkgLyAxLjA1NSwgMi40KQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIE5u
KG4pIHsNCiAgICAgICAgdmFyIHQgPSBwYXJzZUZsb2F0KG4pOw0KICAgICAgICBy
ZXR1cm4gIiUiID09PSBuLmNoYXJBdChuLmxlbmd0aCAtIDEpID8gTWF0aC5yb3Vu
ZCgyLjU1ICogdCkgOiB0DQogICAgfQ0KDQogICAgZnVuY3Rpb24gRW4obikgew0K
ICAgICAgICByZXR1cm4gImZ1bmN0aW9uIiA9PSB0eXBlb2YgbiA/IG4gOiBmdW5j
dGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiBuDQogICAgICAgIH0NCiAgICB9
DQoNCiAgICBmdW5jdGlvbiBBbihuKSB7DQogICAgICAgIHJldHVybiBmdW5jdGlv
bih0LCBlLCByKSB7DQogICAgICAgICAgICByZXR1cm4gMiA9PT0gYXJndW1lbnRz
Lmxlbmd0aCAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBlICYmIChyID0gZSwgZSA9
IG51bGwpLCBDbih0LCBlLCBuLCByKQ0KICAgICAgICB9DQogICAgfQ0KDQogICAg
ZnVuY3Rpb24gQ24obiwgdCwgZSwgcikgew0KICAgICAgICBmdW5jdGlvbiBpKCkg
ew0KICAgICAgICAgICAgdmFyIG4sIHQgPSBsLnN0YXR1czsNCiAgICAgICAgICAg
IGlmICghdCAmJiBMbihsKSB8fCB0ID49IDIwMCAmJiAzMDAgPiB0IHx8IDMwNCA9
PT0gdCkgew0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAg
ICAgIG4gPSBlLmNhbGwodSwgbCkNCiAgICAgICAgICAgICAgICB9IGNhdGNoIChy
KSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB2b2lkIG8uZXJyb3IuY2Fs
bCh1LCByKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBvLmxv
YWQuY2FsbCh1LCBuKQ0KICAgICAgICAgICAgfSBlbHNlIG8uZXJyb3IuY2FsbCh1
LCBsKQ0KICAgICAgICB9DQogICAgICAgIHZhciB1ID0ge30sDQogICAgICAgICAg
ICBvID0gYW8uZGlzcGF0Y2goImJlZm9yZXNlbmQiLCAicHJvZ3Jlc3MiLCAibG9h
ZCIsICJlcnJvciIpLA0KICAgICAgICAgICAgYSA9IHt9LA0KICAgICAgICAgICAg
bCA9IG5ldyBYTUxIdHRwUmVxdWVzdCwNCiAgICAgICAgICAgIGMgPSBudWxsOw0K
ICAgICAgICByZXR1cm4gIXRoaXMuWERvbWFpblJlcXVlc3QgfHwgIndpdGhDcmVk
ZW50aWFscyIgaW4gbCB8fCAhL14oaHR0cChzKT86KT9cL1wvLy50ZXN0KG4pIHx8
IChsID0gbmV3IFhEb21haW5SZXF1ZXN0KSwgIm9ubG9hZCIgaW4gbCA/IGwub25s
b2FkID0gbC5vbmVycm9yID0gaSA6IGwub25yZWFkeXN0YXRlY2hhbmdlID0gZnVu
Y3Rpb24oKSB7DQogICAgICAgICAgICBsLnJlYWR5U3RhdGUgPiAzICYmIGkoKQ0K
ICAgICAgICB9LCBsLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbihuKSB7DQogICAgICAg
ICAgICB2YXIgdCA9IGFvLmV2ZW50Ow0KICAgICAgICAgICAgYW8uZXZlbnQgPSBu
Ow0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBvLnByb2dyZXNz
LmNhbGwodSwgbCkNCiAgICAgICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAg
ICAgICAgYW8uZXZlbnQgPSB0DQogICAgICAgICAgICB9DQogICAgICAgIH0sIHUu
aGVhZGVyID0gZnVuY3Rpb24obiwgdCkgew0KICAgICAgICAgICAgcmV0dXJuIG4g
PSAobiArICIiKS50b0xvd2VyQ2FzZSgpLCBhcmd1bWVudHMubGVuZ3RoIDwgMiA/
IGFbbl0gOiAobnVsbCA9PSB0ID8gZGVsZXRlIGFbbl0gOiBhW25dID0gdCArICIi
LCB1KQ0KICAgICAgICB9LCB1Lm1pbWVUeXBlID0gZnVuY3Rpb24obikgew0KICAg
ICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAodCA9IG51bGwgPT0g
biA/IG51bGwgOiBuICsgIiIsIHUpIDogdA0KICAgICAgICB9LCB1LnJlc3BvbnNl
VHlwZSA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVu
dHMubGVuZ3RoID8gKGMgPSBuLCB1KSA6IGMNCiAgICAgICAgfSwgdS5yZXNwb25z
ZSA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHJldHVybiBlID0gbiwgdQ0K
ICAgICAgICB9LCBbImdldCIsICJwb3N0Il0uZm9yRWFjaChmdW5jdGlvbihuKSB7
DQogICAgICAgICAgICB1W25dID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAg
ICAgcmV0dXJuIHUuc2VuZC5hcHBseSh1LCBbbl0uY29uY2F0KGNvKGFyZ3VtZW50
cykpKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KSwgdS5zZW5kID0gZnVuY3Rp
b24oZSwgciwgaSkgew0KICAgICAgICAgICAgaWYgKDIgPT09IGFyZ3VtZW50cy5s
ZW5ndGggJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiAoaSA9IHIsIHIgPSBu
dWxsKSwgbC5vcGVuKGUsIG4sICEwKSwgbnVsbCA9PSB0IHx8ICJhY2NlcHQiIGlu
IGEgfHwgKGEuYWNjZXB0ID0gdCArICIsKi8qIiksIGwuc2V0UmVxdWVzdEhlYWRl
cikNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBmIGluIGEpIGwuc2V0UmVxdWVz
dEhlYWRlcihmLCBhW2ZdKTsNCiAgICAgICAgICAgIHJldHVybiBudWxsICE9IHQg
JiYgbC5vdmVycmlkZU1pbWVUeXBlICYmIGwub3ZlcnJpZGVNaW1lVHlwZSh0KSwg
bnVsbCAhPSBjICYmIChsLnJlc3BvbnNlVHlwZSA9IGMpLCBudWxsICE9IGkgJiYg
dS5vbigiZXJyb3IiLCBpKS5vbigibG9hZCIsIGZ1bmN0aW9uKG4pIHsNCiAgICAg
ICAgICAgICAgICBpKG51bGwsIG4pDQogICAgICAgICAgICB9KSwgby5iZWZvcmVz
ZW5kLmNhbGwodSwgbCksIGwuc2VuZChudWxsID09IHIgPyBudWxsIDogciksIHUN
CiAgICAgICAgfSwgdS5hYm9ydCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAg
cmV0dXJuIGwuYWJvcnQoKSwgdQ0KICAgICAgICB9LCBhby5yZWJpbmQodSwgbywg
Im9uIiksIG51bGwgPT0gciA/IHUgOiB1LmdldCh6bihyKSkNCiAgICB9DQoNCiAg
ICBmdW5jdGlvbiB6bihuKSB7DQogICAgICAgIHJldHVybiAxID09PSBuLmxlbmd0
aCA/IGZ1bmN0aW9uKHQsIGUpIHsNCiAgICAgICAgICAgIG4obnVsbCA9PSB0ID8g
ZSA6IG51bGwpDQogICAgICAgIH0gOiBuDQogICAgfQ0KDQogICAgZnVuY3Rpb24g
TG4obikgew0KICAgICAgICB2YXIgdCA9IG4ucmVzcG9uc2VUeXBlOw0KICAgICAg
ICByZXR1cm4gdCAmJiAidGV4dCIgIT09IHQgPyBuLnJlc3BvbnNlIDogbi5yZXNw
b25zZVRleHQNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBxbihuLCB0LCBlKSB7DQog
ICAgICAgIHZhciByID0gYXJndW1lbnRzLmxlbmd0aDsNCiAgICAgICAgMiA+IHIg
JiYgKHQgPSAwKSwgMyA+IHIgJiYgKGUgPSBEYXRlLm5vdygpKTsNCiAgICAgICAg
dmFyIGkgPSBlICsgdCwNCiAgICAgICAgICAgIHUgPSB7DQogICAgICAgICAgICAg
ICAgYzogbiwNCiAgICAgICAgICAgICAgICB0OiBpLA0KICAgICAgICAgICAgICAg
IG46IG51bGwNCiAgICAgICAgICAgIH07DQogICAgICAgIHJldHVybiBhYSA/IGFh
Lm4gPSB1IDogb2EgPSB1LCBhYSA9IHUsIGxhIHx8IChjYSA9IGNsZWFyVGltZW91
dChjYSksIGxhID0gMSwgZmEoVG4pKSwgdQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9u
IFRuKCkgew0KICAgICAgICB2YXIgbiA9IFJuKCksDQogICAgICAgICAgICB0ID0g
RG4oKSAtIG47DQogICAgICAgIHQgPiAyNCA/IChpc0Zpbml0ZSh0KSAmJiAoY2xl
YXJUaW1lb3V0KGNhKSwgY2EgPSBzZXRUaW1lb3V0KFRuLCB0KSksIGxhID0gMCkg
OiAobGEgPSAxLCBmYShUbikpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gUm4oKSB7
DQogICAgICAgIGZvciAodmFyIG4gPSBEYXRlLm5vdygpLCB0ID0gb2E7IHQ7KSBu
ID49IHQudCAmJiB0LmMobiAtIHQudCkgJiYgKHQuYyA9IG51bGwpLCB0ID0gdC5u
Ow0KICAgICAgICByZXR1cm4gbg0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIERuKCkg
ew0KICAgICAgICBmb3IgKHZhciBuLCB0ID0gb2EsIGUgPSAxIC8gMDsgdDspIHQu
YyA/ICh0LnQgPCBlICYmIChlID0gdC50KSwgdCA9IChuID0gdCkubikgOiB0ID0g
biA/IG4ubiA9IHQubiA6IG9hID0gdC5uOw0KICAgICAgICByZXR1cm4gYWEgPSBu
LCBlDQogICAgfQ0KDQogICAgZnVuY3Rpb24gUG4obiwgdCkgew0KICAgICAgICBy
ZXR1cm4gdCAtIChuID8gTWF0aC5jZWlsKE1hdGgubG9nKG4pIC8gTWF0aC5MTjEw
KSA6IDEpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gVW4obiwgdCkgew0KICAgICAg
ICB2YXIgZSA9IE1hdGgucG93KDEwLCAzICogeG8oOCAtIHQpKTsNCiAgICAgICAg
cmV0dXJuIHsNCiAgICAgICAgICAgIHNjYWxlOiB0ID4gOCA/IGZ1bmN0aW9uKG4p
IHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbiAvIGUNCiAgICAgICAgICAgIH0g
OiBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG4gKiBlDQog
ICAgICAgICAgICB9LA0KICAgICAgICAgICAgc3ltYm9sOiBuDQogICAgICAgIH0N
CiAgICB9DQoNCiAgICBmdW5jdGlvbiBqbihuKSB7DQogICAgICAgIHZhciB0ID0g
bi5kZWNpbWFsLA0KICAgICAgICAgICAgZSA9IG4udGhvdXNhbmRzLA0KICAgICAg
ICAgICAgciA9IG4uZ3JvdXBpbmcsDQogICAgICAgICAgICBpID0gbi5jdXJyZW5j
eSwNCiAgICAgICAgICAgIHUgPSByICYmIGUgPyBmdW5jdGlvbihuLCB0KSB7DQog
ICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IG4ubGVuZ3RoLCB1ID0gW10sIG8g
PSAwLCBhID0gclswXSwgbCA9IDA7IGkgPiAwICYmIGEgPiAwICYmIChsICsgYSAr
IDEgPiB0ICYmIChhID0gTWF0aC5tYXgoMSwgdCAtIGwpKSwgdS5wdXNoKG4uc3Vi
c3RyaW5nKGkgLT0gYSwgaSArIGEpKSwgISgobCArPSBhICsgMSkgPiB0KSk7KSBh
ID0gcltvID0gKG8gKyAxKSAlIHIubGVuZ3RoXTsNCiAgICAgICAgICAgICAgICBy
ZXR1cm4gdS5yZXZlcnNlKCkuam9pbihlKQ0KICAgICAgICAgICAgfSA6IG07DQog
ICAgICAgIHJldHVybiBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICB2YXIgZSA9
IGhhLmV4ZWMobiksDQogICAgICAgICAgICAgICAgciA9IGVbMV0gfHwgIiAiLA0K
ICAgICAgICAgICAgICAgIG8gPSBlWzJdIHx8ICI+IiwNCiAgICAgICAgICAgICAg
ICBhID0gZVszXSB8fCAiLSIsDQogICAgICAgICAgICAgICAgbCA9IGVbNF0gfHwg
IiIsDQogICAgICAgICAgICAgICAgYyA9IGVbNV0sDQogICAgICAgICAgICAgICAg
ZiA9ICtlWzZdLA0KICAgICAgICAgICAgICAgIHMgPSBlWzddLA0KICAgICAgICAg
ICAgICAgIGggPSBlWzhdLA0KICAgICAgICAgICAgICAgIHAgPSBlWzldLA0KICAg
ICAgICAgICAgICAgIGcgPSAxLA0KICAgICAgICAgICAgICAgIHYgPSAiIiwNCiAg
ICAgICAgICAgICAgICBkID0gIiIsDQogICAgICAgICAgICAgICAgeSA9ICExLA0K
ICAgICAgICAgICAgICAgIG0gPSAhMDsNCiAgICAgICAgICAgIHN3aXRjaCAoaCAm
JiAoaCA9ICtoLnN1YnN0cmluZygxKSksIChjIHx8ICIwIiA9PT0gciAmJiAiPSIg
PT09IG8pICYmIChjID0gciA9ICIwIiwgbyA9ICI9IiksIHApIHsNCiAgICAgICAg
ICAgICAgICBjYXNlICJuIjoNCiAgICAgICAgICAgICAgICAgICAgcyA9ICEwLCBw
ID0gImciOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAg
ICAgICBjYXNlICIlIjoNCiAgICAgICAgICAgICAgICAgICAgZyA9IDEwMCwgZCA9
ICIlIiwgcCA9ICJmIjsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAg
ICAgICAgICAgICAgY2FzZSAicCI6DQogICAgICAgICAgICAgICAgICAgIGcgPSAx
MDAsIGQgPSAiJSIsIHAgPSAiciI7DQogICAgICAgICAgICAgICAgICAgIGJyZWFr
Ow0KICAgICAgICAgICAgICAgIGNhc2UgImIiOg0KICAgICAgICAgICAgICAgIGNh
c2UgIm8iOg0KICAgICAgICAgICAgICAgIGNhc2UgIngiOg0KICAgICAgICAgICAg
ICAgIGNhc2UgIlgiOg0KICAgICAgICAgICAgICAgICAgICAiIyIgPT09IGwgJiYg
KHYgPSAiMCIgKyBwLnRvTG93ZXJDYXNlKCkpOw0KICAgICAgICAgICAgICAgIGNh
c2UgImMiOg0KICAgICAgICAgICAgICAgICAgICBtID0gITE7DQogICAgICAgICAg
ICAgICAgY2FzZSAiZCI6DQogICAgICAgICAgICAgICAgICAgIHkgPSAhMCwgaCA9
IDA7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAg
IGNhc2UgInMiOg0KICAgICAgICAgICAgICAgICAgICBnID0gLTEsIHAgPSAiciIN
CiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICIkIiA9PT0gbCAmJiAodiA9IGlb
MF0sIGQgPSBpWzFdKSwgInIiICE9IHAgfHwgaCB8fCAocCA9ICJnIiksIG51bGwg
IT0gaCAmJiAoImciID09IHAgPyBoID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oMjEs
IGgpKSA6ICJlIiAhPSBwICYmICJmIiAhPSBwIHx8IChoID0gTWF0aC5tYXgoMCwg
TWF0aC5taW4oMjAsIGgpKSkpLCBwID0gcGEuZ2V0KHApIHx8IEZuOw0KICAgICAg
ICAgICAgdmFyIE0gPSBjICYmIHM7DQogICAgICAgICAgICByZXR1cm4gZnVuY3Rp
b24obikgew0KICAgICAgICAgICAgICAgIHZhciBlID0gZDsNCiAgICAgICAgICAg
ICAgICBpZiAoeSAmJiBuICUgMSkgcmV0dXJuICIiOw0KICAgICAgICAgICAgICAg
IHZhciBpID0gMCA+IG4gfHwgMCA9PT0gbiAmJiAwID4gMSAvIG4gPyAobiA9IC1u
LCAiLSIpIDogIi0iID09PSBhID8gIiIgOiBhOw0KICAgICAgICAgICAgICAgIGlm
ICgwID4gZykgew0KICAgICAgICAgICAgICAgICAgICB2YXIgbCA9IGFvLmZvcm1h
dFByZWZpeChuLCBoKTsNCiAgICAgICAgICAgICAgICAgICAgbiA9IGwuc2NhbGUo
biksIGUgPSBsLnN5bWJvbCArIGQNCiAgICAgICAgICAgICAgICB9IGVsc2UgbiAq
PSBnOw0KICAgICAgICAgICAgICAgIG4gPSBwKG4sIGgpOw0KICAgICAgICAgICAg
ICAgIHZhciB4LCBiLCBfID0gbi5sYXN0SW5kZXhPZigiLiIpOw0KICAgICAgICAg
ICAgICAgIGlmICgwID4gXykgew0KICAgICAgICAgICAgICAgICAgICB2YXIgdyA9
IG0gPyBuLmxhc3RJbmRleE9mKCJlIikgOiAtMTsNCiAgICAgICAgICAgICAgICAg
ICAgMCA+IHcgPyAoeCA9IG4sIGIgPSAiIikgOiAoeCA9IG4uc3Vic3RyaW5nKDAs
IHcpLCBiID0gbi5zdWJzdHJpbmcodykpDQogICAgICAgICAgICAgICAgfSBlbHNl
IHggPSBuLnN1YnN0cmluZygwLCBfKSwgYiA9IHQgKyBuLnN1YnN0cmluZyhfICsg
MSk7DQogICAgICAgICAgICAgICAgIWMgJiYgcyAmJiAoeCA9IHUoeCwgMSAvIDAp
KTsNCiAgICAgICAgICAgICAgICB2YXIgUyA9IHYubGVuZ3RoICsgeC5sZW5ndGgg
KyBiLmxlbmd0aCArIChNID8gMCA6IGkubGVuZ3RoKSwNCiAgICAgICAgICAgICAg
ICAgICAgayA9IGYgPiBTID8gbmV3IEFycmF5KFMgPSBmIC0gUyArIDEpLmpvaW4o
cikgOiAiIjsNCiAgICAgICAgICAgICAgICByZXR1cm4gTSAmJiAoeCA9IHUoayAr
IHgsIGsubGVuZ3RoID8gZiAtIGIubGVuZ3RoIDogMSAvIDApKSwgaSArPSB2LCBu
ID0geCArIGIsICgiPCIgPT09IG8gPyBpICsgbiArIGsgOiAiPiIgPT09IG8gPyBr
ICsgaSArIG4gOiAiXiIgPT09IG8gPyBrLnN1YnN0cmluZygwLCBTID4+PSAxKSAr
IGkgKyBuICsgay5zdWJzdHJpbmcoUykgOiBpICsgKE0gPyBuIDogayArIG4pKSAr
IGUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0
aW9uIEZuKG4pIHsNCiAgICAgICAgcmV0dXJuIG4gKyAiIg0KICAgIH0NCg0KICAg
IGZ1bmN0aW9uIEhuKCkgew0KICAgICAgICB0aGlzLl8gPSBuZXcgRGF0ZShhcmd1
bWVudHMubGVuZ3RoID4gMSA/IERhdGUuVVRDLmFwcGx5KHRoaXMsIGFyZ3VtZW50
cykgOiBhcmd1bWVudHNbMF0pDQogICAgfQ0KDQogICAgZnVuY3Rpb24gT24obiwg
dCwgZSkgew0KICAgICAgICBmdW5jdGlvbiByKHQpIHsNCiAgICAgICAgICAgIHZh
ciBlID0gbih0KSwNCiAgICAgICAgICAgICAgICByID0gdShlLCAxKTsNCiAgICAg
ICAgICAgIHJldHVybiByIC0gdCA+IHQgLSBlID8gZSA6IHINCiAgICAgICAgfQ0K
DQogICAgICAgIGZ1bmN0aW9uIGkoZSkgew0KICAgICAgICAgICAgcmV0dXJuIHQo
ZSA9IG4obmV3IHZhKGUgLSAxKSksIDEpLCBlDQogICAgICAgIH0NCg0KICAgICAg
ICBmdW5jdGlvbiB1KG4sIGUpIHsNCiAgICAgICAgICAgIHJldHVybiB0KG4gPSBu
ZXcgdmEoK24pLCBlKSwgbg0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24g
byhuLCByLCB1KSB7DQogICAgICAgICAgICB2YXIgbyA9IGkobiksDQogICAgICAg
ICAgICAgICAgYSA9IFtdOw0KICAgICAgICAgICAgaWYgKHUgPiAxKQ0KICAgICAg
ICAgICAgICAgIGZvciAoOyByID4gbzspIGUobykgJSB1IHx8IGEucHVzaChuZXcg
RGF0ZSgrbykpLCB0KG8sIDEpOw0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAg
ICAgICAgIGZvciAoOyByID4gbzspIGEucHVzaChuZXcgRGF0ZSgrbykpLCB0KG8s
IDEpOw0KICAgICAgICAgICAgcmV0dXJuIGENCiAgICAgICAgfQ0KDQogICAgICAg
IGZ1bmN0aW9uIGEobiwgdCwgZSkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAg
ICAgICAgICAgICB2YSA9IEhuOw0KICAgICAgICAgICAgICAgIHZhciByID0gbmV3
IEhuOw0KICAgICAgICAgICAgICAgIHJldHVybiByLl8gPSBuLCBvKHIsIHQsIGUp
DQogICAgICAgICAgICB9IGZpbmFsbHkgew0KICAgICAgICAgICAgICAgIHZhID0g
RGF0ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIG4uZmxvb3Ig
PSBuLCBuLnJvdW5kID0gciwgbi5jZWlsID0gaSwgbi5vZmZzZXQgPSB1LCBuLnJh
bmdlID0gbzsNCiAgICAgICAgdmFyIGwgPSBuLnV0YyA9IEluKG4pOw0KICAgICAg
ICByZXR1cm4gbC5mbG9vciA9IGwsIGwucm91bmQgPSBJbihyKSwgbC5jZWlsID0g
SW4oaSksIGwub2Zmc2V0ID0gSW4odSksIGwucmFuZ2UgPSBhLCBuDQogICAgfQ0K
DQogICAgZnVuY3Rpb24gSW4obikgew0KICAgICAgICByZXR1cm4gZnVuY3Rpb24o
dCwgZSkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICB2YSA9
IEhuOw0KICAgICAgICAgICAgICAgIHZhciByID0gbmV3IEhuOw0KICAgICAgICAg
ICAgICAgIHJldHVybiByLl8gPSB0LCBuKHIsIGUpLl8NCiAgICAgICAgICAgIH0g
ZmluYWxseSB7DQogICAgICAgICAgICAgICAgdmEgPSBEYXRlDQogICAgICAgICAg
ICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBZbihuKSB7DQog
ICAgICAgIGZ1bmN0aW9uIHQobikgew0KICAgICAgICAgICAgZnVuY3Rpb24gdCh0
KSB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgZSwgaSwgdSwgbyA9IFtdLCBh
ID0gLTEsIGwgPSAwOyArK2EgPCByOykgMzcgPT09IG4uY2hhckNvZGVBdChhKSAm
JiAoby5wdXNoKG4uc2xpY2UobCwgYSkpLCBudWxsICE9IChpID0geWFbZSA9IG4u
Y2hhckF0KCsrYSldKSAmJiAoZSA9IG4uY2hhckF0KCsrYSkpLCAodSA9IEFbZV0p
ICYmIChlID0gdSh0LCBudWxsID09IGkgPyAiZSIgPT09IGUgPyAiICIgOiAiMCIg
OiBpKSksIG8ucHVzaChlKSwgbCA9IGEgKyAxKTsNCiAgICAgICAgICAgICAgICBy
ZXR1cm4gby5wdXNoKG4uc2xpY2UobCwgYSkpLCBvLmpvaW4oIiIpDQogICAgICAg
ICAgICB9DQogICAgICAgICAgICB2YXIgciA9IG4ubGVuZ3RoOw0KICAgICAgICAg
ICAgcmV0dXJuIHQucGFyc2UgPSBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICAg
ICAgdmFyIHIgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICB5OiAxOTAwLA0K
ICAgICAgICAgICAgICAgICAgICAgICAgbTogMCwNCiAgICAgICAgICAgICAgICAg
ICAgICAgIGQ6IDEsDQogICAgICAgICAgICAgICAgICAgICAgICBIOiAwLA0KICAg
ICAgICAgICAgICAgICAgICAgICAgTTogMCwNCiAgICAgICAgICAgICAgICAgICAg
ICAgIFM6IDAsDQogICAgICAgICAgICAgICAgICAgICAgICBMOiAwLA0KICAgICAg
ICAgICAgICAgICAgICAgICAgWjogbnVsbA0KICAgICAgICAgICAgICAgICAgICB9
LA0KICAgICAgICAgICAgICAgICAgICBpID0gZShyLCBuLCB0LCAwKTsNCiAgICAg
ICAgICAgICAgICBpZiAoaSAhPSB0Lmxlbmd0aCkgcmV0dXJuIG51bGw7DQogICAg
ICAgICAgICAgICAgInAiIGluIHIgJiYgKHIuSCA9IHIuSCAlIDEyICsgMTIgKiBy
LnApOw0KICAgICAgICAgICAgICAgIHZhciB1ID0gbnVsbCAhPSByLlogJiYgdmEg
IT09IEhuLA0KICAgICAgICAgICAgICAgICAgICBvID0gbmV3KHUgPyBIbiA6IHZh
KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gImoiIGluIHIgPyBvLnNldEZ1bGxZ
ZWFyKHIueSwgMCwgci5qKSA6ICJXIiBpbiByIHx8ICJVIiBpbiByID8gKCJ3IiBp
biByIHx8IChyLncgPSAiVyIgaW4gciA/IDEgOiAwKSwgby5zZXRGdWxsWWVhcihy
LnksIDAsIDEpLCBvLnNldEZ1bGxZZWFyKHIueSwgMCwgIlciIGluIHIgPyAoci53
ICsgNikgJSA3ICsgNyAqIHIuVyAtIChvLmdldERheSgpICsgNSkgJSA3IDogci53
ICsgNyAqIHIuVSAtIChvLmdldERheSgpICsgNikgJSA3KSkgOiBvLnNldEZ1bGxZ
ZWFyKHIueSwgci5tLCByLmQpLCBvLnNldEhvdXJzKHIuSCArIChyLlogLyAxMDAg
fCAwKSwgci5NICsgci5aICUgMTAwLCByLlMsIHIuTCksIHUgPyBvLl8gOiBvDQog
ICAgICAgICAgICB9LCB0LnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7DQogICAgICAg
ICAgICAgICAgcmV0dXJuIG4NCiAgICAgICAgICAgIH0sIHQNCiAgICAgICAgfQ0K
DQogICAgICAgIGZ1bmN0aW9uIGUobiwgdCwgZSwgcikgew0KICAgICAgICAgICAg
Zm9yICh2YXIgaSwgdSwgbywgYSA9IDAsIGwgPSB0Lmxlbmd0aCwgYyA9IGUubGVu
Z3RoOyBsID4gYTspIHsNCiAgICAgICAgICAgICAgICBpZiAociA+PSBjKSByZXR1
cm4gLTE7DQogICAgICAgICAgICAgICAgaWYgKGkgPSB0LmNoYXJDb2RlQXQoYSsr
KSwgMzcgPT09IGkpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKG8gPSB0LmNo
YXJBdChhKyspLCB1ID0gQ1tvIGluIHlhID8gdC5jaGFyQXQoYSsrKSA6IG9dLCAh
dSB8fCAociA9IHUobiwgZSwgcikpIDwgMCkgcmV0dXJuIC0xDQogICAgICAgICAg
ICAgICAgfSBlbHNlIGlmIChpICE9IGUuY2hhckNvZGVBdChyKyspKSByZXR1cm4g
LTENCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiByDQogICAgICAg
IH0NCg0KICAgICAgICBmdW5jdGlvbiByKG4sIHQsIGUpIHsNCiAgICAgICAgICAg
IF8ubGFzdEluZGV4ID0gMDsNCiAgICAgICAgICAgIHZhciByID0gXy5leGVjKHQu
c2xpY2UoZSkpOw0KICAgICAgICAgICAgcmV0dXJuIHIgPyAobi53ID0gdy5nZXQo
clswXS50b0xvd2VyQ2FzZSgpKSwgZSArIHJbMF0ubGVuZ3RoKSA6IC0xDQogICAg
ICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBpKG4sIHQsIGUpIHsNCiAgICAgICAg
ICAgIHgubGFzdEluZGV4ID0gMDsNCiAgICAgICAgICAgIHZhciByID0geC5leGVj
KHQuc2xpY2UoZSkpOw0KICAgICAgICAgICAgcmV0dXJuIHIgPyAobi53ID0gYi5n
ZXQoclswXS50b0xvd2VyQ2FzZSgpKSwgZSArIHJbMF0ubGVuZ3RoKSA6IC0xDQog
ICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiB1KG4sIHQsIGUpIHsNCiAgICAg
ICAgICAgIE4ubGFzdEluZGV4ID0gMDsNCiAgICAgICAgICAgIHZhciByID0gTi5l
eGVjKHQuc2xpY2UoZSkpOw0KICAgICAgICAgICAgcmV0dXJuIHIgPyAobi5tID0g
RS5nZXQoclswXS50b0xvd2VyQ2FzZSgpKSwgZSArIHJbMF0ubGVuZ3RoKSA6IC0x
DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBvKG4sIHQsIGUpIHsNCiAg
ICAgICAgICAgIFMubGFzdEluZGV4ID0gMDsNCiAgICAgICAgICAgIHZhciByID0g
Uy5leGVjKHQuc2xpY2UoZSkpOw0KICAgICAgICAgICAgcmV0dXJuIHIgPyAobi5t
ID0gay5nZXQoclswXS50b0xvd2VyQ2FzZSgpKSwgZSArIHJbMF0ubGVuZ3RoKSA6
IC0xDQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBhKG4sIHQsIHIpIHsN
CiAgICAgICAgICAgIHJldHVybiBlKG4sIEEuYy50b1N0cmluZygpLCB0LCByKQ0K
ICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gbChuLCB0LCByKSB7DQogICAg
ICAgICAgICByZXR1cm4gZShuLCBBLngudG9TdHJpbmcoKSwgdCwgcikNCiAgICAg
ICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGMobiwgdCwgcikgew0KICAgICAgICAg
ICAgcmV0dXJuIGUobiwgQS5YLnRvU3RyaW5nKCksIHQsIHIpDQogICAgICAgIH0N
Cg0KICAgICAgICBmdW5jdGlvbiBmKG4sIHQsIGUpIHsNCiAgICAgICAgICAgIHZh
ciByID0gTS5nZXQodC5zbGljZShlLCBlICs9IDIpLnRvTG93ZXJDYXNlKCkpOw0K
ICAgICAgICAgICAgcmV0dXJuIG51bGwgPT0gciA/IC0xIDogKG4ucCA9IHIsIGUp
DQogICAgICAgIH0NCiAgICAgICAgdmFyIHMgPSBuLmRhdGVUaW1lLA0KICAgICAg
ICAgICAgaCA9IG4uZGF0ZSwNCiAgICAgICAgICAgIHAgPSBuLnRpbWUsDQogICAg
ICAgICAgICBnID0gbi5wZXJpb2RzLA0KICAgICAgICAgICAgdiA9IG4uZGF5cywN
CiAgICAgICAgICAgIGQgPSBuLnNob3J0RGF5cywNCiAgICAgICAgICAgIHkgPSBu
Lm1vbnRocywNCiAgICAgICAgICAgIG0gPSBuLnNob3J0TW9udGhzOw0KICAgICAg
ICB0LnV0YyA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIGZ1bmN0aW9uIGUo
bikgew0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAg
IHZhID0gSG47DQogICAgICAgICAgICAgICAgICAgIHZhciB0ID0gbmV3IHZhOw0K
ICAgICAgICAgICAgICAgICAgICByZXR1cm4gdC5fID0gbiwgcih0KQ0KICAgICAg
ICAgICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICAgICAgICAgIHZhID0g
RGF0ZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAg
ICAgIHZhciByID0gdChuKTsNCiAgICAgICAgICAgIHJldHVybiBlLnBhcnNlID0g
ZnVuY3Rpb24obikgew0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAg
ICAgICAgICAgIHZhID0gSG47DQogICAgICAgICAgICAgICAgICAgIHZhciB0ID0g
ci5wYXJzZShuKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQgJiYgdC5f
DQogICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgICAgICAg
ICAgdmEgPSBEYXRlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwg
ZS50b1N0cmluZyA9IHIudG9TdHJpbmcsIGUNCiAgICAgICAgfSwgdC5tdWx0aSA9
IHQudXRjLm11bHRpID0gY3Q7DQogICAgICAgIHZhciBNID0gYW8ubWFwKCksDQog
ICAgICAgICAgICB4ID0gVm4odiksDQogICAgICAgICAgICBiID0gWG4odiksDQog
ICAgICAgICAgICBfID0gVm4oZCksDQogICAgICAgICAgICB3ID0gWG4oZCksDQog
ICAgICAgICAgICBTID0gVm4oeSksDQogICAgICAgICAgICBrID0gWG4oeSksDQog
ICAgICAgICAgICBOID0gVm4obSksDQogICAgICAgICAgICBFID0gWG4obSk7DQog
ICAgICAgIGcuZm9yRWFjaChmdW5jdGlvbihuLCB0KSB7DQogICAgICAgICAgICBN
LnNldChuLnRvTG93ZXJDYXNlKCksIHQpDQogICAgICAgIH0pOw0KICAgICAgICB2
YXIgQSA9IHsNCiAgICAgICAgICAgICAgICBhOiBmdW5jdGlvbihuKSB7DQogICAg
ICAgICAgICAgICAgICAgIHJldHVybiBkW24uZ2V0RGF5KCldDQogICAgICAgICAg
ICAgICAgfSwNCiAgICAgICAgICAgICAgICBBOiBmdW5jdGlvbihuKSB7DQogICAg
ICAgICAgICAgICAgICAgIHJldHVybiB2W24uZ2V0RGF5KCldDQogICAgICAgICAg
ICAgICAgfSwNCiAgICAgICAgICAgICAgICBiOiBmdW5jdGlvbihuKSB7DQogICAg
ICAgICAgICAgICAgICAgIHJldHVybiBtW24uZ2V0TW9udGgoKV0NCiAgICAgICAg
ICAgICAgICB9LA0KICAgICAgICAgICAgICAgIEI6IGZ1bmN0aW9uKG4pIHsNCiAg
ICAgICAgICAgICAgICAgICAgcmV0dXJuIHlbbi5nZXRNb250aCgpXQ0KICAgICAg
ICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgYzogdChzKSwNCiAgICAgICAg
ICAgICAgICBkOiBmdW5jdGlvbihuLCB0KSB7DQogICAgICAgICAgICAgICAgICAg
IHJldHVybiBabihuLmdldERhdGUoKSwgdCwgMikNCiAgICAgICAgICAgICAgICB9
LA0KICAgICAgICAgICAgICAgIGU6IGZ1bmN0aW9uKG4sIHQpIHsNCiAgICAgICAg
ICAgICAgICAgICAgcmV0dXJuIFpuKG4uZ2V0RGF0ZSgpLCB0LCAyKQ0KICAgICAg
ICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgSDogZnVuY3Rpb24obiwgdCkg
ew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gWm4obi5nZXRIb3VycygpLCB0
LCAyKQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgSTogZnVu
Y3Rpb24obiwgdCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gWm4obi5n
ZXRIb3VycygpICUgMTIgfHwgMTIsIHQsIDIpDQogICAgICAgICAgICAgICAgfSwN
CiAgICAgICAgICAgICAgICBqOiBmdW5jdGlvbihuLCB0KSB7DQogICAgICAgICAg
ICAgICAgICAgIHJldHVybiBabigxICsgZ2EuZGF5T2ZZZWFyKG4pLCB0LCAzKQ0K
ICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgTDogZnVuY3Rpb24o
biwgdCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gWm4obi5nZXRNaWxs
aXNlY29uZHMoKSwgdCwgMykNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAg
ICAgICAgIG06IGZ1bmN0aW9uKG4sIHQpIHsNCiAgICAgICAgICAgICAgICAgICAg
cmV0dXJuIFpuKG4uZ2V0TW9udGgoKSArIDEsIHQsIDIpDQogICAgICAgICAgICAg
ICAgfSwNCiAgICAgICAgICAgICAgICBNOiBmdW5jdGlvbihuLCB0KSB7DQogICAg
ICAgICAgICAgICAgICAgIHJldHVybiBabihuLmdldE1pbnV0ZXMoKSwgdCwgMikN
CiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHA6IGZ1bmN0aW9u
KG4pIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdbKyhuLmdldEhvdXJz
KCkgPj0gMTIpXQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAg
UzogZnVuY3Rpb24obiwgdCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4g
Wm4obi5nZXRTZWNvbmRzKCksIHQsIDIpDQogICAgICAgICAgICAgICAgfSwNCiAg
ICAgICAgICAgICAgICBVOiBmdW5jdGlvbihuLCB0KSB7DQogICAgICAgICAgICAg
ICAgICAgIHJldHVybiBabihnYS5zdW5kYXlPZlllYXIobiksIHQsIDIpDQogICAg
ICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB3OiBmdW5jdGlvbihuKSB7
DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBuLmdldERheSgpDQogICAgICAg
ICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBXOiBmdW5jdGlvbihuLCB0KSB7
DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBabihnYS5tb25kYXlPZlllYXIo
biksIHQsIDIpDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB4
OiB0KGgpLA0KICAgICAgICAgICAgICAgIFg6IHQocCksDQogICAgICAgICAgICAg
ICAgeTogZnVuY3Rpb24obiwgdCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1
cm4gWm4obi5nZXRGdWxsWWVhcigpICUgMTAwLCB0LCAyKQ0KICAgICAgICAgICAg
ICAgIH0sDQogICAgICAgICAgICAgICAgWTogZnVuY3Rpb24obiwgdCkgew0KICAg
ICAgICAgICAgICAgICAgICByZXR1cm4gWm4obi5nZXRGdWxsWWVhcigpICUgMWU0
LCB0LCA0KQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgWjog
YXQsDQogICAgICAgICAgICAgICAgIiUiOiBmdW5jdGlvbigpIHsNCiAgICAgICAg
ICAgICAgICAgICAgcmV0dXJuICIlIg0KICAgICAgICAgICAgICAgIH0NCiAgICAg
ICAgICAgIH0sDQogICAgICAgICAgICBDID0gew0KICAgICAgICAgICAgICAgIGE6
IHIsDQogICAgICAgICAgICAgICAgQTogaSwNCiAgICAgICAgICAgICAgICBiOiB1
LA0KICAgICAgICAgICAgICAgIEI6IG8sDQogICAgICAgICAgICAgICAgYzogYSwN
CiAgICAgICAgICAgICAgICBkOiB0dCwNCiAgICAgICAgICAgICAgICBlOiB0dCwN
CiAgICAgICAgICAgICAgICBIOiBydCwNCiAgICAgICAgICAgICAgICBJOiBydCwN
CiAgICAgICAgICAgICAgICBqOiBldCwNCiAgICAgICAgICAgICAgICBMOiBvdCwN
CiAgICAgICAgICAgICAgICBtOiBudCwNCiAgICAgICAgICAgICAgICBNOiBpdCwN
CiAgICAgICAgICAgICAgICBwOiBmLA0KICAgICAgICAgICAgICAgIFM6IHV0LA0K
ICAgICAgICAgICAgICAgIFU6IEJuLA0KICAgICAgICAgICAgICAgIHc6ICRuLA0K
ICAgICAgICAgICAgICAgIFc6IFduLA0KICAgICAgICAgICAgICAgIHg6IGwsDQog
ICAgICAgICAgICAgICAgWDogYywNCiAgICAgICAgICAgICAgICB5OiBHbiwNCiAg
ICAgICAgICAgICAgICBZOiBKbiwNCiAgICAgICAgICAgICAgICBaOiBLbiwNCiAg
ICAgICAgICAgICAgICAiJSI6IGx0DQogICAgICAgICAgICB9Ow0KICAgICAgICBy
ZXR1cm4gdA0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIFpuKG4sIHQsIGUpIHsNCiAg
ICAgICAgdmFyIHIgPSAwID4gbiA/ICItIiA6ICIiLA0KICAgICAgICAgICAgaSA9
IChyID8gLW4gOiBuKSArICIiLA0KICAgICAgICAgICAgdSA9IGkubGVuZ3RoOw0K
ICAgICAgICByZXR1cm4gciArIChlID4gdSA/IG5ldyBBcnJheShlIC0gdSArIDEp
LmpvaW4odCkgKyBpIDogaSkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBWbihuKSB7
DQogICAgICAgIHJldHVybiBuZXcgUmVnRXhwKCJeKD86IiArIG4ubWFwKGFvLnJl
cXVvdGUpLmpvaW4oInwiKSArICIpIiwgImkiKQ0KICAgIH0NCg0KICAgIGZ1bmN0
aW9uIFhuKG4pIHsNCiAgICAgICAgZm9yICh2YXIgdCA9IG5ldyBjLCBlID0gLTEs
IHIgPSBuLmxlbmd0aDsgKytlIDwgcjspIHQuc2V0KG5bZV0udG9Mb3dlckNhc2Uo
KSwgZSk7DQogICAgICAgIHJldHVybiB0DQogICAgfQ0KDQogICAgZnVuY3Rpb24g
JG4obiwgdCwgZSkgew0KICAgICAgICBtYS5sYXN0SW5kZXggPSAwOw0KICAgICAg
ICB2YXIgciA9IG1hLmV4ZWModC5zbGljZShlLCBlICsgMSkpOw0KICAgICAgICBy
ZXR1cm4gciA/IChuLncgPSArclswXSwgZSArIHJbMF0ubGVuZ3RoKSA6IC0xDQog
ICAgfQ0KDQogICAgZnVuY3Rpb24gQm4obiwgdCwgZSkgew0KICAgICAgICBtYS5s
YXN0SW5kZXggPSAwOw0KICAgICAgICB2YXIgciA9IG1hLmV4ZWModC5zbGljZShl
KSk7DQogICAgICAgIHJldHVybiByID8gKG4uVSA9ICtyWzBdLCBlICsgclswXS5s
ZW5ndGgpIDogLTENCiAgICB9DQoNCiAgICBmdW5jdGlvbiBXbihuLCB0LCBlKSB7
DQogICAgICAgIG1hLmxhc3RJbmRleCA9IDA7DQogICAgICAgIHZhciByID0gbWEu
ZXhlYyh0LnNsaWNlKGUpKTsNCiAgICAgICAgcmV0dXJuIHIgPyAobi5XID0gK3Jb
MF0sIGUgKyByWzBdLmxlbmd0aCkgOiAtMQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9u
IEpuKG4sIHQsIGUpIHsNCiAgICAgICAgbWEubGFzdEluZGV4ID0gMDsNCiAgICAg
ICAgdmFyIHIgPSBtYS5leGVjKHQuc2xpY2UoZSwgZSArIDQpKTsNCiAgICAgICAg
cmV0dXJuIHIgPyAobi55ID0gK3JbMF0sIGUgKyByWzBdLmxlbmd0aCkgOiAtMQ0K
ICAgIH0NCg0KICAgIGZ1bmN0aW9uIEduKG4sIHQsIGUpIHsNCiAgICAgICAgbWEu
bGFzdEluZGV4ID0gMDsNCiAgICAgICAgdmFyIHIgPSBtYS5leGVjKHQuc2xpY2Uo
ZSwgZSArIDIpKTsNCiAgICAgICAgcmV0dXJuIHIgPyAobi55ID0gUW4oK3JbMF0p
LCBlICsgclswXS5sZW5ndGgpIDogLTENCiAgICB9DQoNCiAgICBmdW5jdGlvbiBL
bihuLCB0LCBlKSB7DQogICAgICAgIHJldHVybiAvXlsrLV1cZHs0fSQvLnRlc3Qo
dCA9IHQuc2xpY2UoZSwgZSArIDUpKSA/IChuLlogPSAtdCwgZSArIDUpIDogLTEN
CiAgICB9DQoNCiAgICBmdW5jdGlvbiBRbihuKSB7DQogICAgICAgIHJldHVybiBu
ICsgKG4gPiA2OCA/IDE5MDAgOiAyZTMpDQogICAgfQ0KDQogICAgZnVuY3Rpb24g
bnQobiwgdCwgZSkgew0KICAgICAgICBtYS5sYXN0SW5kZXggPSAwOw0KICAgICAg
ICB2YXIgciA9IG1hLmV4ZWModC5zbGljZShlLCBlICsgMikpOw0KICAgICAgICBy
ZXR1cm4gciA/IChuLm0gPSByWzBdIC0gMSwgZSArIHJbMF0ubGVuZ3RoKSA6IC0x
DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdHQobiwgdCwgZSkgew0KICAgICAgICBt
YS5sYXN0SW5kZXggPSAwOw0KICAgICAgICB2YXIgciA9IG1hLmV4ZWModC5zbGlj
ZShlLCBlICsgMikpOw0KICAgICAgICByZXR1cm4gciA/IChuLmQgPSArclswXSwg
ZSArIHJbMF0ubGVuZ3RoKSA6IC0xDQogICAgfQ0KDQogICAgZnVuY3Rpb24gZXQo
biwgdCwgZSkgew0KICAgICAgICBtYS5sYXN0SW5kZXggPSAwOw0KICAgICAgICB2
YXIgciA9IG1hLmV4ZWModC5zbGljZShlLCBlICsgMykpOw0KICAgICAgICByZXR1
cm4gciA/IChuLmogPSArclswXSwgZSArIHJbMF0ubGVuZ3RoKSA6IC0xDQogICAg
fQ0KDQogICAgZnVuY3Rpb24gcnQobiwgdCwgZSkgew0KICAgICAgICBtYS5sYXN0
SW5kZXggPSAwOw0KICAgICAgICB2YXIgciA9IG1hLmV4ZWModC5zbGljZShlLCBl
ICsgMikpOw0KICAgICAgICByZXR1cm4gciA/IChuLkggPSArclswXSwgZSArIHJb
MF0ubGVuZ3RoKSA6IC0xDQogICAgfQ0KDQogICAgZnVuY3Rpb24gaXQobiwgdCwg
ZSkgew0KICAgICAgICBtYS5sYXN0SW5kZXggPSAwOw0KICAgICAgICB2YXIgciA9
IG1hLmV4ZWModC5zbGljZShlLCBlICsgMikpOw0KICAgICAgICByZXR1cm4gciA/
IChuLk0gPSArclswXSwgZSArIHJbMF0ubGVuZ3RoKSA6IC0xDQogICAgfQ0KDQog
ICAgZnVuY3Rpb24gdXQobiwgdCwgZSkgew0KICAgICAgICBtYS5sYXN0SW5kZXgg
PSAwOw0KICAgICAgICB2YXIgciA9IG1hLmV4ZWModC5zbGljZShlLCBlICsgMikp
Ow0KICAgICAgICByZXR1cm4gciA/IChuLlMgPSArclswXSwgZSArIHJbMF0ubGVu
Z3RoKSA6IC0xDQogICAgfQ0KDQogICAgZnVuY3Rpb24gb3QobiwgdCwgZSkgew0K
ICAgICAgICBtYS5sYXN0SW5kZXggPSAwOw0KICAgICAgICB2YXIgciA9IG1hLmV4
ZWModC5zbGljZShlLCBlICsgMykpOw0KICAgICAgICByZXR1cm4gciA/IChuLkwg
PSArclswXSwgZSArIHJbMF0ubGVuZ3RoKSA6IC0xDQogICAgfQ0KDQogICAgZnVu
Y3Rpb24gYXQobikgew0KICAgICAgICB2YXIgdCA9IG4uZ2V0VGltZXpvbmVPZmZz
ZXQoKSwNCiAgICAgICAgICAgIGUgPSB0ID4gMCA/ICItIiA6ICIrIiwNCiAgICAg
ICAgICAgIHIgPSB4byh0KSAvIDYwIHwgMCwNCiAgICAgICAgICAgIGkgPSB4byh0
KSAlIDYwOw0KICAgICAgICByZXR1cm4gZSArIFpuKHIsICIwIiwgMikgKyBabihp
LCAiMCIsIDIpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gbHQobiwgdCwgZSkgew0K
ICAgICAgICBNYS5sYXN0SW5kZXggPSAwOw0KICAgICAgICB2YXIgciA9IE1hLmV4
ZWModC5zbGljZShlLCBlICsgMSkpOw0KICAgICAgICByZXR1cm4gciA/IGUgKyBy
WzBdLmxlbmd0aCA6IC0xDQogICAgfQ0KDQogICAgZnVuY3Rpb24gY3Qobikgew0K
ICAgICAgICBmb3IgKHZhciB0ID0gbi5sZW5ndGgsIGUgPSAtMTsgKytlIDwgdDsp
IG5bZV1bMF0gPSB0aGlzKG5bZV1bMF0pOw0KICAgICAgICByZXR1cm4gZnVuY3Rp
b24odCkgew0KICAgICAgICAgICAgZm9yICh2YXIgZSA9IDAsIHIgPSBuW2VdOyAh
clsxXSh0KTspIHIgPSBuWysrZV07DQogICAgICAgICAgICByZXR1cm4gclswXSh0
KQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZnQoKSB7fQ0KDQog
ICAgZnVuY3Rpb24gc3QobiwgdCwgZSkgew0KICAgICAgICB2YXIgciA9IGUucyA9
IG4gKyB0LA0KICAgICAgICAgICAgaSA9IHIgLSBuLA0KICAgICAgICAgICAgdSA9
IHIgLSBpOw0KICAgICAgICBlLnQgPSBuIC0gdSArICh0IC0gaSkNCiAgICB9DQoN
CiAgICBmdW5jdGlvbiBodChuLCB0KSB7DQogICAgICAgIG4gJiYgd2EuaGFzT3du
UHJvcGVydHkobi50eXBlKSAmJiB3YVtuLnR5cGVdKG4sIHQpDQogICAgfQ0KDQog
ICAgZnVuY3Rpb24gcHQobiwgdCwgZSkgew0KICAgICAgICB2YXIgciwgaSA9IC0x
LA0KICAgICAgICAgICAgdSA9IG4ubGVuZ3RoIC0gZTsNCiAgICAgICAgZm9yICh0
LmxpbmVTdGFydCgpOyArK2kgPCB1OykgciA9IG5baV0sIHQucG9pbnQoclswXSwg
clsxXSwgclsyXSk7DQogICAgICAgIHQubGluZUVuZCgpDQogICAgfQ0KDQogICAg
ZnVuY3Rpb24gZ3QobiwgdCkgew0KICAgICAgICB2YXIgZSA9IC0xLA0KICAgICAg
ICAgICAgciA9IG4ubGVuZ3RoOw0KICAgICAgICBmb3IgKHQucG9seWdvblN0YXJ0
KCk7ICsrZSA8IHI7KSBwdChuW2VdLCB0LCAxKTsNCiAgICAgICAgdC5wb2x5Z29u
RW5kKCkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB2dCgpIHsNCiAgICAgICAgZnVu
Y3Rpb24gbihuLCB0KSB7DQogICAgICAgICAgICBuICo9IFlvLCB0ID0gdCAqIFlv
IC8gMiArIEZvIC8gNDsNCiAgICAgICAgICAgIHZhciBlID0gbiAtIHIsDQogICAg
ICAgICAgICAgICAgbyA9IGUgPj0gMCA/IDEgOiAtMSwNCiAgICAgICAgICAgICAg
ICBhID0gbyAqIGUsDQogICAgICAgICAgICAgICAgbCA9IE1hdGguY29zKHQpLA0K
ICAgICAgICAgICAgICAgIGMgPSBNYXRoLnNpbih0KSwNCiAgICAgICAgICAgICAg
ICBmID0gdSAqIGMsDQogICAgICAgICAgICAgICAgcyA9IGkgKiBsICsgZiAqIE1h
dGguY29zKGEpLA0KICAgICAgICAgICAgICAgIGggPSBmICogbyAqIE1hdGguc2lu
KGEpOw0KICAgICAgICAgICAga2EuYWRkKE1hdGguYXRhbjIoaCwgcykpLCByID0g
biwgaSA9IGwsIHUgPSBjDQogICAgICAgIH0NCiAgICAgICAgdmFyIHQsIGUsIHIs
IGksIHU7DQogICAgICAgIE5hLnBvaW50ID0gZnVuY3Rpb24obywgYSkgew0KICAg
ICAgICAgICAgTmEucG9pbnQgPSBuLCByID0gKHQgPSBvKSAqIFlvLCBpID0gTWF0
aC5jb3MoYSA9IChlID0gYSkgKiBZbyAvIDIgKyBGbyAvIDQpLCB1ID0gTWF0aC5z
aW4oYSkNCiAgICAgICAgfSwgTmEubGluZUVuZCA9IGZ1bmN0aW9uKCkgew0KICAg
ICAgICAgICAgbih0LCBlKQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rp
b24gZHQobikgew0KICAgICAgICB2YXIgdCA9IG5bMF0sDQogICAgICAgICAgICBl
ID0gblsxXSwNCiAgICAgICAgICAgIHIgPSBNYXRoLmNvcyhlKTsNCiAgICAgICAg
cmV0dXJuIFtyICogTWF0aC5jb3ModCksIHIgKiBNYXRoLnNpbih0KSwgTWF0aC5z
aW4oZSldDQogICAgfQ0KDQogICAgZnVuY3Rpb24geXQobiwgdCkgew0KICAgICAg
ICByZXR1cm4gblswXSAqIHRbMF0gKyBuWzFdICogdFsxXSArIG5bMl0gKiB0WzJd
DQogICAgfQ0KDQogICAgZnVuY3Rpb24gbXQobiwgdCkgew0KICAgICAgICByZXR1
cm4gW25bMV0gKiB0WzJdIC0gblsyXSAqIHRbMV0sIG5bMl0gKiB0WzBdIC0gblsw
XSAqIHRbMl0sIG5bMF0gKiB0WzFdIC0gblsxXSAqIHRbMF1dDQogICAgfQ0KDQog
ICAgZnVuY3Rpb24gTXQobiwgdCkgew0KICAgICAgICBuWzBdICs9IHRbMF0sIG5b
MV0gKz0gdFsxXSwgblsyXSArPSB0WzJdDQogICAgfQ0KDQogICAgZnVuY3Rpb24g
eHQobiwgdCkgew0KICAgICAgICByZXR1cm4gW25bMF0gKiB0LCBuWzFdICogdCwg
blsyXSAqIHRdDQogICAgfQ0KDQogICAgZnVuY3Rpb24gYnQobikgew0KICAgICAg
ICB2YXIgdCA9IE1hdGguc3FydChuWzBdICogblswXSArIG5bMV0gKiBuWzFdICsg
blsyXSAqIG5bMl0pOw0KICAgICAgICBuWzBdIC89IHQsIG5bMV0gLz0gdCwgblsy
XSAvPSB0DQogICAgfQ0KDQogICAgZnVuY3Rpb24gX3Qobikgew0KICAgICAgICBy
ZXR1cm4gW01hdGguYXRhbjIoblsxXSwgblswXSksIHRuKG5bMl0pXQ0KICAgIH0N
Cg0KICAgIGZ1bmN0aW9uIHd0KG4sIHQpIHsNCiAgICAgICAgcmV0dXJuIHhvKG5b
MF0gLSB0WzBdKSA8IFVvICYmIHhvKG5bMV0gLSB0WzFdKSA8IFVvDQogICAgfQ0K
DQogICAgZnVuY3Rpb24gU3QobiwgdCkgew0KICAgICAgICBuICo9IFlvOw0KICAg
ICAgICB2YXIgZSA9IE1hdGguY29zKHQgKj0gWW8pOw0KICAgICAgICBrdChlICog
TWF0aC5jb3MobiksIGUgKiBNYXRoLnNpbihuKSwgTWF0aC5zaW4odCkpDQogICAg
fQ0KDQogICAgZnVuY3Rpb24ga3QobiwgdCwgZSkgew0KICAgICAgICArK0VhLCBD
YSArPSAobiAtIENhKSAvIEVhLCB6YSArPSAodCAtIHphKSAvIEVhLCBMYSArPSAo
ZSAtIExhKSAvIEVhDQogICAgfQ0KDQogICAgZnVuY3Rpb24gTnQoKSB7DQogICAg
ICAgIGZ1bmN0aW9uIG4obiwgaSkgew0KICAgICAgICAgICAgbiAqPSBZbzsNCiAg
ICAgICAgICAgIHZhciB1ID0gTWF0aC5jb3MoaSAqPSBZbyksDQogICAgICAgICAg
ICAgICAgbyA9IHUgKiBNYXRoLmNvcyhuKSwNCiAgICAgICAgICAgICAgICBhID0g
dSAqIE1hdGguc2luKG4pLA0KICAgICAgICAgICAgICAgIGwgPSBNYXRoLnNpbihp
KSwNCiAgICAgICAgICAgICAgICBjID0gTWF0aC5hdGFuMihNYXRoLnNxcnQoKGMg
PSBlICogbCAtIHIgKiBhKSAqIGMgKyAoYyA9IHIgKiBvIC0gdCAqIGwpICogYyAr
IChjID0gdCAqIGEgLSBlICogbykgKiBjKSwgdCAqIG8gKyBlICogYSArIHIgKiBs
KTsNCiAgICAgICAgICAgIEFhICs9IGMsIHFhICs9IGMgKiAodCArICh0ID0gbykp
LCBUYSArPSBjICogKGUgKyAoZSA9IGEpKSwgUmEgKz0gYyAqIChyICsgKHIgPSBs
KSksIGt0KHQsIGUsIHIpDQogICAgICAgIH0NCiAgICAgICAgdmFyIHQsIGUsIHI7
DQogICAgICAgIGphLnBvaW50ID0gZnVuY3Rpb24oaSwgdSkgew0KICAgICAgICAg
ICAgaSAqPSBZbzsNCiAgICAgICAgICAgIHZhciBvID0gTWF0aC5jb3ModSAqPSBZ
byk7DQogICAgICAgICAgICB0ID0gbyAqIE1hdGguY29zKGkpLCBlID0gbyAqIE1h
dGguc2luKGkpLCByID0gTWF0aC5zaW4odSksIGphLnBvaW50ID0gbiwga3QodCwg
ZSwgcikNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIEV0KCkgew0K
ICAgICAgICBqYS5wb2ludCA9IFN0DQogICAgfQ0KDQogICAgZnVuY3Rpb24gQXQo
KSB7DQogICAgICAgIGZ1bmN0aW9uIG4obiwgdCkgew0KICAgICAgICAgICAgbiAq
PSBZbzsNCiAgICAgICAgICAgIHZhciBlID0gTWF0aC5jb3ModCAqPSBZbyksDQog
ICAgICAgICAgICAgICAgbyA9IGUgKiBNYXRoLmNvcyhuKSwNCiAgICAgICAgICAg
ICAgICBhID0gZSAqIE1hdGguc2luKG4pLA0KICAgICAgICAgICAgICAgIGwgPSBN
YXRoLnNpbih0KSwNCiAgICAgICAgICAgICAgICBjID0gaSAqIGwgLSB1ICogYSwN
CiAgICAgICAgICAgICAgICBmID0gdSAqIG8gLSByICogbCwNCiAgICAgICAgICAg
ICAgICBzID0gciAqIGEgLSBpICogbywNCiAgICAgICAgICAgICAgICBoID0gTWF0
aC5zcXJ0KGMgKiBjICsgZiAqIGYgKyBzICogcyksDQogICAgICAgICAgICAgICAg
cCA9IHIgKiBvICsgaSAqIGEgKyB1ICogbCwNCiAgICAgICAgICAgICAgICBnID0g
aCAmJiAtbm4ocCkgLyBoLA0KICAgICAgICAgICAgICAgIHYgPSBNYXRoLmF0YW4y
KGgsIHApOw0KICAgICAgICAgICAgRGEgKz0gZyAqIGMsIFBhICs9IGcgKiBmLCBV
YSArPSBnICogcywgQWEgKz0gdiwgcWEgKz0gdiAqIChyICsgKHIgPSBvKSksIFRh
ICs9IHYgKiAoaSArIChpID0gYSkpLCBSYSArPSB2ICogKHUgKyAodSA9IGwpKSwg
a3QociwgaSwgdSkNCiAgICAgICAgfQ0KICAgICAgICB2YXIgdCwgZSwgciwgaSwg
dTsNCiAgICAgICAgamEucG9pbnQgPSBmdW5jdGlvbihvLCBhKSB7DQogICAgICAg
ICAgICB0ID0gbywgZSA9IGEsIGphLnBvaW50ID0gbiwgbyAqPSBZbzsNCiAgICAg
ICAgICAgIHZhciBsID0gTWF0aC5jb3MoYSAqPSBZbyk7DQogICAgICAgICAgICBy
ID0gbCAqIE1hdGguY29zKG8pLCBpID0gbCAqIE1hdGguc2luKG8pLCB1ID0gTWF0
aC5zaW4oYSksIGt0KHIsIGksIHUpDQogICAgICAgIH0sIGphLmxpbmVFbmQgPSBm
dW5jdGlvbigpIHsNCiAgICAgICAgICAgIG4odCwgZSksIGphLmxpbmVFbmQgPSBF
dCwgamEucG9pbnQgPSBTdA0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rp
b24gQ3QobiwgdCkgew0KICAgICAgICBmdW5jdGlvbiBlKGUsIHIpIHsNCiAgICAg
ICAgICAgIHJldHVybiBlID0gbihlLCByKSwgdChlWzBdLCBlWzFdKQ0KICAgICAg
ICB9DQogICAgICAgIHJldHVybiBuLmludmVydCAmJiB0LmludmVydCAmJiAoZS5p
bnZlcnQgPSBmdW5jdGlvbihlLCByKSB7DQogICAgICAgICAgICByZXR1cm4gZSA9
IHQuaW52ZXJ0KGUsIHIpLCBlICYmIG4uaW52ZXJ0KGVbMF0sIGVbMV0pDQogICAg
ICAgIH0pLCBlDQogICAgfQ0KDQogICAgZnVuY3Rpb24genQoKSB7DQogICAgICAg
IHJldHVybiAhMA0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIEx0KG4sIHQsIGUsIHIs
IGkpIHsNCiAgICAgICAgdmFyIHUgPSBbXSwNCiAgICAgICAgICAgIG8gPSBbXTsN
CiAgICAgICAgaWYgKG4uZm9yRWFjaChmdW5jdGlvbihuKSB7DQogICAgICAgICAg
ICAgICAgaWYgKCEoKHQgPSBuLmxlbmd0aCAtIDEpIDw9IDApKSB7DQogICAgICAg
ICAgICAgICAgICAgIHZhciB0LCBlID0gblswXSwNCiAgICAgICAgICAgICAgICAg
ICAgICAgIHIgPSBuW3RdOw0KICAgICAgICAgICAgICAgICAgICBpZiAod3QoZSwg
cikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGkubGluZVN0YXJ0KCk7DQog
ICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhID0gMDsgdCA+IGE7ICsr
YSkgaS5wb2ludCgoZSA9IG5bYV0pWzBdLCBlWzFdKTsNCiAgICAgICAgICAgICAg
ICAgICAgICAgIHJldHVybiB2b2lkIGkubGluZUVuZCgpDQogICAgICAgICAgICAg
ICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdmFyIGwgPSBuZXcgVHQoZSwg
biwgbnVsbCwgITApLA0KICAgICAgICAgICAgICAgICAgICAgICAgYyA9IG5ldyBU
dChlLCBudWxsLCBsLCAhMSk7DQogICAgICAgICAgICAgICAgICAgIGwubyA9IGMs
IHUucHVzaChsKSwgby5wdXNoKGMpLCBsID0gbmV3IFR0KHIsIG4sIG51bGwsICEx
KSwgYyA9IG5ldyBUdChyLCBudWxsLCBsLCAhMCksIGwubyA9IGMsIHUucHVzaChs
KSwgby5wdXNoKGMpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSks
IG8uc29ydCh0KSwgcXQodSksIHF0KG8pLCB1Lmxlbmd0aCkgew0KICAgICAgICAg
ICAgZm9yICh2YXIgYSA9IDAsIGwgPSBlLCBjID0gby5sZW5ndGg7IGMgPiBhOyAr
K2EpIG9bYV0uZSA9IGwgPSAhbDsNCiAgICAgICAgICAgIGZvciAodmFyIGYsIHMs
IGggPSB1WzBdOzspIHsNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBwID0gaCwg
ZyA9ICEwOyBwLnY7KQ0KICAgICAgICAgICAgICAgICAgICBpZiAoKHAgPSBwLm4p
ID09PSBoKSByZXR1cm47DQogICAgICAgICAgICAgICAgZiA9IHAueiwgaS5saW5l
U3RhcnQoKTsNCiAgICAgICAgICAgICAgICBkbyB7DQogICAgICAgICAgICAgICAg
ICAgIGlmIChwLnYgPSBwLm8udiA9ICEwLCBwLmUpIHsNCiAgICAgICAgICAgICAg
ICAgICAgICAgIGlmIChnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZv
ciAodmFyIGEgPSAwLCBjID0gZi5sZW5ndGg7IGMgPiBhOyArK2EpIGkucG9pbnQo
KHMgPSBmW2FdKVswXSwgc1sxXSk7DQogICAgICAgICAgICAgICAgICAgICAgICBl
bHNlIHIocC54LCBwLm4ueCwgMSwgaSk7DQogICAgICAgICAgICAgICAgICAgICAg
ICBwID0gcC5uDQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAg
ICAgICAgICAgICAgICAgICBpZiAoZykgew0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGYgPSBwLnAuejsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBm
b3IgKHZhciBhID0gZi5sZW5ndGggLSAxOyBhID49IDA7IC0tYSkgaS5wb2ludCgo
cyA9IGZbYV0pWzBdLCBzWzFdKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSBl
bHNlIHIocC54LCBwLnAueCwgLTEsIGkpOw0KICAgICAgICAgICAgICAgICAgICAg
ICAgcCA9IHAucA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAg
ICAgICAgIHAgPSBwLm8sIGYgPSBwLnosIGcgPSAhZw0KICAgICAgICAgICAgICAg
IH0gd2hpbGUgKCFwLnYpOw0KICAgICAgICAgICAgICAgIGkubGluZUVuZCgpDQog
ICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBx
dChuKSB7DQogICAgICAgIGlmICh0ID0gbi5sZW5ndGgpIHsNCiAgICAgICAgICAg
IGZvciAodmFyIHQsIGUsIHIgPSAwLCBpID0gblswXTsgKytyIDwgdDspIGkubiA9
IGUgPSBuW3JdLCBlLnAgPSBpLCBpID0gZTsNCiAgICAgICAgICAgIGkubiA9IGUg
PSBuWzBdLCBlLnAgPSBpDQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlv
biBUdChuLCB0LCBlLCByKSB7DQogICAgICAgIHRoaXMueCA9IG4sIHRoaXMueiA9
IHQsIHRoaXMubyA9IGUsIHRoaXMuZSA9IHIsIHRoaXMudiA9ICExLCB0aGlzLm4g
PSB0aGlzLnAgPSBudWxsDQogICAgfQ0KDQogICAgZnVuY3Rpb24gUnQobiwgdCwg
ZSwgcikgew0KICAgICAgICByZXR1cm4gZnVuY3Rpb24oaSwgdSkgew0KICAgICAg
ICAgICAgZnVuY3Rpb24gbyh0LCBlKSB7DQogICAgICAgICAgICAgICAgdmFyIHIg
PSBpKHQsIGUpOw0KICAgICAgICAgICAgICAgIG4odCA9IHJbMF0sIGUgPSByWzFd
KSAmJiB1LnBvaW50KHQsIGUpDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAg
IGZ1bmN0aW9uIGEobiwgdCkgew0KICAgICAgICAgICAgICAgIHZhciBlID0gaShu
LCB0KTsNCiAgICAgICAgICAgICAgICBkLnBvaW50KGVbMF0sIGVbMV0pDQogICAg
ICAgICAgICB9DQoNCiAgICAgICAgICAgIGZ1bmN0aW9uIGwoKSB7DQogICAgICAg
ICAgICAgICAgbS5wb2ludCA9IGEsIGQubGluZVN0YXJ0KCkNCiAgICAgICAgICAg
IH0NCg0KICAgICAgICAgICAgZnVuY3Rpb24gYygpIHsNCiAgICAgICAgICAgICAg
ICBtLnBvaW50ID0gbywgZC5saW5lRW5kKCkNCiAgICAgICAgICAgIH0NCg0KICAg
ICAgICAgICAgZnVuY3Rpb24gZihuLCB0KSB7DQogICAgICAgICAgICAgICAgdi5w
dXNoKFtuLCB0XSk7DQogICAgICAgICAgICAgICAgdmFyIGUgPSBpKG4sIHQpOw0K
ICAgICAgICAgICAgICAgIHgucG9pbnQoZVswXSwgZVsxXSkNCiAgICAgICAgICAg
IH0NCg0KICAgICAgICAgICAgZnVuY3Rpb24gcygpIHsNCiAgICAgICAgICAgICAg
ICB4LmxpbmVTdGFydCgpLCB2ID0gW10NCiAgICAgICAgICAgIH0NCg0KICAgICAg
ICAgICAgZnVuY3Rpb24gaCgpIHsNCiAgICAgICAgICAgICAgICBmKHZbMF1bMF0s
IHZbMF1bMV0pLCB4LmxpbmVFbmQoKTsNCiAgICAgICAgICAgICAgICB2YXIgbiwg
dCA9IHguY2xlYW4oKSwNCiAgICAgICAgICAgICAgICAgICAgZSA9IE0uYnVmZmVy
KCksDQogICAgICAgICAgICAgICAgICAgIHIgPSBlLmxlbmd0aDsNCiAgICAgICAg
ICAgICAgICBpZiAodi5wb3AoKSwgZy5wdXNoKHYpLCB2ID0gbnVsbCwgcikNCiAg
ICAgICAgICAgICAgICAgICAgaWYgKDEgJiB0KSB7DQogICAgICAgICAgICAgICAg
ICAgICAgICBuID0gZVswXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBp
LCByID0gbi5sZW5ndGggLSAxLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAg
IG8gPSAtMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyID4gMCkgew0K
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoYiB8fCAodS5wb2x5Z29u
U3RhcnQoKSwgYiA9ICEwKSwgdS5saW5lU3RhcnQoKTsgKytvIDwgcjspIHUucG9p
bnQoKGkgPSBuW29dKVswXSwgaVsxXSk7DQogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgdS5saW5lRW5kKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAg
ICAgICAgICAgICAgICAgICAgfSBlbHNlIHIgPiAxICYmIDIgJiB0ICYmIGUucHVz
aChlLnBvcCgpLmNvbmNhdChlLnNoaWZ0KCkpKSwgcC5wdXNoKGUuZmlsdGVyKER0
KSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBwLCBnLCB2LCBkID0g
dCh1KSwNCiAgICAgICAgICAgICAgICB5ID0gaS5pbnZlcnQoclswXSwgclsxXSks
DQogICAgICAgICAgICAgICAgbSA9IHsNCiAgICAgICAgICAgICAgICAgICAgcG9p
bnQ6IG8sDQogICAgICAgICAgICAgICAgICAgIGxpbmVTdGFydDogbCwNCiAgICAg
ICAgICAgICAgICAgICAgbGluZUVuZDogYywNCiAgICAgICAgICAgICAgICAgICAg
cG9seWdvblN0YXJ0OiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAg
ICAgIG0ucG9pbnQgPSBmLCBtLmxpbmVTdGFydCA9IHMsIG0ubGluZUVuZCA9IGgs
IHAgPSBbXSwgZyA9IFtdDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAg
ICAgICAgICAgICAgIHBvbHlnb25FbmQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICAg
ICAgICAgICAgICAgICAgbS5wb2ludCA9IG8sIG0ubGluZVN0YXJ0ID0gbCwgbS5s
aW5lRW5kID0gYywgcCA9IGFvLm1lcmdlKHApOw0KICAgICAgICAgICAgICAgICAg
ICAgICAgdmFyIG4gPSBPdCh5LCBnKTsNCiAgICAgICAgICAgICAgICAgICAgICAg
IHAubGVuZ3RoID8gKGIgfHwgKHUucG9seWdvblN0YXJ0KCksIGIgPSAhMCksIEx0
KHAsIFV0LCBuLCBlLCB1KSkgOiBuICYmIChiIHx8ICh1LnBvbHlnb25TdGFydCgp
LCBiID0gITApLCB1LmxpbmVTdGFydCgpLCBlKG51bGwsIG51bGwsIDEsIHUpLCB1
LmxpbmVFbmQoKSksIGIgJiYgKHUucG9seWdvbkVuZCgpLCBiID0gITEpLCBwID0g
ZyA9IG51bGwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAg
ICAgICAgc3BoZXJlOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAg
ICAgIHUucG9seWdvblN0YXJ0KCksIHUubGluZVN0YXJ0KCksIGUobnVsbCwgbnVs
bCwgMSwgdSksIHUubGluZUVuZCgpLCB1LnBvbHlnb25FbmQoKQ0KICAgICAgICAg
ICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAg
ICBNID0gUHQoKSwNCiAgICAgICAgICAgICAgICB4ID0gdChNKSwNCiAgICAgICAg
ICAgICAgICBiID0gITE7DQogICAgICAgICAgICByZXR1cm4gbQ0KICAgICAgICB9
DQogICAgfQ0KDQogICAgZnVuY3Rpb24gRHQobikgew0KICAgICAgICByZXR1cm4g
bi5sZW5ndGggPiAxDQogICAgfQ0KDQogICAgZnVuY3Rpb24gUHQoKSB7DQogICAg
ICAgIHZhciBuLCB0ID0gW107DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAg
ICBsaW5lU3RhcnQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIHQucHVz
aChuID0gW10pDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcG9pbnQ6IGZ1
bmN0aW9uKHQsIGUpIHsNCiAgICAgICAgICAgICAgICBuLnB1c2goW3QsIGVdKQ0K
ICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGxpbmVFbmQ6IGIsDQogICAgICAg
ICAgICBidWZmZXI6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIHZhciBl
ID0gdDsNCiAgICAgICAgICAgICAgICByZXR1cm4gdCA9IFtdLCBuID0gbnVsbCwg
ZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHJlam9pbjogZnVuY3Rpb24o
KSB7DQogICAgICAgICAgICAgICAgdC5sZW5ndGggPiAxICYmIHQucHVzaCh0LnBv
cCgpLmNvbmNhdCh0LnNoaWZ0KCkpKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9
DQogICAgfQ0KDQogICAgZnVuY3Rpb24gVXQobiwgdCkgew0KICAgICAgICByZXR1
cm4gKChuID0gbi54KVswXSA8IDAgPyBuWzFdIC0gSW8gLSBVbyA6IElvIC0gblsx
XSkgLSAoKHQgPSB0LngpWzBdIDwgMCA/IHRbMV0gLSBJbyAtIFVvIDogSW8gLSB0
WzFdKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGp0KG4pIHsNCiAgICAgICAgdmFy
IHQsIGUgPSBOYU4sDQogICAgICAgICAgICByID0gTmFOLA0KICAgICAgICAgICAg
aSA9IE5hTjsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGxpbmVTdGFy
dDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgbi5saW5lU3RhcnQoKSwg
dCA9IDENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBwb2ludDogZnVuY3Rp
b24odSwgbykgew0KICAgICAgICAgICAgICAgIHZhciBhID0gdSA+IDAgPyBGbyA6
IC1GbywNCiAgICAgICAgICAgICAgICAgICAgbCA9IHhvKHUgLSBlKTsNCiAgICAg
ICAgICAgICAgICB4byhsIC0gRm8pIDwgVW8gPyAobi5wb2ludChlLCByID0gKHIg
KyBvKSAvIDIgPiAwID8gSW8gOiAtSW8pLCBuLnBvaW50KGksIHIpLCBuLmxpbmVF
bmQoKSwgbi5saW5lU3RhcnQoKSwgbi5wb2ludChhLCByKSwgbi5wb2ludCh1LCBy
KSwgdCA9IDApIDogaSAhPT0gYSAmJiBsID49IEZvICYmICh4byhlIC0gaSkgPCBV
byAmJiAoZSAtPSBpICogVW8pLCB4byh1IC0gYSkgPCBVbyAmJiAodSAtPSBhICog
VW8pLCByID0gRnQoZSwgciwgdSwgbyksIG4ucG9pbnQoaSwgciksIG4ubGluZUVu
ZCgpLCBuLmxpbmVTdGFydCgpLCBuLnBvaW50KGEsIHIpLCB0ID0gMCksIG4ucG9p
bnQoZSA9IHUsIHIgPSBvKSwgaSA9IGENCiAgICAgICAgICAgIH0sDQogICAgICAg
ICAgICBsaW5lRW5kOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBuLmxp
bmVFbmQoKSwgZSA9IHIgPSBOYU4NCiAgICAgICAgICAgIH0sDQogICAgICAgICAg
ICBjbGVhbjogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIDIg
LSB0DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5j
dGlvbiBGdChuLCB0LCBlLCByKSB7DQogICAgICAgIHZhciBpLCB1LCBvID0gTWF0
aC5zaW4obiAtIGUpOw0KICAgICAgICByZXR1cm4geG8obykgPiBVbyA/IE1hdGgu
YXRhbigoTWF0aC5zaW4odCkgKiAodSA9IE1hdGguY29zKHIpKSAqIE1hdGguc2lu
KGUpIC0gTWF0aC5zaW4ocikgKiAoaSA9IE1hdGguY29zKHQpKSAqIE1hdGguc2lu
KG4pKSAvIChpICogdSAqIG8pKSA6ICh0ICsgcikgLyAyDQogICAgfQ0KDQogICAg
ZnVuY3Rpb24gSHQobiwgdCwgZSwgcikgew0KICAgICAgICB2YXIgaTsNCiAgICAg
ICAgaWYgKG51bGwgPT0gbikgaSA9IGUgKiBJbywgci5wb2ludCgtRm8sIGkpLCBy
LnBvaW50KDAsIGkpLCByLnBvaW50KEZvLCBpKSwgci5wb2ludChGbywgMCksIHIu
cG9pbnQoRm8sIC1pKSwgci5wb2ludCgwLCAtaSksIHIucG9pbnQoLUZvLCAtaSks
IHIucG9pbnQoLUZvLCAwKSwgci5wb2ludCgtRm8sIGkpOw0KICAgICAgICBlbHNl
IGlmICh4byhuWzBdIC0gdFswXSkgPiBVbykgew0KICAgICAgICAgICAgdmFyIHUg
PSBuWzBdIDwgdFswXSA/IEZvIDogLUZvOw0KICAgICAgICAgICAgaSA9IGUgKiB1
IC8gMiwgci5wb2ludCgtdSwgaSksIHIucG9pbnQoMCwgaSksIHIucG9pbnQodSwg
aSkNCiAgICAgICAgfSBlbHNlIHIucG9pbnQodFswXSwgdFsxXSkNCiAgICB9DQoN
CiAgICBmdW5jdGlvbiBPdChuLCB0KSB7DQogICAgICAgIHZhciBlID0gblswXSwN
CiAgICAgICAgICAgIHIgPSBuWzFdLA0KICAgICAgICAgICAgaSA9IFtNYXRoLnNp
bihlKSwgLU1hdGguY29zKGUpLCAwXSwNCiAgICAgICAgICAgIHUgPSAwLA0KICAg
ICAgICAgICAgbyA9IDA7DQogICAgICAgIGthLnJlc2V0KCk7DQogICAgICAgIGZv
ciAodmFyIGEgPSAwLCBsID0gdC5sZW5ndGg7IGwgPiBhOyArK2EpIHsNCiAgICAg
ICAgICAgIHZhciBjID0gdFthXSwNCiAgICAgICAgICAgICAgICBmID0gYy5sZW5n
dGg7DQogICAgICAgICAgICBpZiAoZikNCiAgICAgICAgICAgICAgICBmb3IgKHZh
ciBzID0gY1swXSwgaCA9IHNbMF0sIHAgPSBzWzFdIC8gMiArIEZvIC8gNCwgZyA9
IE1hdGguc2luKHApLCB2ID0gTWF0aC5jb3MocCksIGQgPSAxOzspIHsNCiAgICAg
ICAgICAgICAgICAgICAgZCA9PT0gZiAmJiAoZCA9IDApLCBuID0gY1tkXTsNCiAg
ICAgICAgICAgICAgICAgICAgdmFyIHkgPSBuWzBdLA0KICAgICAgICAgICAgICAg
ICAgICAgICAgbSA9IG5bMV0gLyAyICsgRm8gLyA0LA0KICAgICAgICAgICAgICAg
ICAgICAgICAgTSA9IE1hdGguc2luKG0pLA0KICAgICAgICAgICAgICAgICAgICAg
ICAgeCA9IE1hdGguY29zKG0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgYiA9
IHkgLSBoLA0KICAgICAgICAgICAgICAgICAgICAgICAgXyA9IGIgPj0gMCA/IDEg
OiAtMSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHcgPSBfICogYiwNCiAgICAg
ICAgICAgICAgICAgICAgICAgIFMgPSB3ID4gRm8sDQogICAgICAgICAgICAgICAg
ICAgICAgICBrID0gZyAqIE07DQogICAgICAgICAgICAgICAgICAgIGlmIChrYS5h
ZGQoTWF0aC5hdGFuMihrICogXyAqIE1hdGguc2luKHcpLCB2ICogeCArIGsgKiBN
YXRoLmNvcyh3KSkpLCB1ICs9IFMgPyBiICsgXyAqIEhvIDogYiwgUyBeIGggPj0g
ZSBeIHkgPj0gZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIE4gPSBt
dChkdChzKSwgZHQobikpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnQoTik7
DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgRSA9IG10KGksIE4pOw0KICAg
ICAgICAgICAgICAgICAgICAgICAgYnQoRSk7DQogICAgICAgICAgICAgICAgICAg
ICAgICB2YXIgQSA9IChTIF4gYiA+PSAwID8gLTEgOiAxKSAqIHRuKEVbMl0pOw0K
ICAgICAgICAgICAgICAgICAgICAgICAgKHIgPiBBIHx8IHIgPT09IEEgJiYgKE5b
MF0gfHwgTlsxXSkpICYmIChvICs9IFMgXiBiID49IDAgPyAxIDogLTEpDQogICAg
ICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKCFkKysp
IGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICBoID0geSwgZyA9IE0sIHYgPSB4
LCBzID0gbg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBy
ZXR1cm4gKC1VbyA+IHUgfHwgVW8gPiB1ICYmIC1VbyA+IGthKSBeIDEgJiBvDQog
ICAgfQ0KDQogICAgZnVuY3Rpb24gSXQobikgew0KICAgICAgICBmdW5jdGlvbiB0
KG4sIHQpIHsNCiAgICAgICAgICAgIHJldHVybiBNYXRoLmNvcyhuKSAqIE1hdGgu
Y29zKHQpID4gdQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gZShuKSB7
DQogICAgICAgICAgICB2YXIgZSwgdSwgbCwgYywgZjsNCiAgICAgICAgICAgIHJl
dHVybiB7DQogICAgICAgICAgICAgICAgbGluZVN0YXJ0OiBmdW5jdGlvbigpIHsN
CiAgICAgICAgICAgICAgICAgICAgYyA9IGwgPSAhMSwgZiA9IDENCiAgICAgICAg
ICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHBvaW50OiBmdW5jdGlvbihzLCBo
KSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBwLCBnID0gW3MsIGhdLA0KICAg
ICAgICAgICAgICAgICAgICAgICAgdiA9IHQocywgaCksDQogICAgICAgICAgICAg
ICAgICAgICAgICBkID0gbyA/IHYgPyAwIDogaShzLCBoKSA6IHYgPyBpKHMgKyAo
MCA+IHMgPyBGbyA6IC1GbyksIGgpIDogMDsNCiAgICAgICAgICAgICAgICAgICAg
aWYgKCFlICYmIChjID0gbCA9IHYpICYmIG4ubGluZVN0YXJ0KCksIHYgIT09IGwg
JiYgKHAgPSByKGUsIGcpLCAod3QoZSwgcCkgfHwgd3QoZywgcCkpICYmIChnWzBd
ICs9IFVvLCBnWzFdICs9IFVvLCB2ID0gdChnWzBdLCBnWzFdKSkpLCB2ICE9PSBs
KSBmID0gMCwgdiA/IChuLmxpbmVTdGFydCgpLCBwID0gcihnLCBlKSwgbi5wb2lu
dChwWzBdLCBwWzFdKSkgOiAocCA9IHIoZSwgZyksIG4ucG9pbnQocFswXSwgcFsx
XSksIG4ubGluZUVuZCgpKSwgZSA9IHA7DQogICAgICAgICAgICAgICAgICAgIGVs
c2UgaWYgKGEgJiYgZSAmJiBvIF4gdikgew0KICAgICAgICAgICAgICAgICAgICAg
ICAgdmFyIHk7DQogICAgICAgICAgICAgICAgICAgICAgICBkICYgdSB8fCAhKHkg
PSByKGcsIGUsICEwKSkgfHwgKGYgPSAwLCBvID8gKG4ubGluZVN0YXJ0KCksIG4u
cG9pbnQoeVswXVswXSwgeVswXVsxXSksIG4ucG9pbnQoeVsxXVswXSwgeVsxXVsx
XSksIG4ubGluZUVuZCgpKSA6IChuLnBvaW50KHlbMV1bMF0sIHlbMV1bMV0pLCBu
LmxpbmVFbmQoKSwgbi5saW5lU3RhcnQoKSwgbi5wb2ludCh5WzBdWzBdLCB5WzBd
WzFdKSkpDQogICAgICAgICAgICAgICAgICAgIH0hdiB8fCBlICYmIHd0KGUsIGcp
IHx8IG4ucG9pbnQoZ1swXSwgZ1sxXSksIGUgPSBnLCBsID0gdiwgdSA9IGQNCiAg
ICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGxpbmVFbmQ6IGZ1bmN0
aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICBsICYmIG4ubGluZUVuZCgpLCBl
ID0gbnVsbA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgY2xl
YW46IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZiB8
IChjICYmIGwpIDw8IDENCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9
DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiByKG4sIHQsIGUpIHsNCiAg
ICAgICAgICAgIHZhciByID0gZHQobiksDQogICAgICAgICAgICAgICAgaSA9IGR0
KHQpLA0KICAgICAgICAgICAgICAgIG8gPSBbMSwgMCwgMF0sDQogICAgICAgICAg
ICAgICAgYSA9IG10KHIsIGkpLA0KICAgICAgICAgICAgICAgIGwgPSB5dChhLCBh
KSwNCiAgICAgICAgICAgICAgICBjID0gYVswXSwNCiAgICAgICAgICAgICAgICBm
ID0gbCAtIGMgKiBjOw0KICAgICAgICAgICAgaWYgKCFmKSByZXR1cm4gIWUgJiYg
bjsNCiAgICAgICAgICAgIHZhciBzID0gdSAqIGwgLyBmLA0KICAgICAgICAgICAg
ICAgIGggPSAtdSAqIGMgLyBmLA0KICAgICAgICAgICAgICAgIHAgPSBtdChvLCBh
KSwNCiAgICAgICAgICAgICAgICBnID0geHQobywgcyksDQogICAgICAgICAgICAg
ICAgdiA9IHh0KGEsIGgpOw0KICAgICAgICAgICAgTXQoZywgdik7DQogICAgICAg
ICAgICB2YXIgZCA9IHAsDQogICAgICAgICAgICAgICAgeSA9IHl0KGcsIGQpLA0K
ICAgICAgICAgICAgICAgIG0gPSB5dChkLCBkKSwNCiAgICAgICAgICAgICAgICBN
ID0geSAqIHkgLSBtICogKHl0KGcsIGcpIC0gMSk7DQogICAgICAgICAgICBpZiAo
ISgwID4gTSkpIHsNCiAgICAgICAgICAgICAgICB2YXIgeCA9IE1hdGguc3FydChN
KSwNCiAgICAgICAgICAgICAgICAgICAgYiA9IHh0KGQsICgteSAtIHgpIC8gbSk7
DQogICAgICAgICAgICAgICAgaWYgKE10KGIsIGcpLCBiID0gX3QoYiksICFlKSBy
ZXR1cm4gYjsNCiAgICAgICAgICAgICAgICB2YXIgXywgdyA9IG5bMF0sDQogICAg
ICAgICAgICAgICAgICAgIFMgPSB0WzBdLA0KICAgICAgICAgICAgICAgICAgICBr
ID0gblsxXSwNCiAgICAgICAgICAgICAgICAgICAgTiA9IHRbMV07DQogICAgICAg
ICAgICAgICAgdyA+IFMgJiYgKF8gPSB3LCB3ID0gUywgUyA9IF8pOw0KICAgICAg
ICAgICAgICAgIHZhciBFID0gUyAtIHcsDQogICAgICAgICAgICAgICAgICAgIEEg
PSB4byhFIC0gRm8pIDwgVW8sDQogICAgICAgICAgICAgICAgICAgIEMgPSBBIHx8
IFVvID4gRTsNCiAgICAgICAgICAgICAgICBpZiAoIUEgJiYgayA+IE4gJiYgKF8g
PSBrLCBrID0gTiwgTiA9IF8pLCBDID8gQSA/IGsgKyBOID4gMCBeIGJbMV0gPCAo
eG8oYlswXSAtIHcpIDwgVW8gPyBrIDogTikgOiBrIDw9IGJbMV0gJiYgYlsxXSA8
PSBOIDogRSA+IEZvIF4gKHcgPD0gYlswXSAmJiBiWzBdIDw9IFMpKSB7DQogICAg
ICAgICAgICAgICAgICAgIHZhciB6ID0geHQoZCwgKC15ICsgeCkgLyBtKTsNCiAg
ICAgICAgICAgICAgICAgICAgcmV0dXJuIE10KHosIGcpLCBbYiwgX3QoeildDQog
ICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAg
ICAgICAgZnVuY3Rpb24gaSh0LCBlKSB7DQogICAgICAgICAgICB2YXIgciA9IG8g
PyBuIDogRm8gLSBuLA0KICAgICAgICAgICAgICAgIGkgPSAwOw0KICAgICAgICAg
ICAgcmV0dXJuIC1yID4gdCA/IGkgfD0gMSA6IHQgPiByICYmIChpIHw9IDIpLCAt
ciA+IGUgPyBpIHw9IDQgOiBlID4gciAmJiAoaSB8PSA4KSwgaQ0KICAgICAgICB9
DQogICAgICAgIHZhciB1ID0gTWF0aC5jb3MobiksDQogICAgICAgICAgICBvID0g
dSA+IDAsDQogICAgICAgICAgICBhID0geG8odSkgPiBVbywNCiAgICAgICAgICAg
IGwgPSB2ZShuLCA2ICogWW8pOw0KICAgICAgICByZXR1cm4gUnQodCwgZSwgbCwg
byA/IFswLCAtbl0gOiBbLUZvLCBuIC0gRm9dKQ0KICAgIH0NCg0KICAgIGZ1bmN0
aW9uIFl0KG4sIHQsIGUsIHIpIHsNCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGkp
IHsNCiAgICAgICAgICAgIHZhciB1LCBvID0gaS5hLA0KICAgICAgICAgICAgICAg
IGEgPSBpLmIsDQogICAgICAgICAgICAgICAgbCA9IG8ueCwNCiAgICAgICAgICAg
ICAgICBjID0gby55LA0KICAgICAgICAgICAgICAgIGYgPSBhLngsDQogICAgICAg
ICAgICAgICAgcyA9IGEueSwNCiAgICAgICAgICAgICAgICBoID0gMCwNCiAgICAg
ICAgICAgICAgICBwID0gMSwNCiAgICAgICAgICAgICAgICBnID0gZiAtIGwsDQog
ICAgICAgICAgICAgICAgdiA9IHMgLSBjOw0KICAgICAgICAgICAgaWYgKHUgPSBu
IC0gbCwgZyB8fCAhKHUgPiAwKSkgew0KICAgICAgICAgICAgICAgIGlmICh1IC89
IGcsIDAgPiBnKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChoID4gdSkgcmV0
dXJuOw0KICAgICAgICAgICAgICAgICAgICBwID4gdSAmJiAocCA9IHUpDQogICAg
ICAgICAgICAgICAgfSBlbHNlIGlmIChnID4gMCkgew0KICAgICAgICAgICAgICAg
ICAgICBpZiAodSA+IHApIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgdSA+
IGggJiYgKGggPSB1KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAg
ICBpZiAodSA9IGUgLSBsLCBnIHx8ICEoMCA+IHUpKSB7DQogICAgICAgICAgICAg
ICAgICAgIGlmICh1IC89IGcsIDAgPiBnKSB7DQogICAgICAgICAgICAgICAgICAg
ICAgICBpZiAodSA+IHApIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAg
IHUgPiBoICYmIChoID0gdSkNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlm
IChnID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGggPiB1KSBy
ZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICBwID4gdSAmJiAocCA9IHUp
DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYg
KHUgPSB0IC0gYywgdiB8fCAhKHUgPiAwKSkgew0KICAgICAgICAgICAgICAgICAg
ICAgICAgaWYgKHUgLz0gdiwgMCA+IHYpIHsNCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBpZiAoaCA+IHUpIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBwID4gdSAmJiAocCA9IHUpDQogICAgICAgICAgICAgICAgICAgICAg
ICB9IGVsc2UgaWYgKHYgPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgaWYgKHUgPiBwKSByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgdSA+IGggJiYgKGggPSB1KQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0K
ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHUgPSByIC0gYywgdiB8fCAhKDAg
PiB1KSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1IC89IHYs
IDAgPiB2KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1
ID4gcCkgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1
ID4gaCAmJiAoaCA9IHUpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBl
bHNlIGlmICh2ID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBpZiAoaCA+IHUpIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgcCA+IHUgJiYgKHAgPSB1KQ0KICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaCA+IDAg
JiYgKGkuYSA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDog
bCArIGggKiBnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBj
ICsgaCAqIHYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgMSA+IHAg
JiYgKGkuYiA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDog
bCArIHAgKiBnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBj
ICsgcCAqIHYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgaQ0KICAg
ICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQog
ICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAg
fQ0KDQogICAgZnVuY3Rpb24gWnQobiwgdCwgZSwgcikgew0KICAgICAgICBmdW5j
dGlvbiBpKHIsIGkpIHsNCiAgICAgICAgICAgIHJldHVybiB4byhyWzBdIC0gbikg
PCBVbyA/IGkgPiAwID8gMCA6IDMgOiB4byhyWzBdIC0gZSkgPCBVbyA/IGkgPiAw
ID8gMiA6IDEgOiB4byhyWzFdIC0gdCkgPCBVbyA/IGkgPiAwID8gMSA6IDAgOiBp
ID4gMCA/IDMgOiAyDQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiB1KG4s
IHQpIHsNCiAgICAgICAgICAgIHJldHVybiBvKG4ueCwgdC54KQ0KICAgICAgICB9
DQoNCiAgICAgICAgZnVuY3Rpb24gbyhuLCB0KSB7DQogICAgICAgICAgICB2YXIg
ZSA9IGkobiwgMSksDQogICAgICAgICAgICAgICAgciA9IGkodCwgMSk7DQogICAg
ICAgICAgICByZXR1cm4gZSAhPT0gciA/IGUgLSByIDogMCA9PT0gZSA/IHRbMV0g
LSBuWzFdIDogMSA9PT0gZSA/IG5bMF0gLSB0WzBdIDogMiA9PT0gZSA/IG5bMV0g
LSB0WzFdIDogdFswXSAtIG5bMF0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4g
ZnVuY3Rpb24oYSkgew0KICAgICAgICAgICAgZnVuY3Rpb24gbChuKSB7DQogICAg
ICAgICAgICAgICAgZm9yICh2YXIgdCA9IDAsIGUgPSBkLmxlbmd0aCwgciA9IG5b
MV0sIGkgPSAwOyBlID4gaTsgKytpKQ0KICAgICAgICAgICAgICAgICAgICBmb3Ig
KHZhciB1LCBvID0gMSwgYSA9IGRbaV0sIGwgPSBhLmxlbmd0aCwgYyA9IGFbMF07
IGwgPiBvOyArK28pIHUgPSBhW29dLCBjWzFdIDw9IHIgPyB1WzFdID4gciAmJiBR
KGMsIHUsIG4pID4gMCAmJiArK3QgOiB1WzFdIDw9IHIgJiYgUShjLCB1LCBuKSA8
IDAgJiYgLS10LCBjID0gdTsNCiAgICAgICAgICAgICAgICByZXR1cm4gMCAhPT0g
dA0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBmdW5jdGlvbiBjKHUsIGEs
IGwsIGMpIHsNCiAgICAgICAgICAgICAgICB2YXIgZiA9IDAsDQogICAgICAgICAg
ICAgICAgICAgIHMgPSAwOw0KICAgICAgICAgICAgICAgIGlmIChudWxsID09IHUg
fHwgKGYgPSBpKHUsIGwpKSAhPT0gKHMgPSBpKGEsIGwpKSB8fCBvKHUsIGEpIDwg
MCBeIGwgPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIGRvIGMucG9pbnQoMCA9
PT0gZiB8fCAzID09PSBmID8gbiA6IGUsIGYgPiAxID8gciA6IHQpOyB3aGlsZSAo
KGYgPSAoZiArIGwgKyA0KSAlIDQpICE9PSBzKQ0KICAgICAgICAgICAgICAgIH0g
ZWxzZSBjLnBvaW50KGFbMF0sIGFbMV0pDQogICAgICAgICAgICB9DQoNCiAgICAg
ICAgICAgIGZ1bmN0aW9uIGYoaSwgdSkgew0KICAgICAgICAgICAgICAgIHJldHVy
biBpID49IG4gJiYgZSA+PSBpICYmIHUgPj0gdCAmJiByID49IHUNCiAgICAgICAg
ICAgIH0NCg0KICAgICAgICAgICAgZnVuY3Rpb24gcyhuLCB0KSB7DQogICAgICAg
ICAgICAgICAgZihuLCB0KSAmJiBhLnBvaW50KG4sIHQpDQogICAgICAgICAgICB9
DQoNCiAgICAgICAgICAgIGZ1bmN0aW9uIGgoKSB7DQogICAgICAgICAgICAgICAg
Qy5wb2ludCA9IGcsIGQgJiYgZC5wdXNoKHkgPSBbXSksIFMgPSAhMCwgdyA9ICEx
LCBiID0gXyA9IE5hTg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBmdW5j
dGlvbiBwKCkgew0KICAgICAgICAgICAgICAgIHYgJiYgKGcobSwgTSksIHggJiYg
dyAmJiBFLnJlam9pbigpLCB2LnB1c2goRS5idWZmZXIoKSkpLCBDLnBvaW50ID0g
cywgdyAmJiBhLmxpbmVFbmQoKQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAg
ICBmdW5jdGlvbiBnKG4sIHQpIHsNCiAgICAgICAgICAgICAgICBuID0gTWF0aC5t
YXgoLUhhLCBNYXRoLm1pbihIYSwgbikpLCB0ID0gTWF0aC5tYXgoLUhhLCBNYXRo
Lm1pbihIYSwgdCkpOw0KICAgICAgICAgICAgICAgIHZhciBlID0gZihuLCB0KTsN
CiAgICAgICAgICAgICAgICBpZiAoZCAmJiB5LnB1c2goW24sIHRdKSwgUykgbSA9
IG4sIE0gPSB0LCB4ID0gZSwgUyA9ICExLCBlICYmIChhLmxpbmVTdGFydCgpLCBh
LnBvaW50KG4sIHQpKTsNCiAgICAgICAgICAgICAgICBlbHNlIGlmIChlICYmIHcp
IGEucG9pbnQobiwgdCk7DQogICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAg
ICAgICAgICAgICAgIHZhciByID0gew0KICAgICAgICAgICAgICAgICAgICAgICAg
YTogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IGIsDQogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgeTogXw0KICAgICAgICAgICAgICAgICAgICAg
ICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGI6IHsNCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB4OiBuLA0KICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHk6IHQNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAg
ICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgQShyKSA/ICh3IHx8IChh
LmxpbmVTdGFydCgpLCBhLnBvaW50KHIuYS54LCByLmEueSkpLCBhLnBvaW50KHIu
Yi54LCByLmIueSksIGUgfHwgYS5saW5lRW5kKCksIGsgPSAhMSkgOiBlICYmIChh
LmxpbmVTdGFydCgpLCBhLnBvaW50KG4sIHQpLCBrID0gITEpDQogICAgICAgICAg
ICAgICAgfQ0KICAgICAgICAgICAgICAgIGIgPSBuLCBfID0gdCwgdyA9IGUNCiAg
ICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciB2LCBkLCB5LCBtLCBNLCB4LCBi
LCBfLCB3LCBTLCBrLCBOID0gYSwNCiAgICAgICAgICAgICAgICBFID0gUHQoKSwN
CiAgICAgICAgICAgICAgICBBID0gWXQobiwgdCwgZSwgciksDQogICAgICAgICAg
ICAgICAgQyA9IHsNCiAgICAgICAgICAgICAgICAgICAgcG9pbnQ6IHMsDQogICAg
ICAgICAgICAgICAgICAgIGxpbmVTdGFydDogaCwNCiAgICAgICAgICAgICAgICAg
ICAgbGluZUVuZDogcCwNCiAgICAgICAgICAgICAgICAgICAgcG9seWdvblN0YXJ0
OiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGEgPSBFLCB2
ID0gW10sIGQgPSBbXSwgayA9ICEwDQogICAgICAgICAgICAgICAgICAgIH0sDQog
ICAgICAgICAgICAgICAgICAgIHBvbHlnb25FbmQ6IGZ1bmN0aW9uKCkgew0KICAg
ICAgICAgICAgICAgICAgICAgICAgYSA9IE4sIHYgPSBhby5tZXJnZSh2KTsNCiAg
ICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gbChbbiwgcl0pLA0KICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGUgPSBrICYmIHQsDQogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgaSA9IHYubGVuZ3RoOw0KICAgICAgICAgICAgICAgICAg
ICAgICAgKGUgfHwgaSkgJiYgKGEucG9seWdvblN0YXJ0KCksIGUgJiYgKGEubGlu
ZVN0YXJ0KCksIGMobnVsbCwgbnVsbCwgMSwgYSksIGEubGluZUVuZCgpKSwgaSAm
JiBMdCh2LCB1LCB0LCBjLCBhKSwgYS5wb2x5Z29uRW5kKCkpLCB2ID0gZCA9IHkg
PSBudWxsDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9
Ow0KICAgICAgICAgICAgcmV0dXJuIEMNCiAgICAgICAgfQ0KICAgIH0NCg0KICAg
IGZ1bmN0aW9uIFZ0KG4pIHsNCiAgICAgICAgdmFyIHQgPSAwLA0KICAgICAgICAg
ICAgZSA9IEZvIC8gMywNCiAgICAgICAgICAgIHIgPSBhZShuKSwNCiAgICAgICAg
ICAgIGkgPSByKHQsIGUpOw0KICAgICAgICByZXR1cm4gaS5wYXJhbGxlbHMgPSBm
dW5jdGlvbihuKSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0
aCA/IHIodCA9IG5bMF0gKiBGbyAvIDE4MCwgZSA9IG5bMV0gKiBGbyAvIDE4MCkg
OiBbdCAvIEZvICogMTgwLCBlIC8gRm8gKiAxODBdDQogICAgICAgIH0sIGkNCiAg
ICB9DQoNCiAgICBmdW5jdGlvbiBYdChuLCB0KSB7DQogICAgICAgIGZ1bmN0aW9u
IGUobiwgdCkgew0KICAgICAgICAgICAgdmFyIGUgPSBNYXRoLnNxcnQodSAtIDIg
KiBpICogTWF0aC5zaW4odCkpIC8gaTsNCiAgICAgICAgICAgIHJldHVybiBbZSAq
IE1hdGguc2luKG4gKj0gaSksIG8gLSBlICogTWF0aC5jb3MobildDQogICAgICAg
IH0NCiAgICAgICAgdmFyIHIgPSBNYXRoLnNpbihuKSwNCiAgICAgICAgICAgIGkg
PSAociArIE1hdGguc2luKHQpKSAvIDIsDQogICAgICAgICAgICB1ID0gMSArIHIg
KiAoMiAqIGkgLSByKSwNCiAgICAgICAgICAgIG8gPSBNYXRoLnNxcnQodSkgLyBp
Ow0KICAgICAgICByZXR1cm4gZS5pbnZlcnQgPSBmdW5jdGlvbihuLCB0KSB7DQog
ICAgICAgICAgICB2YXIgZSA9IG8gLSB0Ow0KICAgICAgICAgICAgcmV0dXJuIFtN
YXRoLmF0YW4yKG4sIGUpIC8gaSwgdG4oKHUgLSAobiAqIG4gKyBlICogZSkgKiBp
ICogaSkgLyAoMiAqIGkpKV0NCiAgICAgICAgfSwgZQ0KICAgIH0NCg0KICAgIGZ1
bmN0aW9uICR0KCkgew0KICAgICAgICBmdW5jdGlvbiBuKG4sIHQpIHsNCiAgICAg
ICAgICAgIElhICs9IGkgKiBuIC0gciAqIHQsIHIgPSBuLCBpID0gdA0KICAgICAg
ICB9DQogICAgICAgIHZhciB0LCBlLCByLCBpOw0KICAgICAgICAkYS5wb2ludCA9
IGZ1bmN0aW9uKHUsIG8pIHsNCiAgICAgICAgICAgICRhLnBvaW50ID0gbiwgdCA9
IHIgPSB1LCBlID0gaSA9IG8NCiAgICAgICAgfSwgJGEubGluZUVuZCA9IGZ1bmN0
aW9uKCkgew0KICAgICAgICAgICAgbih0LCBlKQ0KICAgICAgICB9DQogICAgfQ0K
DQogICAgZnVuY3Rpb24gQnQobiwgdCkgew0KICAgICAgICBZYSA+IG4gJiYgKFlh
ID0gbiksIG4gPiBWYSAmJiAoVmEgPSBuKSwgWmEgPiB0ICYmIChaYSA9IHQpLCB0
ID4gWGEgJiYgKFhhID0gdCkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBXdCgpIHsN
CiAgICAgICAgZnVuY3Rpb24gbihuLCB0KSB7DQogICAgICAgICAgICBvLnB1c2go
Ik0iLCBuLCAiLCIsIHQsIHUpDQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlv
biB0KG4sIHQpIHsNCiAgICAgICAgICAgIG8ucHVzaCgiTSIsIG4sICIsIiwgdCks
IGEucG9pbnQgPSBlDQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBlKG4s
IHQpIHsNCiAgICAgICAgICAgIG8ucHVzaCgiTCIsIG4sICIsIiwgdCkNCiAgICAg
ICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHIoKSB7DQogICAgICAgICAgICBhLnBv
aW50ID0gbg0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gaSgpIHsNCiAg
ICAgICAgICAgIG8ucHVzaCgiWiIpDQogICAgICAgIH0NCiAgICAgICAgdmFyIHUg
PSBKdCg0LjUpLA0KICAgICAgICAgICAgbyA9IFtdLA0KICAgICAgICAgICAgYSA9
IHsNCiAgICAgICAgICAgICAgICBwb2ludDogbiwNCiAgICAgICAgICAgICAgICBs
aW5lU3RhcnQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICBhLnBv
aW50ID0gdA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgbGlu
ZUVuZDogciwNCiAgICAgICAgICAgICAgICBwb2x5Z29uU3RhcnQ6IGZ1bmN0aW9u
KCkgew0KICAgICAgICAgICAgICAgICAgICBhLmxpbmVFbmQgPSBpDQogICAgICAg
ICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBwb2x5Z29uRW5kOiBmdW5jdGlv
bigpIHsNCiAgICAgICAgICAgICAgICAgICAgYS5saW5lRW5kID0gciwgYS5wb2lu
dCA9IG4NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHBvaW50
UmFkaXVzOiBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVy
biB1ID0gSnQobiksIGENCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAg
ICAgIHJlc3VsdDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgIGlm
IChvLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBv
LmpvaW4oIiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8gPSBb
XSwgbg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0K
ICAgICAgICAgICAgfTsNCiAgICAgICAgcmV0dXJuIGENCiAgICB9DQoNCiAgICBm
dW5jdGlvbiBKdChuKSB7DQogICAgICAgIHJldHVybiAibTAsIiArIG4gKyAiYSIg
KyBuICsgIiwiICsgbiArICIgMCAxLDEgMCwiICsgLTIgKiBuICsgImEiICsgbiAr
ICIsIiArIG4gKyAiIDAgMSwxIDAsIiArIDIgKiBuICsgInoiDQogICAgfQ0KDQog
ICAgZnVuY3Rpb24gR3QobiwgdCkgew0KICAgICAgICBDYSArPSBuLCB6YSArPSB0
LCArK0xhDQogICAgfQ0KDQogICAgZnVuY3Rpb24gS3QoKSB7DQogICAgICAgIGZ1
bmN0aW9uIG4obiwgcikgew0KICAgICAgICAgICAgdmFyIGkgPSBuIC0gdCwNCiAg
ICAgICAgICAgICAgICB1ID0gciAtIGUsDQogICAgICAgICAgICAgICAgbyA9IE1h
dGguc3FydChpICogaSArIHUgKiB1KTsNCiAgICAgICAgICAgIHFhICs9IG8gKiAo
dCArIG4pIC8gMiwgVGEgKz0gbyAqIChlICsgcikgLyAyLCBSYSArPSBvLCBHdCh0
ID0gbiwgZSA9IHIpDQogICAgICAgIH0NCiAgICAgICAgdmFyIHQsIGU7DQogICAg
ICAgIFdhLnBvaW50ID0gZnVuY3Rpb24ociwgaSkgew0KICAgICAgICAgICAgV2Eu
cG9pbnQgPSBuLCBHdCh0ID0gciwgZSA9IGkpDQogICAgICAgIH0NCiAgICB9DQoN
CiAgICBmdW5jdGlvbiBRdCgpIHsNCiAgICAgICAgV2EucG9pbnQgPSBHdA0KICAg
IH0NCg0KICAgIGZ1bmN0aW9uIG5lKCkgew0KICAgICAgICBmdW5jdGlvbiBuKG4s
IHQpIHsNCiAgICAgICAgICAgIHZhciBlID0gbiAtIHIsDQogICAgICAgICAgICAg
ICAgdSA9IHQgLSBpLA0KICAgICAgICAgICAgICAgIG8gPSBNYXRoLnNxcnQoZSAq
IGUgKyB1ICogdSk7DQogICAgICAgICAgICBxYSArPSBvICogKHIgKyBuKSAvIDIs
IFRhICs9IG8gKiAoaSArIHQpIC8gMiwgUmEgKz0gbywgbyA9IGkgKiBuIC0gciAq
IHQsIERhICs9IG8gKiAociArIG4pLCBQYSArPSBvICogKGkgKyB0KSwgVWEgKz0g
MyAqIG8sIEd0KHIgPSBuLCBpID0gdCkNCiAgICAgICAgfQ0KICAgICAgICB2YXIg
dCwgZSwgciwgaTsNCiAgICAgICAgV2EucG9pbnQgPSBmdW5jdGlvbih1LCBvKSB7
DQogICAgICAgICAgICBXYS5wb2ludCA9IG4sIEd0KHQgPSByID0gdSwgZSA9IGkg
PSBvKQ0KICAgICAgICB9LCBXYS5saW5lRW5kID0gZnVuY3Rpb24oKSB7DQogICAg
ICAgICAgICBuKHQsIGUpDQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlv
biB0ZShuKSB7DQogICAgICAgIGZ1bmN0aW9uIHQodCwgZSkgew0KICAgICAgICAg
ICAgbi5tb3ZlVG8odCArIG8sIGUpLCBuLmFyYyh0LCBlLCBvLCAwLCBIbykNCiAg
ICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGUodCwgZSkgew0KICAgICAgICAg
ICAgbi5tb3ZlVG8odCwgZSksIGEucG9pbnQgPSByDQogICAgICAgIH0NCg0KICAg
ICAgICBmdW5jdGlvbiByKHQsIGUpIHsNCiAgICAgICAgICAgIG4ubGluZVRvKHQs
IGUpDQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBpKCkgew0KICAgICAg
ICAgICAgYS5wb2ludCA9IHQNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9u
IHUoKSB7DQogICAgICAgICAgICBuLmNsb3NlUGF0aCgpDQogICAgICAgIH0NCiAg
ICAgICAgdmFyIG8gPSA0LjUsDQogICAgICAgICAgICBhID0gew0KICAgICAgICAg
ICAgICAgIHBvaW50OiB0LA0KICAgICAgICAgICAgICAgIGxpbmVTdGFydDogZnVu
Y3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgIGEucG9pbnQgPSBlDQogICAg
ICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBsaW5lRW5kOiBpLA0KICAg
ICAgICAgICAgICAgIHBvbHlnb25TdGFydDogZnVuY3Rpb24oKSB7DQogICAgICAg
ICAgICAgICAgICAgIGEubGluZUVuZCA9IHUNCiAgICAgICAgICAgICAgICB9LA0K
ICAgICAgICAgICAgICAgIHBvbHlnb25FbmQ6IGZ1bmN0aW9uKCkgew0KICAgICAg
ICAgICAgICAgICAgICBhLmxpbmVFbmQgPSBpLCBhLnBvaW50ID0gdA0KICAgICAg
ICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgcG9pbnRSYWRpdXM6IGZ1bmN0
aW9uKG4pIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8gPSBuLCBhDQog
ICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICByZXN1bHQ6IGINCiAg
ICAgICAgICAgIH07DQogICAgICAgIHJldHVybiBhDQogICAgfQ0KDQogICAgZnVu
Y3Rpb24gZWUobikgew0KICAgICAgICBmdW5jdGlvbiB0KG4pIHsNCiAgICAgICAg
ICAgIHJldHVybiAoYSA/IHIgOiBlKShuKQ0KICAgICAgICB9DQoNCiAgICAgICAg
ZnVuY3Rpb24gZSh0KSB7DQogICAgICAgICAgICByZXR1cm4gdWUodCwgZnVuY3Rp
b24oZSwgcikgew0KICAgICAgICAgICAgICAgIGUgPSBuKGUsIHIpLCB0LnBvaW50
KGVbMF0sIGVbMV0pDQogICAgICAgICAgICB9KQ0KICAgICAgICB9DQoNCiAgICAg
ICAgZnVuY3Rpb24gcih0KSB7DQogICAgICAgICAgICBmdW5jdGlvbiBlKGUsIHIp
IHsNCiAgICAgICAgICAgICAgICBlID0gbihlLCByKSwgdC5wb2ludChlWzBdLCBl
WzFdKQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBmdW5jdGlvbiByKCkg
ew0KICAgICAgICAgICAgICAgIE0gPSBOYU4sIFMucG9pbnQgPSB1LCB0LmxpbmVT
dGFydCgpDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGZ1bmN0aW9uIHUo
ZSwgcikgew0KICAgICAgICAgICAgICAgIHZhciB1ID0gZHQoW2UsIHJdKSwNCiAg
ICAgICAgICAgICAgICAgICAgbyA9IG4oZSwgcik7DQogICAgICAgICAgICAgICAg
aShNLCB4LCBtLCBiLCBfLCB3LCBNID0gb1swXSwgeCA9IG9bMV0sIG0gPSBlLCBi
ID0gdVswXSwgXyA9IHVbMV0sIHcgPSB1WzJdLCBhLCB0KSwgdC5wb2ludChNLCB4
KQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBmdW5jdGlvbiBvKCkgew0K
ICAgICAgICAgICAgICAgIFMucG9pbnQgPSBlLCB0LmxpbmVFbmQoKQ0KICAgICAg
ICAgICAgfQ0KDQogICAgICAgICAgICBmdW5jdGlvbiBsKCkgew0KICAgICAgICAg
ICAgICAgIHIoKSwgUy5wb2ludCA9IGMsIFMubGluZUVuZCA9IGYNCiAgICAgICAg
ICAgIH0NCg0KICAgICAgICAgICAgZnVuY3Rpb24gYyhuLCB0KSB7DQogICAgICAg
ICAgICAgICAgdShzID0gbiwgaCA9IHQpLCBwID0gTSwgZyA9IHgsIHYgPSBiLCBk
ID0gXywgeSA9IHcsIFMucG9pbnQgPSB1DQogICAgICAgICAgICB9DQoNCiAgICAg
ICAgICAgIGZ1bmN0aW9uIGYoKSB7DQogICAgICAgICAgICAgICAgaShNLCB4LCBt
LCBiLCBfLCB3LCBwLCBnLCBzLCB2LCBkLCB5LCBhLCB0KSwgUy5saW5lRW5kID0g
bywgbygpDQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgcywgaCwgcCwg
ZywgdiwgZCwgeSwgbSwgTSwgeCwgYiwgXywgdywgUyA9IHsNCiAgICAgICAgICAg
ICAgICBwb2ludDogZSwNCiAgICAgICAgICAgICAgICBsaW5lU3RhcnQ6IHIsDQog
ICAgICAgICAgICAgICAgbGluZUVuZDogbywNCiAgICAgICAgICAgICAgICBwb2x5
Z29uU3RhcnQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICB0LnBv
bHlnb25TdGFydCgpLCBTLmxpbmVTdGFydCA9IGwNCiAgICAgICAgICAgICAgICB9
LA0KICAgICAgICAgICAgICAgIHBvbHlnb25FbmQ6IGZ1bmN0aW9uKCkgew0KICAg
ICAgICAgICAgICAgICAgICB0LnBvbHlnb25FbmQoKSwgUy5saW5lU3RhcnQgPSBy
DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAg
IHJldHVybiBTDQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBpKHQsIGUs
IHIsIGEsIGwsIGMsIGYsIHMsIGgsIHAsIGcsIHYsIGQsIHkpIHsNCiAgICAgICAg
ICAgIHZhciBtID0gZiAtIHQsDQogICAgICAgICAgICAgICAgTSA9IHMgLSBlLA0K
ICAgICAgICAgICAgICAgIHggPSBtICogbSArIE0gKiBNOw0KICAgICAgICAgICAg
aWYgKHggPiA0ICogdSAmJiBkLS0pIHsNCiAgICAgICAgICAgICAgICB2YXIgYiA9
IGEgKyBwLA0KICAgICAgICAgICAgICAgICAgICBfID0gbCArIGcsDQogICAgICAg
ICAgICAgICAgICAgIHcgPSBjICsgdiwNCiAgICAgICAgICAgICAgICAgICAgUyA9
IE1hdGguc3FydChiICogYiArIF8gKiBfICsgdyAqIHcpLA0KICAgICAgICAgICAg
ICAgICAgICBrID0gTWF0aC5hc2luKHcgLz0gUyksDQogICAgICAgICAgICAgICAg
ICAgIE4gPSB4byh4byh3KSAtIDEpIDwgVW8gfHwgeG8ociAtIGgpIDwgVW8gPyAo
ciArIGgpIC8gMiA6IE1hdGguYXRhbjIoXywgYiksDQogICAgICAgICAgICAgICAg
ICAgIEUgPSBuKE4sIGspLA0KICAgICAgICAgICAgICAgICAgICBBID0gRVswXSwN
CiAgICAgICAgICAgICAgICAgICAgQyA9IEVbMV0sDQogICAgICAgICAgICAgICAg
ICAgIHogPSBBIC0gdCwNCiAgICAgICAgICAgICAgICAgICAgTCA9IEMgLSBlLA0K
ICAgICAgICAgICAgICAgICAgICBxID0gTSAqIHogLSBtICogTDsNCiAgICAgICAg
ICAgICAgICAocSAqIHEgLyB4ID4gdSB8fCB4bygobSAqIHogKyBNICogTCkgLyB4
IC0gLjUpID4gLjMgfHwgbyA+IGEgKiBwICsgbCAqIGcgKyBjICogdikgJiYgKGko
dCwgZSwgciwgYSwgbCwgYywgQSwgQywgTiwgYiAvPSBTLCBfIC89IFMsIHcsIGQs
IHkpLCB5LnBvaW50KEEsIEMpLCBpKEEsIEMsIE4sIGIsIF8sIHcsIGYsIHMsIGgs
IHAsIGcsIHYsIGQsIHkpKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAg
ICAgIHZhciB1ID0gLjUsDQogICAgICAgICAgICBvID0gTWF0aC5jb3MoMzAgKiBZ
byksDQogICAgICAgICAgICBhID0gMTY7DQogICAgICAgIHJldHVybiB0LnByZWNp
c2lvbiA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVu
dHMubGVuZ3RoID8gKGEgPSAodSA9IG4gKiBuKSA+IDAgJiYgMTYsIHQpIDogTWF0
aC5zcXJ0KHUpDQogICAgICAgIH0sIHQNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBy
ZShuKSB7DQogICAgICAgIHZhciB0ID0gZWUoZnVuY3Rpb24odCwgZSkgew0KICAg
ICAgICAgICAgcmV0dXJuIG4oW3QgKiBabywgZSAqIFpvXSkNCiAgICAgICAgfSk7
DQogICAgICAgIHJldHVybiBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICByZXR1
cm4gbGUodChuKSkNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGll
KG4pIHsNCiAgICAgICAgdGhpcy5zdHJlYW0gPSBuDQogICAgfQ0KDQogICAgZnVu
Y3Rpb24gdWUobiwgdCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAg
cG9pbnQ6IHQsDQogICAgICAgICAgICBzcGhlcmU6IGZ1bmN0aW9uKCkgew0KICAg
ICAgICAgICAgICAgIG4uc3BoZXJlKCkNCiAgICAgICAgICAgIH0sDQogICAgICAg
ICAgICBsaW5lU3RhcnQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIG4u
bGluZVN0YXJ0KCkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBsaW5lRW5k
OiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBuLmxpbmVFbmQoKQ0KICAg
ICAgICAgICAgfSwNCiAgICAgICAgICAgIHBvbHlnb25TdGFydDogZnVuY3Rpb24o
KSB7DQogICAgICAgICAgICAgICAgbi5wb2x5Z29uU3RhcnQoKQ0KICAgICAgICAg
ICAgfSwNCiAgICAgICAgICAgIHBvbHlnb25FbmQ6IGZ1bmN0aW9uKCkgew0KICAg
ICAgICAgICAgICAgIG4ucG9seWdvbkVuZCgpDQogICAgICAgICAgICB9DQogICAg
ICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBvZShuKSB7DQogICAgICAgIHJl
dHVybiBhZShmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiBuDQogICAg
ICAgIH0pKCkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBhZShuKSB7DQogICAgICAg
IGZ1bmN0aW9uIHQobikgew0KICAgICAgICAgICAgcmV0dXJuIG4gPSBhKG5bMF0g
KiBZbywgblsxXSAqIFlvKSwgW25bMF0gKiBoICsgbCwgYyAtIG5bMV0gKiBoXQ0K
ICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gZShuKSB7DQogICAgICAgICAg
ICByZXR1cm4gbiA9IGEuaW52ZXJ0KChuWzBdIC0gbCkgLyBoLCAoYyAtIG5bMV0p
IC8gaCksIG4gJiYgW25bMF0gKiBabywgblsxXSAqIFpvXQ0KICAgICAgICB9DQoN
CiAgICAgICAgZnVuY3Rpb24gcigpIHsNCiAgICAgICAgICAgIGEgPSBDdChvID0g
c2UoeSwgTSwgeCksIHUpOw0KICAgICAgICAgICAgdmFyIG4gPSB1KHYsIGQpOw0K
ICAgICAgICAgICAgcmV0dXJuIGwgPSBwIC0gblswXSAqIGgsIGMgPSBnICsgblsx
XSAqIGgsIGkoKQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gaSgpIHsN
CiAgICAgICAgICAgIHJldHVybiBmICYmIChmLnZhbGlkID0gITEsIGYgPSBudWxs
KSwgdA0KICAgICAgICB9DQogICAgICAgIHZhciB1LCBvLCBhLCBsLCBjLCBmLCBz
ID0gZWUoZnVuY3Rpb24obiwgdCkgew0KICAgICAgICAgICAgICAgIHJldHVybiBu
ID0gdShuLCB0KSwgW25bMF0gKiBoICsgbCwgYyAtIG5bMV0gKiBoXQ0KICAgICAg
ICAgICAgfSksDQogICAgICAgICAgICBoID0gMTUwLA0KICAgICAgICAgICAgcCA9
IDQ4MCwNCiAgICAgICAgICAgIGcgPSAyNTAsDQogICAgICAgICAgICB2ID0gMCwN
CiAgICAgICAgICAgIGQgPSAwLA0KICAgICAgICAgICAgeSA9IDAsDQogICAgICAg
ICAgICBNID0gMCwNCiAgICAgICAgICAgIHggPSAwLA0KICAgICAgICAgICAgYiA9
IEZhLA0KICAgICAgICAgICAgXyA9IG0sDQogICAgICAgICAgICB3ID0gbnVsbCwN
CiAgICAgICAgICAgIFMgPSBudWxsOw0KICAgICAgICByZXR1cm4gdC5zdHJlYW0g
PSBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGYgJiYgKGYu
dmFsaWQgPSAhMSksIGYgPSBsZShiKG8sIHMoXyhuKSkpKSwgZi52YWxpZCA9ICEw
LCBmDQogICAgICAgICAgICB9LCB0LmNsaXBBbmdsZSA9IGZ1bmN0aW9uKG4pIHsN
CiAgICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChiID0g
bnVsbCA9PSBuID8gKHcgPSBuLCBGYSkgOiBJdCgodyA9ICtuKSAqIFlvKSwgaSgp
KSA6IHcNCiAgICAgICAgICAgIH0sIHQuY2xpcEV4dGVudCA9IGZ1bmN0aW9uKG4p
IHsNCiAgICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChT
ID0gbiwgXyA9IG4gPyBadChuWzBdWzBdLCBuWzBdWzFdLCBuWzFdWzBdLCBuWzFd
WzFdKSA6IG0sIGkoKSkgOiBTDQogICAgICAgICAgICB9LCB0LnNjYWxlID0gZnVu
Y3Rpb24obikgew0KICAgICAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVu
Z3RoID8gKGggPSArbiwgcigpKSA6IGgNCiAgICAgICAgICAgIH0sIHQudHJhbnNs
YXRlID0gZnVuY3Rpb24obikgew0KICAgICAgICAgICAgICAgIHJldHVybiBhcmd1
bWVudHMubGVuZ3RoID8gKHAgPSArblswXSwgZyA9ICtuWzFdLCByKCkpIDogW3As
IGddDQogICAgICAgICAgICB9LCB0LmNlbnRlciA9IGZ1bmN0aW9uKG4pIHsNCiAg
ICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh2ID0gblsw
XSAlIDM2MCAqIFlvLCBkID0gblsxXSAlIDM2MCAqIFlvLCByKCkpIDogW3YgKiBa
bywgZCAqIFpvXQ0KICAgICAgICAgICAgfSwgdC5yb3RhdGUgPSBmdW5jdGlvbihu
KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAo
eSA9IG5bMF0gJSAzNjAgKiBZbywgTSA9IG5bMV0gJSAzNjAgKiBZbywgeCA9IG4u
bGVuZ3RoID4gMiA/IG5bMl0gJSAzNjAgKiBZbyA6IDAsIHIoKSkgOiBbeSAqIFpv
LCBNICogWm8sIHggKiBab10NCiAgICAgICAgICAgIH0sIGFvLnJlYmluZCh0LCBz
LCAicHJlY2lzaW9uIiksDQogICAgICAgICAgICBmdW5jdGlvbigpIHsNCiAgICAg
ICAgICAgICAgICByZXR1cm4gdSA9IG4uYXBwbHkodGhpcywgYXJndW1lbnRzKSwg
dC5pbnZlcnQgPSB1LmludmVydCAmJiBlLCByKCkNCiAgICAgICAgICAgIH0NCiAg
ICB9DQoNCiAgICBmdW5jdGlvbiBsZShuKSB7DQogICAgICAgIHJldHVybiB1ZShu
LCBmdW5jdGlvbih0LCBlKSB7DQogICAgICAgICAgICBuLnBvaW50KHQgKiBZbywg
ZSAqIFlvKQ0KICAgICAgICB9KQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGNlKG4s
IHQpIHsNCiAgICAgICAgcmV0dXJuIFtuLCB0XQ0KICAgIH0NCg0KICAgIGZ1bmN0
aW9uIGZlKG4sIHQpIHsNCiAgICAgICAgcmV0dXJuIFtuID4gRm8gPyBuIC0gSG8g
OiAtRm8gPiBuID8gbiArIEhvIDogbiwgdF0NCiAgICB9DQoNCiAgICBmdW5jdGlv
biBzZShuLCB0LCBlKSB7DQogICAgICAgIHJldHVybiBuID8gdCB8fCBlID8gQ3Qo
cGUobiksIGdlKHQsIGUpKSA6IHBlKG4pIDogdCB8fCBlID8gZ2UodCwgZSkgOiBm
ZQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGhlKG4pIHsNCiAgICAgICAgcmV0dXJu
IGZ1bmN0aW9uKHQsIGUpIHsNCiAgICAgICAgICAgIHJldHVybiB0ICs9IG4sIFt0
ID4gRm8gPyB0IC0gSG8gOiAtRm8gPiB0ID8gdCArIEhvIDogdCwgZV0NCiAgICAg
ICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHBlKG4pIHsNCiAgICAgICAgdmFy
IHQgPSBoZShuKTsNCiAgICAgICAgcmV0dXJuIHQuaW52ZXJ0ID0gaGUoLW4pLCB0
DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2UobiwgdCkgew0KICAgICAgICBmdW5j
dGlvbiBlKG4sIHQpIHsNCiAgICAgICAgICAgIHZhciBlID0gTWF0aC5jb3ModCks
DQogICAgICAgICAgICAgICAgYSA9IE1hdGguY29zKG4pICogZSwNCiAgICAgICAg
ICAgICAgICBsID0gTWF0aC5zaW4obikgKiBlLA0KICAgICAgICAgICAgICAgIGMg
PSBNYXRoLnNpbih0KSwNCiAgICAgICAgICAgICAgICBmID0gYyAqIHIgKyBhICog
aTsNCiAgICAgICAgICAgIHJldHVybiBbTWF0aC5hdGFuMihsICogdSAtIGYgKiBv
LCBhICogciAtIGMgKiBpKSwgdG4oZiAqIHUgKyBsICogbyldDQogICAgICAgIH0N
CiAgICAgICAgdmFyIHIgPSBNYXRoLmNvcyhuKSwNCiAgICAgICAgICAgIGkgPSBN
YXRoLnNpbihuKSwNCiAgICAgICAgICAgIHUgPSBNYXRoLmNvcyh0KSwNCiAgICAg
ICAgICAgIG8gPSBNYXRoLnNpbih0KTsNCiAgICAgICAgcmV0dXJuIGUuaW52ZXJ0
ID0gZnVuY3Rpb24obiwgdCkgew0KICAgICAgICAgICAgdmFyIGUgPSBNYXRoLmNv
cyh0KSwNCiAgICAgICAgICAgICAgICBhID0gTWF0aC5jb3MobikgKiBlLA0KICAg
ICAgICAgICAgICAgIGwgPSBNYXRoLnNpbihuKSAqIGUsDQogICAgICAgICAgICAg
ICAgYyA9IE1hdGguc2luKHQpLA0KICAgICAgICAgICAgICAgIGYgPSBjICogdSAt
IGwgKiBvOw0KICAgICAgICAgICAgcmV0dXJuIFtNYXRoLmF0YW4yKGwgKiB1ICsg
YyAqIG8sIGEgKiByICsgZiAqIGkpLCB0bihmICogciAtIGEgKiBpKV0NCiAgICAg
ICAgfSwgZQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHZlKG4sIHQpIHsNCiAgICAg
ICAgdmFyIGUgPSBNYXRoLmNvcyhuKSwNCiAgICAgICAgICAgIHIgPSBNYXRoLnNp
bihuKTsNCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGksIHUsIG8sIGEpIHsNCiAg
ICAgICAgICAgIHZhciBsID0gbyAqIHQ7DQogICAgICAgICAgICBudWxsICE9IGkg
PyAoaSA9IGRlKGUsIGkpLCB1ID0gZGUoZSwgdSksIChvID4gMCA/IHUgPiBpIDog
aSA+IHUpICYmIChpICs9IG8gKiBIbykpIDogKGkgPSBuICsgbyAqIEhvLCB1ID0g
biAtIC41ICogbCk7DQogICAgICAgICAgICBmb3IgKHZhciBjLCBmID0gaTsgbyA+
IDAgPyBmID4gdSA6IHUgPiBmOyBmIC09IGwpIGEucG9pbnQoKGMgPSBfdChbZSwg
LXIgKiBNYXRoLmNvcyhmKSwgLXIgKiBNYXRoLnNpbihmKV0pKVswXSwgY1sxXSkN
CiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGRlKG4sIHQpIHsNCiAg
ICAgICAgdmFyIGUgPSBkdCh0KTsNCiAgICAgICAgZVswXSAtPSBuLCBidChlKTsN
CiAgICAgICAgdmFyIHIgPSBubigtZVsxXSk7DQogICAgICAgIHJldHVybiAoKC1l
WzJdIDwgMCA/IC1yIDogcikgKyAyICogTWF0aC5QSSAtIFVvKSAlICgyICogTWF0
aC5QSSkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB5ZShuLCB0LCBlKSB7DQogICAg
ICAgIHZhciByID0gYW8ucmFuZ2UobiwgdCAtIFVvLCBlKS5jb25jYXQodCk7DQog
ICAgICAgIHJldHVybiBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICByZXR1cm4g
ci5tYXAoZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgICAgIHJldHVybiBbbiwg
dF0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5j
dGlvbiBtZShuLCB0LCBlKSB7DQogICAgICAgIHZhciByID0gYW8ucmFuZ2Uobiwg
dCAtIFVvLCBlKS5jb25jYXQodCk7DQogICAgICAgIHJldHVybiBmdW5jdGlvbihu
KSB7DQogICAgICAgICAgICByZXR1cm4gci5tYXAoZnVuY3Rpb24odCkgew0KICAg
ICAgICAgICAgICAgIHJldHVybiBbdCwgbl0NCiAgICAgICAgICAgIH0pDQogICAg
ICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBNZShuKSB7DQogICAgICAgIHJl
dHVybiBuLnNvdXJjZQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHhlKG4pIHsNCiAg
ICAgICAgcmV0dXJuIG4udGFyZ2V0DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYmUo
biwgdCwgZSwgcikgew0KICAgICAgICB2YXIgaSA9IE1hdGguY29zKHQpLA0KICAg
ICAgICAgICAgdSA9IE1hdGguc2luKHQpLA0KICAgICAgICAgICAgbyA9IE1hdGgu
Y29zKHIpLA0KICAgICAgICAgICAgYSA9IE1hdGguc2luKHIpLA0KICAgICAgICAg
ICAgbCA9IGkgKiBNYXRoLmNvcyhuKSwNCiAgICAgICAgICAgIGMgPSBpICogTWF0
aC5zaW4obiksDQogICAgICAgICAgICBmID0gbyAqIE1hdGguY29zKGUpLA0KICAg
ICAgICAgICAgcyA9IG8gKiBNYXRoLnNpbihlKSwNCiAgICAgICAgICAgIGggPSAy
ICogTWF0aC5hc2luKE1hdGguc3FydChvbihyIC0gdCkgKyBpICogbyAqIG9uKGUg
LSBuKSkpLA0KICAgICAgICAgICAgcCA9IDEgLyBNYXRoLnNpbihoKSwNCiAgICAg
ICAgICAgIGcgPSBoID8gZnVuY3Rpb24obikgew0KICAgICAgICAgICAgICAgIHZh
ciB0ID0gTWF0aC5zaW4obiAqPSBoKSAqIHAsDQogICAgICAgICAgICAgICAgICAg
IGUgPSBNYXRoLnNpbihoIC0gbikgKiBwLA0KICAgICAgICAgICAgICAgICAgICBy
ID0gZSAqIGwgKyB0ICogZiwNCiAgICAgICAgICAgICAgICAgICAgaSA9IGUgKiBj
ICsgdCAqIHMsDQogICAgICAgICAgICAgICAgICAgIG8gPSBlICogdSArIHQgKiBh
Ow0KICAgICAgICAgICAgICAgIHJldHVybiBbTWF0aC5hdGFuMihpLCByKSAqIFpv
LCBNYXRoLmF0YW4yKG8sIE1hdGguc3FydChyICogciArIGkgKiBpKSkgKiBab10N
CiAgICAgICAgICAgIH0gOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBy
ZXR1cm4gW24gKiBabywgdCAqIFpvXQ0KICAgICAgICAgICAgfTsNCiAgICAgICAg
cmV0dXJuIGcuZGlzdGFuY2UgPSBoLCBnDQogICAgfQ0KDQogICAgZnVuY3Rpb24g
X2UoKSB7DQogICAgICAgIGZ1bmN0aW9uIG4obiwgaSkgew0KICAgICAgICAgICAg
dmFyIHUgPSBNYXRoLnNpbihpICo9IFlvKSwNCiAgICAgICAgICAgICAgICBvID0g
TWF0aC5jb3MoaSksDQogICAgICAgICAgICAgICAgYSA9IHhvKChuICo9IFlvKSAt
IHQpLA0KICAgICAgICAgICAgICAgIGwgPSBNYXRoLmNvcyhhKTsNCiAgICAgICAg
ICAgIEphICs9IE1hdGguYXRhbjIoTWF0aC5zcXJ0KChhID0gbyAqIE1hdGguc2lu
KGEpKSAqIGEgKyAoYSA9IHIgKiB1IC0gZSAqIG8gKiBsKSAqIGEpLCBlICogdSAr
IHIgKiBvICogbCksIHQgPSBuLCBlID0gdSwgciA9IG8NCiAgICAgICAgfQ0KICAg
ICAgICB2YXIgdCwgZSwgcjsNCiAgICAgICAgR2EucG9pbnQgPSBmdW5jdGlvbihp
LCB1KSB7DQogICAgICAgICAgICB0ID0gaSAqIFlvLCBlID0gTWF0aC5zaW4odSAq
PSBZbyksIHIgPSBNYXRoLmNvcyh1KSwgR2EucG9pbnQgPSBuDQogICAgICAgIH0s
IEdhLmxpbmVFbmQgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIEdhLnBvaW50
ID0gR2EubGluZUVuZCA9IGINCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0
aW9uIHdlKG4sIHQpIHsNCiAgICAgICAgZnVuY3Rpb24gZSh0LCBlKSB7DQogICAg
ICAgICAgICB2YXIgciA9IE1hdGguY29zKHQpLA0KICAgICAgICAgICAgICAgIGkg
PSBNYXRoLmNvcyhlKSwNCiAgICAgICAgICAgICAgICB1ID0gbihyICogaSk7DQog
ICAgICAgICAgICByZXR1cm4gW3UgKiBpICogTWF0aC5zaW4odCksIHUgKiBNYXRo
LnNpbihlKV0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gZS5pbnZlcnQgPSBm
dW5jdGlvbihuLCBlKSB7DQogICAgICAgICAgICB2YXIgciA9IE1hdGguc3FydChu
ICogbiArIGUgKiBlKSwNCiAgICAgICAgICAgICAgICBpID0gdChyKSwNCiAgICAg
ICAgICAgICAgICB1ID0gTWF0aC5zaW4oaSksDQogICAgICAgICAgICAgICAgbyA9
IE1hdGguY29zKGkpOw0KICAgICAgICAgICAgcmV0dXJuIFtNYXRoLmF0YW4yKG4g
KiB1LCByICogbyksIE1hdGguYXNpbihyICYmIGUgKiB1IC8gcildDQogICAgICAg
IH0sIGUNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBTZShuLCB0KSB7DQogICAgICAg
IGZ1bmN0aW9uIGUobiwgdCkgew0KICAgICAgICAgICAgbyA+IDAgPyAtSW8gKyBV
byA+IHQgJiYgKHQgPSAtSW8gKyBVbykgOiB0ID4gSW8gLSBVbyAmJiAodCA9IElv
IC0gVW8pOw0KICAgICAgICAgICAgdmFyIGUgPSBvIC8gTWF0aC5wb3coaSh0KSwg
dSk7DQogICAgICAgICAgICByZXR1cm4gW2UgKiBNYXRoLnNpbih1ICogbiksIG8g
LSBlICogTWF0aC5jb3ModSAqIG4pXQ0KICAgICAgICB9DQogICAgICAgIHZhciBy
ID0gTWF0aC5jb3MobiksDQogICAgICAgICAgICBpID0gZnVuY3Rpb24obikgew0K
ICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnRhbihGbyAvIDQgKyBuIC8gMikN
CiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB1ID0gbiA9PT0gdCA/IE1hdGgu
c2luKG4pIDogTWF0aC5sb2cociAvIE1hdGguY29zKHQpKSAvIE1hdGgubG9nKGko
dCkgLyBpKG4pKSwNCiAgICAgICAgICAgIG8gPSByICogTWF0aC5wb3coaShuKSwg
dSkgLyB1Ow0KICAgICAgICByZXR1cm4gdSA/IChlLmludmVydCA9IGZ1bmN0aW9u
KG4sIHQpIHsNCiAgICAgICAgICAgIHZhciBlID0gbyAtIHQsDQogICAgICAgICAg
ICAgICAgciA9IEsodSkgKiBNYXRoLnNxcnQobiAqIG4gKyBlICogZSk7DQogICAg
ICAgICAgICByZXR1cm4gW01hdGguYXRhbjIobiwgZSkgLyB1LCAyICogTWF0aC5h
dGFuKE1hdGgucG93KG8gLyByLCAxIC8gdSkpIC0gSW9dDQogICAgICAgIH0sIGUp
IDogTmUNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBrZShuLCB0KSB7DQogICAgICAg
IGZ1bmN0aW9uIGUobiwgdCkgew0KICAgICAgICAgICAgdmFyIGUgPSB1IC0gdDsN
CiAgICAgICAgICAgIHJldHVybiBbZSAqIE1hdGguc2luKGkgKiBuKSwgdSAtIGUg
KiBNYXRoLmNvcyhpICogbildDQogICAgICAgIH0NCiAgICAgICAgdmFyIHIgPSBN
YXRoLmNvcyhuKSwNCiAgICAgICAgICAgIGkgPSBuID09PSB0ID8gTWF0aC5zaW4o
bikgOiAociAtIE1hdGguY29zKHQpKSAvICh0IC0gbiksDQogICAgICAgICAgICB1
ID0gciAvIGkgKyBuOw0KICAgICAgICByZXR1cm4geG8oaSkgPCBVbyA/IGNlIDog
KGUuaW52ZXJ0ID0gZnVuY3Rpb24obiwgdCkgew0KICAgICAgICAgICAgdmFyIGUg
PSB1IC0gdDsNCiAgICAgICAgICAgIHJldHVybiBbTWF0aC5hdGFuMihuLCBlKSAv
IGksIHUgLSBLKGkpICogTWF0aC5zcXJ0KG4gKiBuICsgZSAqIGUpXQ0KICAgICAg
ICB9LCBlKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIE5lKG4sIHQpIHsNCiAgICAg
ICAgcmV0dXJuIFtuLCBNYXRoLmxvZyhNYXRoLnRhbihGbyAvIDQgKyB0IC8gMikp
XQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIEVlKG4pIHsNCiAgICAgICAgdmFyIHQs
IGUgPSBvZShuKSwNCiAgICAgICAgICAgIHIgPSBlLnNjYWxlLA0KICAgICAgICAg
ICAgaSA9IGUudHJhbnNsYXRlLA0KICAgICAgICAgICAgdSA9IGUuY2xpcEV4dGVu
dDsNCiAgICAgICAgcmV0dXJuIGUuc2NhbGUgPSBmdW5jdGlvbigpIHsNCiAgICAg
ICAgICAgIHZhciBuID0gci5hcHBseShlLCBhcmd1bWVudHMpOw0KICAgICAgICAg
ICAgcmV0dXJuIG4gPT09IGUgPyB0ID8gZS5jbGlwRXh0ZW50KG51bGwpIDogZSA6
IG4NCiAgICAgICAgfSwgZS50cmFuc2xhdGUgPSBmdW5jdGlvbigpIHsNCiAgICAg
ICAgICAgIHZhciBuID0gaS5hcHBseShlLCBhcmd1bWVudHMpOw0KICAgICAgICAg
ICAgcmV0dXJuIG4gPT09IGUgPyB0ID8gZS5jbGlwRXh0ZW50KG51bGwpIDogZSA6
IG4NCiAgICAgICAgfSwgZS5jbGlwRXh0ZW50ID0gZnVuY3Rpb24obikgew0KICAg
ICAgICAgICAgdmFyIG8gPSB1LmFwcGx5KGUsIGFyZ3VtZW50cyk7DQogICAgICAg
ICAgICBpZiAobyA9PT0gZSkgew0KICAgICAgICAgICAgICAgIGlmICh0ID0gbnVs
bCA9PSBuKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBhID0gRm8gKiByKCks
DQogICAgICAgICAgICAgICAgICAgICAgICBsID0gaSgpOw0KICAgICAgICAgICAg
ICAgICAgICB1KFsNCiAgICAgICAgICAgICAgICAgICAgICAgIFtsWzBdIC0gYSwg
bFsxXSAtIGFdLA0KICAgICAgICAgICAgICAgICAgICAgICAgW2xbMF0gKyBhLCBs
WzFdICsgYV0NCiAgICAgICAgICAgICAgICAgICAgXSkNCiAgICAgICAgICAgICAg
ICB9DQogICAgICAgICAgICB9IGVsc2UgdCAmJiAobyA9IG51bGwpOw0KICAgICAg
ICAgICAgcmV0dXJuIG8NCiAgICAgICAgfSwgZS5jbGlwRXh0ZW50KG51bGwpDQog
ICAgfQ0KDQogICAgZnVuY3Rpb24gQWUobiwgdCkgew0KICAgICAgICByZXR1cm4g
W01hdGgubG9nKE1hdGgudGFuKEZvIC8gNCArIHQgLyAyKSksIC1uXQ0KICAgIH0N
Cg0KICAgIGZ1bmN0aW9uIENlKG4pIHsNCiAgICAgICAgcmV0dXJuIG5bMF0NCiAg
ICB9DQoNCiAgICBmdW5jdGlvbiB6ZShuKSB7DQogICAgICAgIHJldHVybiBuWzFd
DQogICAgfQ0KDQogICAgZnVuY3Rpb24gTGUobikgew0KICAgICAgICBmb3IgKHZh
ciB0ID0gbi5sZW5ndGgsIGUgPSBbMCwgMV0sIHIgPSAyLCBpID0gMjsgdCA+IGk7
IGkrKykgew0KICAgICAgICAgICAgZm9yICg7IHIgPiAxICYmIFEobltlW3IgLSAy
XV0sIG5bZVtyIC0gMV1dLCBuW2ldKSA8PSAwOykgLS1yOw0KICAgICAgICAgICAg
ZVtyKytdID0gaQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBlLnNsaWNlKDAs
IHIpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gcWUobiwgdCkgew0KICAgICAgICBy
ZXR1cm4gblswXSAtIHRbMF0gfHwgblsxXSAtIHRbMV0NCiAgICB9DQoNCiAgICBm
dW5jdGlvbiBUZShuLCB0LCBlKSB7DQogICAgICAgIHJldHVybiAoZVswXSAtIHRb
MF0pICogKG5bMV0gLSB0WzFdKSA8IChlWzFdIC0gdFsxXSkgKiAoblswXSAtIHRb
MF0pDQogICAgfQ0KDQogICAgZnVuY3Rpb24gUmUobiwgdCwgZSwgcikgew0KICAg
ICAgICB2YXIgaSA9IG5bMF0sDQogICAgICAgICAgICB1ID0gZVswXSwNCiAgICAg
ICAgICAgIG8gPSB0WzBdIC0gaSwNCiAgICAgICAgICAgIGEgPSByWzBdIC0gdSwN
CiAgICAgICAgICAgIGwgPSBuWzFdLA0KICAgICAgICAgICAgYyA9IGVbMV0sDQog
ICAgICAgICAgICBmID0gdFsxXSAtIGwsDQogICAgICAgICAgICBzID0gclsxXSAt
IGMsDQogICAgICAgICAgICBoID0gKGEgKiAobCAtIGMpIC0gcyAqIChpIC0gdSkp
IC8gKHMgKiBvIC0gYSAqIGYpOw0KICAgICAgICByZXR1cm4gW2kgKyBoICogbywg
bCArIGggKiBmXQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIERlKG4pIHsNCiAgICAg
ICAgdmFyIHQgPSBuWzBdLA0KICAgICAgICAgICAgZSA9IG5bbi5sZW5ndGggLSAx
XTsNCiAgICAgICAgcmV0dXJuICEodFswXSAtIGVbMF0gfHwgdFsxXSAtIGVbMV0p
DQogICAgfQ0KDQogICAgZnVuY3Rpb24gUGUoKSB7DQogICAgICAgIHJyKHRoaXMp
LCB0aGlzLmVkZ2UgPSB0aGlzLnNpdGUgPSB0aGlzLmNpcmNsZSA9IG51bGwNCiAg
ICB9DQoNCiAgICBmdW5jdGlvbiBVZShuKSB7DQogICAgICAgIHZhciB0ID0gY2wu
cG9wKCkgfHwgbmV3IFBlOw0KICAgICAgICByZXR1cm4gdC5zaXRlID0gbiwgdA0K
ICAgIH0NCg0KICAgIGZ1bmN0aW9uIGplKG4pIHsNCiAgICAgICAgQmUobiksIG9s
LnJlbW92ZShuKSwgY2wucHVzaChuKSwgcnIobikNCiAgICB9DQoNCiAgICBmdW5j
dGlvbiBGZShuKSB7DQogICAgICAgIHZhciB0ID0gbi5jaXJjbGUsDQogICAgICAg
ICAgICBlID0gdC54LA0KICAgICAgICAgICAgciA9IHQuY3ksDQogICAgICAgICAg
ICBpID0gew0KICAgICAgICAgICAgICAgIHg6IGUsDQogICAgICAgICAgICAgICAg
eTogcg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHUgPSBuLlAsDQogICAg
ICAgICAgICBvID0gbi5OLA0KICAgICAgICAgICAgYSA9IFtuXTsNCiAgICAgICAg
amUobik7DQogICAgICAgIGZvciAodmFyIGwgPSB1OyBsLmNpcmNsZSAmJiB4byhl
IC0gbC5jaXJjbGUueCkgPCBVbyAmJiB4byhyIC0gbC5jaXJjbGUuY3kpIDwgVW87
KSB1ID0gbC5QLCBhLnVuc2hpZnQobCksIGplKGwpLCBsID0gdTsNCiAgICAgICAg
YS51bnNoaWZ0KGwpLCBCZShsKTsNCiAgICAgICAgZm9yICh2YXIgYyA9IG87IGMu
Y2lyY2xlICYmIHhvKGUgLSBjLmNpcmNsZS54KSA8IFVvICYmIHhvKHIgLSBjLmNp
cmNsZS5jeSkgPCBVbzspIG8gPSBjLk4sIGEucHVzaChjKSwgamUoYyksIGMgPSBv
Ow0KICAgICAgICBhLnB1c2goYyksIEJlKGMpOw0KICAgICAgICB2YXIgZiwgcyA9
IGEubGVuZ3RoOw0KICAgICAgICBmb3IgKGYgPSAxOyBzID4gZjsgKytmKSBjID0g
YVtmXSwgbCA9IGFbZiAtIDFdLCBucihjLmVkZ2UsIGwuc2l0ZSwgYy5zaXRlLCBp
KTsNCiAgICAgICAgbCA9IGFbMF0sIGMgPSBhW3MgLSAxXSwgYy5lZGdlID0gS2Uo
bC5zaXRlLCBjLnNpdGUsIG51bGwsIGkpLCAkZShsKSwgJGUoYykNCiAgICB9DQoN
CiAgICBmdW5jdGlvbiBIZShuKSB7DQogICAgICAgIGZvciAodmFyIHQsIGUsIHIs
IGksIHUgPSBuLngsIG8gPSBuLnksIGEgPSBvbC5fOyBhOykNCiAgICAgICAgICAg
IGlmIChyID0gT2UoYSwgbykgLSB1LCByID4gVW8pIGEgPSBhLkw7DQogICAgICAg
ICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICBpZiAoaSA9IHUgLSBJZShhLCBv
KSwgIShpID4gVW8pKSB7DQogICAgICAgICAgICAgICAgICAgIHIgPiAtVW8gPyAo
dCA9IGEuUCwgZSA9IGEpIDogaSA+IC1VbyA/ICh0ID0gYSwgZSA9IGEuTikgOiB0
ID0gZSA9IGE7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAg
ICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICghYS5SKSB7DQogICAgICAgICAg
ICAgICAgICAgIHQgPSBhOw0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAg
ICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBhID0gYS5SDQogICAgICAg
ICAgICB9DQogICAgICAgIHZhciBsID0gVWUobik7DQogICAgICAgIGlmIChvbC5p
bnNlcnQodCwgbCksIHQgfHwgZSkgew0KICAgICAgICAgICAgaWYgKHQgPT09IGUp
IHJldHVybiBCZSh0KSwgZSA9IFVlKHQuc2l0ZSksIG9sLmluc2VydChsLCBlKSwg
bC5lZGdlID0gZS5lZGdlID0gS2UodC5zaXRlLCBsLnNpdGUpLCAkZSh0KSwgdm9p
ZCAkZShlKTsNCiAgICAgICAgICAgIGlmICghZSkgcmV0dXJuIHZvaWQobC5lZGdl
ID0gS2UodC5zaXRlLCBsLnNpdGUpKTsNCiAgICAgICAgICAgIEJlKHQpLCBCZShl
KTsNCiAgICAgICAgICAgIHZhciBjID0gdC5zaXRlLA0KICAgICAgICAgICAgICAg
IGYgPSBjLngsDQogICAgICAgICAgICAgICAgcyA9IGMueSwNCiAgICAgICAgICAg
ICAgICBoID0gbi54IC0gZiwNCiAgICAgICAgICAgICAgICBwID0gbi55IC0gcywN
CiAgICAgICAgICAgICAgICBnID0gZS5zaXRlLA0KICAgICAgICAgICAgICAgIHYg
PSBnLnggLSBmLA0KICAgICAgICAgICAgICAgIGQgPSBnLnkgLSBzLA0KICAgICAg
ICAgICAgICAgIHkgPSAyICogKGggKiBkIC0gcCAqIHYpLA0KICAgICAgICAgICAg
ICAgIG0gPSBoICogaCArIHAgKiBwLA0KICAgICAgICAgICAgICAgIE0gPSB2ICog
diArIGQgKiBkLA0KICAgICAgICAgICAgICAgIHggPSB7DQogICAgICAgICAgICAg
ICAgICAgIHg6IChkICogbSAtIHAgKiBNKSAvIHkgKyBmLA0KICAgICAgICAgICAg
ICAgICAgICB5OiAoaCAqIE0gLSB2ICogbSkgLyB5ICsgcw0KICAgICAgICAgICAg
ICAgIH07DQogICAgICAgICAgICBucihlLmVkZ2UsIGMsIGcsIHgpLCBsLmVkZ2Ug
PSBLZShjLCBuLCBudWxsLCB4KSwgZS5lZGdlID0gS2UobiwgZywgbnVsbCwgeCks
ICRlKHQpLCAkZShlKQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24g
T2UobiwgdCkgew0KICAgICAgICB2YXIgZSA9IG4uc2l0ZSwNCiAgICAgICAgICAg
IHIgPSBlLngsDQogICAgICAgICAgICBpID0gZS55LA0KICAgICAgICAgICAgdSA9
IGkgLSB0Ow0KICAgICAgICBpZiAoIXUpIHJldHVybiByOw0KICAgICAgICB2YXIg
byA9IG4uUDsNCiAgICAgICAgaWYgKCFvKSByZXR1cm4gLSgxIC8gMCk7DQogICAg
ICAgIGUgPSBvLnNpdGU7DQogICAgICAgIHZhciBhID0gZS54LA0KICAgICAgICAg
ICAgbCA9IGUueSwNCiAgICAgICAgICAgIGMgPSBsIC0gdDsNCiAgICAgICAgaWYg
KCFjKSByZXR1cm4gYTsNCiAgICAgICAgdmFyIGYgPSBhIC0gciwNCiAgICAgICAg
ICAgIHMgPSAxIC8gdSAtIDEgLyBjLA0KICAgICAgICAgICAgaCA9IGYgLyBjOw0K
ICAgICAgICByZXR1cm4gcyA/ICgtaCArIE1hdGguc3FydChoICogaCAtIDIgKiBz
ICogKGYgKiBmIC8gKC0yICogYykgLSBsICsgYyAvIDIgKyBpIC0gdSAvIDIpKSkg
LyBzICsgciA6IChyICsgYSkgLyAyDQogICAgfQ0KDQogICAgZnVuY3Rpb24gSWUo
biwgdCkgew0KICAgICAgICB2YXIgZSA9IG4uTjsNCiAgICAgICAgaWYgKGUpIHJl
dHVybiBPZShlLCB0KTsNCiAgICAgICAgdmFyIHIgPSBuLnNpdGU7DQogICAgICAg
IHJldHVybiByLnkgPT09IHQgPyByLnggOiAxIC8gMA0KICAgIH0NCg0KICAgIGZ1
bmN0aW9uIFllKG4pIHsNCiAgICAgICAgdGhpcy5zaXRlID0gbiwgdGhpcy5lZGdl
cyA9IFtdDQogICAgfQ0KDQogICAgZnVuY3Rpb24gWmUobikgew0KICAgICAgICBm
b3IgKHZhciB0LCBlLCByLCBpLCB1LCBvLCBhLCBsLCBjLCBmLCBzID0gblswXVsw
XSwgaCA9IG5bMV1bMF0sIHAgPSBuWzBdWzFdLCBnID0gblsxXVsxXSwgdiA9IHVs
LCBkID0gdi5sZW5ndGg7IGQtLTspDQogICAgICAgICAgICBpZiAodSA9IHZbZF0s
IHUgJiYgdS5wcmVwYXJlKCkpDQogICAgICAgICAgICAgICAgZm9yIChhID0gdS5l
ZGdlcywgbCA9IGEubGVuZ3RoLCBvID0gMDsgbCA+IG87KSBmID0gYVtvXS5lbmQo
KSwgciA9IGYueCwgaSA9IGYueSwgYyA9IGFbKytvICUgbF0uc3RhcnQoKSwgdCA9
IGMueCwgZSA9IGMueSwgKHhvKHIgLSB0KSA+IFVvIHx8IHhvKGkgLSBlKSA+IFVv
KSAmJiAoYS5zcGxpY2UobywgMCwgbmV3IHRyKFFlKHUuc2l0ZSwgZiwgeG8ociAt
IHMpIDwgVW8gJiYgZyAtIGkgPiBVbyA/IHsNCiAgICAgICAgICAgICAgICAgICAg
eDogcywNCiAgICAgICAgICAgICAgICAgICAgeTogeG8odCAtIHMpIDwgVW8gPyBl
IDogZw0KICAgICAgICAgICAgICAgIH0gOiB4byhpIC0gZykgPCBVbyAmJiBoIC0g
ciA+IFVvID8gew0KICAgICAgICAgICAgICAgICAgICB4OiB4byhlIC0gZykgPCBV
byA/IHQgOiBoLA0KICAgICAgICAgICAgICAgICAgICB5OiBnDQogICAgICAgICAg
ICAgICAgfSA6IHhvKHIgLSBoKSA8IFVvICYmIGkgLSBwID4gVW8gPyB7DQogICAg
ICAgICAgICAgICAgICAgIHg6IGgsDQogICAgICAgICAgICAgICAgICAgIHk6IHhv
KHQgLSBoKSA8IFVvID8gZSA6IHANCiAgICAgICAgICAgICAgICB9IDogeG8oaSAt
IHApIDwgVW8gJiYgciAtIHMgPiBVbyA/IHsNCiAgICAgICAgICAgICAgICAgICAg
eDogeG8oZSAtIHApIDwgVW8gPyB0IDogcywNCiAgICAgICAgICAgICAgICAgICAg
eTogcA0KICAgICAgICAgICAgICAgIH0gOiBudWxsKSwgdS5zaXRlLCBudWxsKSks
ICsrbCkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBWZShuLCB0KSB7DQogICAgICAg
IHJldHVybiB0LmFuZ2xlIC0gbi5hbmdsZQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9u
IFhlKCkgew0KICAgICAgICBycih0aGlzKSwgdGhpcy54ID0gdGhpcy55ID0gdGhp
cy5hcmMgPSB0aGlzLnNpdGUgPSB0aGlzLmN5ID0gbnVsbA0KICAgIH0NCg0KICAg
IGZ1bmN0aW9uICRlKG4pIHsNCiAgICAgICAgdmFyIHQgPSBuLlAsDQogICAgICAg
ICAgICBlID0gbi5OOw0KICAgICAgICBpZiAodCAmJiBlKSB7DQogICAgICAgICAg
ICB2YXIgciA9IHQuc2l0ZSwNCiAgICAgICAgICAgICAgICBpID0gbi5zaXRlLA0K
ICAgICAgICAgICAgICAgIHUgPSBlLnNpdGU7DQogICAgICAgICAgICBpZiAociAh
PT0gdSkgew0KICAgICAgICAgICAgICAgIHZhciBvID0gaS54LA0KICAgICAgICAg
ICAgICAgICAgICBhID0gaS55LA0KICAgICAgICAgICAgICAgICAgICBsID0gci54
IC0gbywNCiAgICAgICAgICAgICAgICAgICAgYyA9IHIueSAtIGEsDQogICAgICAg
ICAgICAgICAgICAgIGYgPSB1LnggLSBvLA0KICAgICAgICAgICAgICAgICAgICBz
ID0gdS55IC0gYSwNCiAgICAgICAgICAgICAgICAgICAgaCA9IDIgKiAobCAqIHMg
LSBjICogZik7DQogICAgICAgICAgICAgICAgaWYgKCEoaCA+PSAtam8pKSB7DQog
ICAgICAgICAgICAgICAgICAgIHZhciBwID0gbCAqIGwgKyBjICogYywNCiAgICAg
ICAgICAgICAgICAgICAgICAgIGcgPSBmICogZiArIHMgKiBzLA0KICAgICAgICAg
ICAgICAgICAgICAgICAgdiA9IChzICogcCAtIGMgKiBnKSAvIGgsDQogICAgICAg
ICAgICAgICAgICAgICAgICBkID0gKGwgKiBnIC0gZiAqIHApIC8gaCwNCiAgICAg
ICAgICAgICAgICAgICAgICAgIHMgPSBkICsgYSwNCiAgICAgICAgICAgICAgICAg
ICAgICAgIHkgPSBmbC5wb3AoKSB8fCBuZXcgWGU7DQogICAgICAgICAgICAgICAg
ICAgIHkuYXJjID0gbiwgeS5zaXRlID0gaSwgeS54ID0gdiArIG8sIHkueSA9IHMg
KyBNYXRoLnNxcnQodiAqIHYgKyBkICogZCksIHkuY3kgPSBzLCBuLmNpcmNsZSA9
IHk7DQogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG0gPSBudWxsLCBNID0g
bGwuXzsgTTspDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoeS55IDwgTS55
IHx8IHkueSA9PT0gTS55ICYmIHkueCA8PSBNLngpIHsNCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBpZiAoIU0uTCkgew0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBtID0gTS5QOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBicmVhaw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBNID0gTS5MDQogICAgICAgICAgICAgICAg
ICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlm
ICghTS5SKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0gPSBN
Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBNID0gTS5SDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAg
ICAgICAgICAgICAgIGxsLmluc2VydChtLCB5KSwgbSB8fCAoYWwgPSB5KQ0KICAg
ICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0N
Cg0KICAgIGZ1bmN0aW9uIEJlKG4pIHsNCiAgICAgICAgdmFyIHQgPSBuLmNpcmNs
ZTsNCiAgICAgICAgdCAmJiAodC5QIHx8IChhbCA9IHQuTiksIGxsLnJlbW92ZSh0
KSwgZmwucHVzaCh0KSwgcnIodCksIG4uY2lyY2xlID0gbnVsbCkNCiAgICB9DQoN
CiAgICBmdW5jdGlvbiBXZShuKSB7DQogICAgICAgIGZvciAodmFyIHQsIGUgPSBp
bCwgciA9IFl0KG5bMF1bMF0sIG5bMF1bMV0sIG5bMV1bMF0sIG5bMV1bMV0pLCBp
ID0gZS5sZW5ndGg7IGktLTspIHQgPSBlW2ldLCAoIUplKHQsIG4pIHx8ICFyKHQp
IHx8IHhvKHQuYS54IC0gdC5iLngpIDwgVW8gJiYgeG8odC5hLnkgLSB0LmIueSkg
PCBVbykgJiYgKHQuYSA9IHQuYiA9IG51bGwsIGUuc3BsaWNlKGksIDEpKQ0KICAg
IH0NCg0KICAgIGZ1bmN0aW9uIEplKG4sIHQpIHsNCiAgICAgICAgdmFyIGUgPSBu
LmI7DQogICAgICAgIGlmIChlKSByZXR1cm4gITA7DQogICAgICAgIHZhciByLCBp
LCB1ID0gbi5hLA0KICAgICAgICAgICAgbyA9IHRbMF1bMF0sDQogICAgICAgICAg
ICBhID0gdFsxXVswXSwNCiAgICAgICAgICAgIGwgPSB0WzBdWzFdLA0KICAgICAg
ICAgICAgYyA9IHRbMV1bMV0sDQogICAgICAgICAgICBmID0gbi5sLA0KICAgICAg
ICAgICAgcyA9IG4uciwNCiAgICAgICAgICAgIGggPSBmLngsDQogICAgICAgICAg
ICBwID0gZi55LA0KICAgICAgICAgICAgZyA9IHMueCwNCiAgICAgICAgICAgIHYg
PSBzLnksDQogICAgICAgICAgICBkID0gKGggKyBnKSAvIDIsDQogICAgICAgICAg
ICB5ID0gKHAgKyB2KSAvIDI7DQogICAgICAgIGlmICh2ID09PSBwKSB7DQogICAg
ICAgICAgICBpZiAobyA+IGQgfHwgZCA+PSBhKSByZXR1cm47DQogICAgICAgICAg
ICBpZiAoaCA+IGcpIHsNCiAgICAgICAgICAgICAgICBpZiAodSkgew0KICAgICAg
ICAgICAgICAgICAgICBpZiAodS55ID49IGMpIHJldHVybg0KICAgICAgICAgICAg
ICAgIH0gZWxzZSB1ID0gew0KICAgICAgICAgICAgICAgICAgICB4OiBkLA0KICAg
ICAgICAgICAgICAgICAgICB5OiBsDQogICAgICAgICAgICAgICAgfTsNCiAgICAg
ICAgICAgICAgICBlID0gew0KICAgICAgICAgICAgICAgICAgICB4OiBkLA0KICAg
ICAgICAgICAgICAgICAgICB5OiBjDQogICAgICAgICAgICAgICAgfQ0KICAgICAg
ICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpZiAodSkgew0KICAgICAg
ICAgICAgICAgICAgICBpZiAodS55IDwgbCkgcmV0dXJuDQogICAgICAgICAgICAg
ICAgfSBlbHNlIHUgPSB7DQogICAgICAgICAgICAgICAgICAgIHg6IGQsDQogICAg
ICAgICAgICAgICAgICAgIHk6IGMNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAg
ICAgICAgICAgIGUgPSB7DQogICAgICAgICAgICAgICAgICAgIHg6IGQsDQogICAg
ICAgICAgICAgICAgICAgIHk6IGwNCiAgICAgICAgICAgICAgICB9DQogICAgICAg
ICAgICB9DQogICAgICAgIH0gZWxzZSBpZiAociA9IChoIC0gZykgLyAodiAtIHAp
LCBpID0geSAtIHIgKiBkLCAtMSA+IHIgfHwgciA+IDEpDQogICAgICAgICAgICBp
ZiAoaCA+IGcpIHsNCiAgICAgICAgICAgICAgICBpZiAodSkgew0KICAgICAgICAg
ICAgICAgICAgICBpZiAodS55ID49IGMpIHJldHVybg0KICAgICAgICAgICAgICAg
IH0gZWxzZSB1ID0gew0KICAgICAgICAgICAgICAgICAgICB4OiAobCAtIGkpIC8g
ciwNCiAgICAgICAgICAgICAgICAgICAgeTogbA0KICAgICAgICAgICAgICAgIH07
DQogICAgICAgICAgICAgICAgZSA9IHsNCiAgICAgICAgICAgICAgICAgICAgeDog
KGMgLSBpKSAvIHIsDQogICAgICAgICAgICAgICAgICAgIHk6IGMNCiAgICAgICAg
ICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAg
IGlmICh1KSB7DQogICAgICAgICAgICAgICAgICAgIGlmICh1LnkgPCBsKSByZXR1
cm4NCiAgICAgICAgICAgICAgICB9IGVsc2UgdSA9IHsNCiAgICAgICAgICAgICAg
ICAgICAgeDogKGMgLSBpKSAvIHIsDQogICAgICAgICAgICAgICAgICAgIHk6IGMN
CiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGUgPSB7DQogICAg
ICAgICAgICAgICAgICAgIHg6IChsIC0gaSkgLyByLA0KICAgICAgICAgICAgICAg
ICAgICB5OiBsDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAg
ICAgICBlbHNlIGlmICh2ID4gcCkgew0KICAgICAgICAgICAgaWYgKHUpIHsNCiAg
ICAgICAgICAgICAgICBpZiAodS54ID49IGEpIHJldHVybg0KICAgICAgICAgICAg
fSBlbHNlIHUgPSB7DQogICAgICAgICAgICAgICAgeDogbywNCiAgICAgICAgICAg
ICAgICB5OiByICogbyArIGkNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBl
ID0gew0KICAgICAgICAgICAgICAgIHg6IGEsDQogICAgICAgICAgICAgICAgeTog
ciAqIGEgKyBpDQogICAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAg
ICAgICAgICBpZiAodSkgew0KICAgICAgICAgICAgICAgIGlmICh1LnggPCBvKSBy
ZXR1cm4NCiAgICAgICAgICAgIH0gZWxzZSB1ID0gew0KICAgICAgICAgICAgICAg
IHg6IGEsDQogICAgICAgICAgICAgICAgeTogciAqIGEgKyBpDQogICAgICAgICAg
ICB9Ow0KICAgICAgICAgICAgZSA9IHsNCiAgICAgICAgICAgICAgICB4OiBvLA0K
ICAgICAgICAgICAgICAgIHk6IHIgKiBvICsgaQ0KICAgICAgICAgICAgfQ0KICAg
ICAgICB9DQogICAgICAgIHJldHVybiBuLmEgPSB1LCBuLmIgPSBlLCAhMA0KICAg
IH0NCg0KICAgIGZ1bmN0aW9uIEdlKG4sIHQpIHsNCiAgICAgICAgdGhpcy5sID0g
biwgdGhpcy5yID0gdCwgdGhpcy5hID0gdGhpcy5iID0gbnVsbA0KICAgIH0NCg0K
ICAgIGZ1bmN0aW9uIEtlKG4sIHQsIGUsIHIpIHsNCiAgICAgICAgdmFyIGkgPSBu
ZXcgR2UobiwgdCk7DQogICAgICAgIHJldHVybiBpbC5wdXNoKGkpLCBlICYmIG5y
KGksIG4sIHQsIGUpLCByICYmIG5yKGksIHQsIG4sIHIpLCB1bFtuLmldLmVkZ2Vz
LnB1c2gobmV3IHRyKGksIG4sIHQpKSwgdWxbdC5pXS5lZGdlcy5wdXNoKG5ldyB0
cihpLCB0LCBuKSksIGkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBRZShuLCB0LCBl
KSB7DQogICAgICAgIHZhciByID0gbmV3IEdlKG4sIG51bGwpOw0KICAgICAgICBy
ZXR1cm4gci5hID0gdCwgci5iID0gZSwgaWwucHVzaChyKSwgcg0KICAgIH0NCg0K
ICAgIGZ1bmN0aW9uIG5yKG4sIHQsIGUsIHIpIHsNCiAgICAgICAgbi5hIHx8IG4u
YiA/IG4ubCA9PT0gZSA/IG4uYiA9IHIgOiBuLmEgPSByIDogKG4uYSA9IHIsIG4u
bCA9IHQsIG4uciA9IGUpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gdHIobiwgdCwg
ZSkgew0KICAgICAgICB2YXIgciA9IG4uYSwNCiAgICAgICAgICAgIGkgPSBuLmI7
DQogICAgICAgIHRoaXMuZWRnZSA9IG4sIHRoaXMuc2l0ZSA9IHQsIHRoaXMuYW5n
bGUgPSBlID8gTWF0aC5hdGFuMihlLnkgLSB0LnksIGUueCAtIHQueCkgOiBuLmwg
PT09IHQgPyBNYXRoLmF0YW4yKGkueCAtIHIueCwgci55IC0gaS55KSA6IE1hdGgu
YXRhbjIoci54IC0gaS54LCBpLnkgLSByLnkpDQogICAgfQ0KDQogICAgZnVuY3Rp
b24gZXIoKSB7DQogICAgICAgIHRoaXMuXyA9IG51bGwNCiAgICB9DQoNCiAgICBm
dW5jdGlvbiBycihuKSB7DQogICAgICAgIG4uVSA9IG4uQyA9IG4uTCA9IG4uUiA9
IG4uUCA9IG4uTiA9IG51bGwNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBpcihuLCB0
KSB7DQogICAgICAgIHZhciBlID0gdCwNCiAgICAgICAgICAgIHIgPSB0LlIsDQog
ICAgICAgICAgICBpID0gZS5VOw0KICAgICAgICBpID8gaS5MID09PSBlID8gaS5M
ID0gciA6IGkuUiA9IHIgOiBuLl8gPSByLCByLlUgPSBpLCBlLlUgPSByLCBlLlIg
PSByLkwsIGUuUiAmJiAoZS5SLlUgPSBlKSwgci5MID0gZQ0KICAgIH0NCg0KICAg
IGZ1bmN0aW9uIHVyKG4sIHQpIHsNCiAgICAgICAgdmFyIGUgPSB0LA0KICAgICAg
ICAgICAgciA9IHQuTCwNCiAgICAgICAgICAgIGkgPSBlLlU7DQogICAgICAgIGkg
PyBpLkwgPT09IGUgPyBpLkwgPSByIDogaS5SID0gciA6IG4uXyA9IHIsIHIuVSA9
IGksIGUuVSA9IHIsIGUuTCA9IHIuUiwgZS5MICYmIChlLkwuVSA9IGUpLCByLlIg
PSBlDQogICAgfQ0KDQogICAgZnVuY3Rpb24gb3Iobikgew0KICAgICAgICBmb3Ig
KDsgbi5MOykgbiA9IG4uTDsNCiAgICAgICAgcmV0dXJuIG4NCiAgICB9DQoNCiAg
ICBmdW5jdGlvbiBhcihuLCB0KSB7DQogICAgICAgIHZhciBlLCByLCBpLCB1ID0g
bi5zb3J0KGxyKS5wb3AoKTsNCiAgICAgICAgZm9yIChpbCA9IFtdLCB1bCA9IG5l
dyBBcnJheShuLmxlbmd0aCksIG9sID0gbmV3IGVyLCBsbCA9IG5ldyBlcjs7KQ0K
ICAgICAgICAgICAgaWYgKGkgPSBhbCwgdSAmJiAoIWkgfHwgdS55IDwgaS55IHx8
IHUueSA9PT0gaS55ICYmIHUueCA8IGkueCkpIHUueCA9PT0gZSAmJiB1LnkgPT09
IHIgfHwgKHVsW3UuaV0gPSBuZXcgWWUodSksIEhlKHUpLCBlID0gdS54LCByID0g
dS55KSwgdSA9IG4ucG9wKCk7DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAg
ICAgICAgICBpZiAoIWkpIGJyZWFrOw0KICAgICAgICAgICAgICAgIEZlKGkuYXJj
KQ0KICAgICAgICAgICAgfQ0KICAgICAgICB0ICYmIChXZSh0KSwgWmUodCkpOw0K
ICAgICAgICB2YXIgbyA9IHsNCiAgICAgICAgICAgIGNlbGxzOiB1bCwNCiAgICAg
ICAgICAgIGVkZ2VzOiBpbA0KICAgICAgICB9Ow0KICAgICAgICByZXR1cm4gb2wg
PSBsbCA9IGlsID0gdWwgPSBudWxsLCBvDQogICAgfQ0KDQogICAgZnVuY3Rpb24g
bHIobiwgdCkgew0KICAgICAgICByZXR1cm4gdC55IC0gbi55IHx8IHQueCAtIG4u
eA0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGNyKG4sIHQsIGUpIHsNCiAgICAgICAg
cmV0dXJuIChuLnggLSBlLngpICogKHQueSAtIG4ueSkgLSAobi54IC0gdC54KSAq
IChlLnkgLSBuLnkpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gZnIobikgew0KICAg
ICAgICByZXR1cm4gbi54DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc3Iobikgew0K
ICAgICAgICByZXR1cm4gbi55DQogICAgfQ0KDQogICAgZnVuY3Rpb24gaHIoKSB7
DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBsZWFmOiAhMCwNCiAgICAg
ICAgICAgIG5vZGVzOiBbXSwNCiAgICAgICAgICAgIHBvaW50OiBudWxsLA0KICAg
ICAgICAgICAgeDogbnVsbCwNCiAgICAgICAgICAgIHk6IG51bGwNCiAgICAgICAg
fQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHByKG4sIHQsIGUsIHIsIGksIHUpIHsN
CiAgICAgICAgaWYgKCFuKHQsIGUsIHIsIGksIHUpKSB7DQogICAgICAgICAgICB2
YXIgbyA9IC41ICogKGUgKyBpKSwNCiAgICAgICAgICAgICAgICBhID0gLjUgKiAo
ciArIHUpLA0KICAgICAgICAgICAgICAgIGwgPSB0Lm5vZGVzOw0KICAgICAgICAg
ICAgbFswXSAmJiBwcihuLCBsWzBdLCBlLCByLCBvLCBhKSwgbFsxXSAmJiBwcihu
LCBsWzFdLCBvLCByLCBpLCBhKSwgbFsyXSAmJiBwcihuLCBsWzJdLCBlLCBhLCBv
LCB1KSwgbFszXSAmJiBwcihuLCBsWzNdLCBvLCBhLCBpLCB1KQ0KICAgICAgICB9
DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ3IobiwgdCwgZSwgciwgaSwgdSwgbykg
ew0KICAgICAgICB2YXIgYSwgbCA9IDEgLyAwOw0KICAgICAgICByZXR1cm4gZnVu
Y3Rpb24gYyhuLCBmLCBzLCBoLCBwKSB7DQogICAgICAgICAgICBpZiAoIShmID4g
dSB8fCBzID4gbyB8fCByID4gaCB8fCBpID4gcCkpIHsNCiAgICAgICAgICAgICAg
ICBpZiAoZyA9IG4ucG9pbnQpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGcs
IHYgPSB0IC0gbi54LA0KICAgICAgICAgICAgICAgICAgICAgICAgZCA9IGUgLSBu
LnksDQogICAgICAgICAgICAgICAgICAgICAgICB5ID0gdiAqIHYgKyBkICogZDsN
CiAgICAgICAgICAgICAgICAgICAgaWYgKGwgPiB5KSB7DQogICAgICAgICAgICAg
ICAgICAgICAgICB2YXIgbSA9IE1hdGguc3FydChsID0geSk7DQogICAgICAgICAg
ICAgICAgICAgICAgICByID0gdCAtIG0sIGkgPSBlIC0gbSwgdSA9IHQgKyBtLCBv
ID0gZSArIG0sIGEgPSBnDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAg
ICAgICAgICB9DQogICAgICAgICAgICAgICAgZm9yICh2YXIgTSA9IG4ubm9kZXMs
IHggPSAuNSAqIChmICsgaCksIGIgPSAuNSAqIChzICsgcCksIF8gPSB0ID49IHgs
IHcgPSBlID49IGIsIFMgPSB3IDw8IDEgfCBfLCBrID0gUyArIDQ7IGsgPiBTOyAr
K1MpDQogICAgICAgICAgICAgICAgICAgIGlmIChuID0gTVszICYgU10pIHN3aXRj
aCAoMyAmIFMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoNCiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBjKG4sIGYsIHMsIHgsIGIpOw0KICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAg
ICAgICAgICAgY2FzZSAxOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMo
biwgeCwgcywgaCwgYik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJl
YWs7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6DQogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgYyhuLCBmLCBiLCB4LCBwKTsNCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAg
IGNhc2UgMzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjKG4sIHgsIGIs
IGgsIHApDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAg
ICAgICAgfShuLCByLCBpLCB1LCBvKSwgYQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9u
IHZyKG4sIHQpIHsNCiAgICAgICAgbiA9IGFvLnJnYihuKSwgdCA9IGFvLnJnYih0
KTsNCiAgICAgICAgdmFyIGUgPSBuLnIsDQogICAgICAgICAgICByID0gbi5nLA0K
ICAgICAgICAgICAgaSA9IG4uYiwNCiAgICAgICAgICAgIHUgPSB0LnIgLSBlLA0K
ICAgICAgICAgICAgbyA9IHQuZyAtIHIsDQogICAgICAgICAgICBhID0gdC5iIC0g
aTsNCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHJl
dHVybiAiIyIgKyBibihNYXRoLnJvdW5kKGUgKyB1ICogbikpICsgYm4oTWF0aC5y
b3VuZChyICsgbyAqIG4pKSArIGJuKE1hdGgucm91bmQoaSArIGEgKiBuKSkNCiAg
ICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGRyKG4sIHQpIHsNCiAgICAg
ICAgdmFyIGUsIHIgPSB7fSwNCiAgICAgICAgICAgIGkgPSB7fTsNCiAgICAgICAg
Zm9yIChlIGluIG4pIGUgaW4gdCA/IHJbZV0gPSBNcihuW2VdLCB0W2VdKSA6IGlb
ZV0gPSBuW2VdOw0KICAgICAgICBmb3IgKGUgaW4gdCkgZSBpbiBuIHx8IChpW2Vd
ID0gdFtlXSk7DQogICAgICAgIHJldHVybiBmdW5jdGlvbihuKSB7DQogICAgICAg
ICAgICBmb3IgKGUgaW4gcikgaVtlXSA9IHJbZV0obik7DQogICAgICAgICAgICBy
ZXR1cm4gaQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24geXIobiwg
dCkgew0KICAgICAgICByZXR1cm4gbiA9ICtuLCB0ID0gK3QsDQogICAgICAgICAg
ICBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG4gKiAoMSAt
IGUpICsgdCAqIGUNCiAgICAgICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlv
biBtcihuLCB0KSB7DQogICAgICAgIHZhciBlLCByLCBpLCB1ID0gaGwubGFzdElu
ZGV4ID0gcGwubGFzdEluZGV4ID0gMCwNCiAgICAgICAgICAgIG8gPSAtMSwNCiAg
ICAgICAgICAgIGEgPSBbXSwNCiAgICAgICAgICAgIGwgPSBbXTsNCiAgICAgICAg
Zm9yIChuICs9ICIiLCB0ICs9ICIiOw0KICAgICAgICAgICAgKGUgPSBobC5leGVj
KG4pKSAmJiAociA9IHBsLmV4ZWModCkpOykoaSA9IHIuaW5kZXgpID4gdSAmJiAo
aSA9IHQuc2xpY2UodSwgaSksIGFbb10gPyBhW29dICs9IGkgOiBhWysrb10gPSBp
KSwgKGUgPSBlWzBdKSA9PT0gKHIgPSByWzBdKSA/IGFbb10gPyBhW29dICs9IHIg
OiBhWysrb10gPSByIDogKGFbKytvXSA9IG51bGwsIGwucHVzaCh7DQogICAgICAg
ICAgICBpOiBvLA0KICAgICAgICAgICAgeDogeXIoZSwgcikNCiAgICAgICAgfSkp
LCB1ID0gcGwubGFzdEluZGV4Ow0KICAgICAgICByZXR1cm4gdSA8IHQubGVuZ3Ro
ICYmIChpID0gdC5zbGljZSh1KSwgYVtvXSA/IGFbb10gKz0gaSA6IGFbKytvXSA9
IGkpLCBhLmxlbmd0aCA8IDIgPyBsWzBdID8gKHQgPSBsWzBdLngsIGZ1bmN0aW9u
KG4pIHsNCiAgICAgICAgICAgIHJldHVybiB0KG4pICsgIiINCiAgICAgICAgfSkg
OiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiB0DQogICAgICAgIH0g
OiAodCA9IGwubGVuZ3RoLCBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICBmb3Ig
KHZhciBlLCByID0gMDsgdCA+IHI7ICsrcikgYVsoZSA9IGxbcl0pLmldID0gZS54
KG4pOw0KICAgICAgICAgICAgcmV0dXJuIGEuam9pbigiIikNCiAgICAgICAgfSkN
CiAgICB9DQoNCiAgICBmdW5jdGlvbiBNcihuLCB0KSB7DQogICAgICAgIGZvciAo
dmFyIGUsIHIgPSBhby5pbnRlcnBvbGF0b3JzLmxlbmd0aDsgLS1yID49IDAgJiYg
IShlID0gYW8uaW50ZXJwb2xhdG9yc1tyXShuLCB0KSk7KTsNCiAgICAgICAgcmV0
dXJuIGUNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB4cihuLCB0KSB7DQogICAgICAg
IHZhciBlLCByID0gW10sDQogICAgICAgICAgICBpID0gW10sDQogICAgICAgICAg
ICB1ID0gbi5sZW5ndGgsDQogICAgICAgICAgICBvID0gdC5sZW5ndGgsDQogICAg
ICAgICAgICBhID0gTWF0aC5taW4obi5sZW5ndGgsIHQubGVuZ3RoKTsNCiAgICAg
ICAgZm9yIChlID0gMDsgYSA+IGU7ICsrZSkgci5wdXNoKE1yKG5bZV0sIHRbZV0p
KTsNCiAgICAgICAgZm9yICg7IHUgPiBlOyArK2UpIGlbZV0gPSBuW2VdOw0KICAg
ICAgICBmb3IgKDsgbyA+IGU7ICsrZSkgaVtlXSA9IHRbZV07DQogICAgICAgIHJl
dHVybiBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICBmb3IgKGUgPSAwOyBhID4g
ZTsgKytlKSBpW2VdID0gcltlXShuKTsNCiAgICAgICAgICAgIHJldHVybiBpDQog
ICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBicihuKSB7DQogICAgICAg
IHJldHVybiBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4gMCA+PSB0
ID8gMCA6IHQgPj0gMSA/IDEgOiBuKHQpDQogICAgICAgIH0NCiAgICB9DQoNCiAg
ICBmdW5jdGlvbiBfcihuKSB7DQogICAgICAgIHJldHVybiBmdW5jdGlvbih0KSB7
DQogICAgICAgICAgICByZXR1cm4gMSAtIG4oMSAtIHQpDQogICAgICAgIH0NCiAg
ICB9DQoNCiAgICBmdW5jdGlvbiB3cihuKSB7DQogICAgICAgIHJldHVybiBmdW5j
dGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4gLjUgKiAoLjUgPiB0ID8gbigy
ICogdCkgOiAyIC0gbigyIC0gMiAqIHQpKQ0KICAgICAgICB9DQogICAgfQ0KDQog
ICAgZnVuY3Rpb24gU3Iobikgew0KICAgICAgICByZXR1cm4gbiAqIG4NCiAgICB9
DQoNCiAgICBmdW5jdGlvbiBrcihuKSB7DQogICAgICAgIHJldHVybiBuICogbiAq
IG4NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBOcihuKSB7DQogICAgICAgIGlmICgw
ID49IG4pIHJldHVybiAwOw0KICAgICAgICBpZiAobiA+PSAxKSByZXR1cm4gMTsN
CiAgICAgICAgdmFyIHQgPSBuICogbiwNCiAgICAgICAgICAgIGUgPSB0ICogbjsN
CiAgICAgICAgcmV0dXJuIDQgKiAoLjUgPiBuID8gZSA6IDMgKiAobiAtIHQpICsg
ZSAtIC43NSkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBFcihuKSB7DQogICAgICAg
IHJldHVybiBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4gTWF0aC5w
b3codCwgbikNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIEFyKG4p
IHsNCiAgICAgICAgcmV0dXJuIDEgLSBNYXRoLmNvcyhuICogSW8pDQogICAgfQ0K
DQogICAgZnVuY3Rpb24gQ3Iobikgew0KICAgICAgICByZXR1cm4gTWF0aC5wb3co
MiwgMTAgKiAobiAtIDEpKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHpyKG4pIHsN
CiAgICAgICAgcmV0dXJuIDEgLSBNYXRoLnNxcnQoMSAtIG4gKiBuKQ0KICAgIH0N
Cg0KICAgIGZ1bmN0aW9uIExyKG4sIHQpIHsNCiAgICAgICAgdmFyIGU7DQogICAg
ICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoIDwgMiAmJiAodCA9IC40NSksIGFy
Z3VtZW50cy5sZW5ndGggPyBlID0gdCAvIEhvICogTWF0aC5hc2luKDEgLyBuKSA6
IChuID0gMSwgZSA9IHQgLyA0KSwNCiAgICAgICAgICAgIGZ1bmN0aW9uKHIpIHsN
CiAgICAgICAgICAgICAgICByZXR1cm4gMSArIG4gKiBNYXRoLnBvdygyLCAtMTAg
KiByKSAqIE1hdGguc2luKChyIC0gZSkgKiBIbyAvIHQpDQogICAgICAgICAgICB9
DQogICAgfQ0KDQogICAgZnVuY3Rpb24gcXIobikgew0KICAgICAgICByZXR1cm4g
biB8fCAobiA9IDEuNzAxNTgpLA0KICAgICAgICAgICAgZnVuY3Rpb24odCkgew0K
ICAgICAgICAgICAgICAgIHJldHVybiB0ICogdCAqICgobiArIDEpICogdCAtIG4p
DQogICAgICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gVHIobikgew0K
ICAgICAgICByZXR1cm4gMSAvIDIuNzUgPiBuID8gNy41NjI1ICogbiAqIG4gOiAy
IC8gMi43NSA+IG4gPyA3LjU2MjUgKiAobiAtPSAxLjUgLyAyLjc1KSAqIG4gKyAu
NzUgOiAyLjUgLyAyLjc1ID4gbiA/IDcuNTYyNSAqIChuIC09IDIuMjUgLyAyLjc1
KSAqIG4gKyAuOTM3NSA6IDcuNTYyNSAqIChuIC09IDIuNjI1IC8gMi43NSkgKiBu
ICsgLjk4NDM3NQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIFJyKG4sIHQpIHsNCiAg
ICAgICAgbiA9IGFvLmhjbChuKSwgdCA9IGFvLmhjbCh0KTsNCiAgICAgICAgdmFy
IGUgPSBuLmgsDQogICAgICAgICAgICByID0gbi5jLA0KICAgICAgICAgICAgaSA9
IG4ubCwNCiAgICAgICAgICAgIHUgPSB0LmggLSBlLA0KICAgICAgICAgICAgbyA9
IHQuYyAtIHIsDQogICAgICAgICAgICBhID0gdC5sIC0gaTsNCiAgICAgICAgcmV0
dXJuIGlzTmFOKG8pICYmIChvID0gMCwgciA9IGlzTmFOKHIpID8gdC5jIDogciks
IGlzTmFOKHUpID8gKHUgPSAwLCBlID0gaXNOYU4oZSkgPyB0LmggOiBlKSA6IHUg
PiAxODAgPyB1IC09IDM2MCA6IC0xODAgPiB1ICYmICh1ICs9IDM2MCksDQogICAg
ICAgICAgICBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHNu
KGUgKyB1ICogbiwgciArIG8gKiBuLCBpICsgYSAqIG4pICsgIiINCiAgICAgICAg
ICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBEcihuLCB0KSB7DQogICAgICAg
IG4gPSBhby5oc2wobiksIHQgPSBhby5oc2wodCk7DQogICAgICAgIHZhciBlID0g
bi5oLA0KICAgICAgICAgICAgciA9IG4ucywNCiAgICAgICAgICAgIGkgPSBuLmws
DQogICAgICAgICAgICB1ID0gdC5oIC0gZSwNCiAgICAgICAgICAgIG8gPSB0LnMg
LSByLA0KICAgICAgICAgICAgYSA9IHQubCAtIGk7DQogICAgICAgIHJldHVybiBp
c05hTihvKSAmJiAobyA9IDAsIHIgPSBpc05hTihyKSA/IHQucyA6IHIpLCBpc05h
Tih1KSA/ICh1ID0gMCwgZSA9IGlzTmFOKGUpID8gdC5oIDogZSkgOiB1ID4gMTgw
ID8gdSAtPSAzNjAgOiAtMTgwID4gdSAmJiAodSArPSAzNjApLA0KICAgICAgICAg
ICAgZnVuY3Rpb24obikgew0KICAgICAgICAgICAgICAgIHJldHVybiBjbihlICsg
dSAqIG4sIHIgKyBvICogbiwgaSArIGEgKiBuKSArICIiDQogICAgICAgICAgICB9
DQogICAgfQ0KDQogICAgZnVuY3Rpb24gUHIobiwgdCkgew0KICAgICAgICBuID0g
YW8ubGFiKG4pLCB0ID0gYW8ubGFiKHQpOw0KICAgICAgICB2YXIgZSA9IG4ubCwN
CiAgICAgICAgICAgIHIgPSBuLmEsDQogICAgICAgICAgICBpID0gbi5iLA0KICAg
ICAgICAgICAgdSA9IHQubCAtIGUsDQogICAgICAgICAgICBvID0gdC5hIC0gciwN
CiAgICAgICAgICAgIGEgPSB0LmIgLSBpOw0KICAgICAgICByZXR1cm4gZnVuY3Rp
b24obikgew0KICAgICAgICAgICAgcmV0dXJuIHBuKGUgKyB1ICogbiwgciArIG8g
KiBuLCBpICsgYSAqIG4pICsgIiINCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1
bmN0aW9uIFVyKG4sIHQpIHsNCiAgICAgICAgcmV0dXJuIHQgLT0gbiwNCiAgICAg
ICAgICAgIGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gTWF0
aC5yb3VuZChuICsgdCAqIGUpDQogICAgICAgICAgICB9DQogICAgfQ0KDQogICAg
ZnVuY3Rpb24ganIobikgew0KICAgICAgICB2YXIgdCA9IFtuLmEsIG4uYl0sDQog
ICAgICAgICAgICBlID0gW24uYywgbi5kXSwNCiAgICAgICAgICAgIHIgPSBIcih0
KSwNCiAgICAgICAgICAgIGkgPSBGcih0LCBlKSwNCiAgICAgICAgICAgIHUgPSBI
cihPcihlLCB0LCAtaSkpIHx8IDA7DQogICAgICAgIHRbMF0gKiBlWzFdIDwgZVsw
XSAqIHRbMV0gJiYgKHRbMF0gKj0gLTEsIHRbMV0gKj0gLTEsIHIgKj0gLTEsIGkg
Kj0gLTEpLCB0aGlzLnJvdGF0ZSA9IChyID8gTWF0aC5hdGFuMih0WzFdLCB0WzBd
KSA6IE1hdGguYXRhbjIoLWVbMF0sIGVbMV0pKSAqIFpvLCB0aGlzLnRyYW5zbGF0
ZSA9IFtuLmUsIG4uZl0sIHRoaXMuc2NhbGUgPSBbciwgdV0sIHRoaXMuc2tldyA9
IHUgPyBNYXRoLmF0YW4yKGksIHUpICogWm8gOiAwDQogICAgfQ0KDQogICAgZnVu
Y3Rpb24gRnIobiwgdCkgew0KICAgICAgICByZXR1cm4gblswXSAqIHRbMF0gKyBu
WzFdICogdFsxXQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIEhyKG4pIHsNCiAgICAg
ICAgdmFyIHQgPSBNYXRoLnNxcnQoRnIobiwgbikpOw0KICAgICAgICByZXR1cm4g
dCAmJiAoblswXSAvPSB0LCBuWzFdIC89IHQpLCB0DQogICAgfQ0KDQogICAgZnVu
Y3Rpb24gT3IobiwgdCwgZSkgew0KICAgICAgICByZXR1cm4gblswXSArPSBlICog
dFswXSwgblsxXSArPSBlICogdFsxXSwgbg0KICAgIH0NCg0KICAgIGZ1bmN0aW9u
IElyKG4pIHsNCiAgICAgICAgcmV0dXJuIG4ubGVuZ3RoID8gbi5wb3AoKSArICIs
IiA6ICIiDQogICAgfQ0KDQogICAgZnVuY3Rpb24gWXIobiwgdCwgZSwgcikgew0K
ICAgICAgICBpZiAoblswXSAhPT0gdFswXSB8fCBuWzFdICE9PSB0WzFdKSB7DQog
ICAgICAgICAgICB2YXIgaSA9IGUucHVzaCgidHJhbnNsYXRlKCIsIG51bGwsICIs
IiwgbnVsbCwgIikiKTsNCiAgICAgICAgICAgIHIucHVzaCh7DQogICAgICAgICAg
ICAgICAgaTogaSAtIDQsDQogICAgICAgICAgICAgICAgeDogeXIoblswXSwgdFsw
XSkNCiAgICAgICAgICAgIH0sIHsNCiAgICAgICAgICAgICAgICBpOiBpIC0gMiwN
CiAgICAgICAgICAgICAgICB4OiB5cihuWzFdLCB0WzFdKQ0KICAgICAgICAgICAg
fSkNCiAgICAgICAgfSBlbHNlKHRbMF0gfHwgdFsxXSkgJiYgZS5wdXNoKCJ0cmFu
c2xhdGUoIiArIHQgKyAiKSIpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gWnIobiwg
dCwgZSwgcikgew0KICAgICAgICBuICE9PSB0ID8gKG4gLSB0ID4gMTgwID8gdCAr
PSAzNjAgOiB0IC0gbiA+IDE4MCAmJiAobiArPSAzNjApLCByLnB1c2goew0KICAg
ICAgICAgICAgaTogZS5wdXNoKElyKGUpICsgInJvdGF0ZSgiLCBudWxsLCAiKSIp
IC0gMiwNCiAgICAgICAgICAgIHg6IHlyKG4sIHQpDQogICAgICAgIH0pKSA6IHQg
JiYgZS5wdXNoKElyKGUpICsgInJvdGF0ZSgiICsgdCArICIpIikNCiAgICB9DQoN
CiAgICBmdW5jdGlvbiBWcihuLCB0LCBlLCByKSB7DQogICAgICAgIG4gIT09IHQg
PyByLnB1c2goew0KICAgICAgICAgICAgaTogZS5wdXNoKElyKGUpICsgInNrZXdY
KCIsIG51bGwsICIpIikgLSAyLA0KICAgICAgICAgICAgeDogeXIobiwgdCkNCiAg
ICAgICAgfSkgOiB0ICYmIGUucHVzaChJcihlKSArICJza2V3WCgiICsgdCArICIp
IikNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBYcihuLCB0LCBlLCByKSB7DQogICAg
ICAgIGlmIChuWzBdICE9PSB0WzBdIHx8IG5bMV0gIT09IHRbMV0pIHsNCiAgICAg
ICAgICAgIHZhciBpID0gZS5wdXNoKElyKGUpICsgInNjYWxlKCIsIG51bGwsICIs
IiwgbnVsbCwgIikiKTsNCiAgICAgICAgICAgIHIucHVzaCh7DQogICAgICAgICAg
ICAgICAgaTogaSAtIDQsDQogICAgICAgICAgICAgICAgeDogeXIoblswXSwgdFsw
XSkNCiAgICAgICAgICAgIH0sIHsNCiAgICAgICAgICAgICAgICBpOiBpIC0gMiwN
CiAgICAgICAgICAgICAgICB4OiB5cihuWzFdLCB0WzFdKQ0KICAgICAgICAgICAg
fSkNCiAgICAgICAgfSBlbHNlIDEgPT09IHRbMF0gJiYgMSA9PT0gdFsxXSB8fCBl
LnB1c2goSXIoZSkgKyAic2NhbGUoIiArIHQgKyAiKSIpDQogICAgfQ0KDQogICAg
ZnVuY3Rpb24gJHIobiwgdCkgew0KICAgICAgICB2YXIgZSA9IFtdLA0KICAgICAg
ICAgICAgciA9IFtdOw0KICAgICAgICByZXR1cm4gbiA9IGFvLnRyYW5zZm9ybShu
KSwgdCA9IGFvLnRyYW5zZm9ybSh0KSwgWXIobi50cmFuc2xhdGUsIHQudHJhbnNs
YXRlLCBlLCByKSwgWnIobi5yb3RhdGUsIHQucm90YXRlLCBlLCByKSwgVnIobi5z
a2V3LCB0LnNrZXcsIGUsIHIpLCBYcihuLnNjYWxlLCB0LnNjYWxlLCBlLCByKSwg
biA9IHQgPSBudWxsLA0KICAgICAgICAgICAgZnVuY3Rpb24obikgew0KICAgICAg
ICAgICAgICAgIGZvciAodmFyIHQsIGkgPSAtMSwgdSA9IHIubGVuZ3RoOyArK2kg
PCB1OykgZVsodCA9IHJbaV0pLmldID0gdC54KG4pOw0KICAgICAgICAgICAgICAg
IHJldHVybiBlLmpvaW4oIiIpDQogICAgICAgICAgICB9DQogICAgfQ0KDQogICAg
ZnVuY3Rpb24gQnIobiwgdCkgew0KICAgICAgICByZXR1cm4gdCA9ICh0IC09IG4g
PSArbikgfHwgMSAvIHQsDQogICAgICAgICAgICBmdW5jdGlvbihlKSB7DQogICAg
ICAgICAgICAgICAgcmV0dXJuIChlIC0gbikgLyB0DQogICAgICAgICAgICB9DQog
ICAgfQ0KDQogICAgZnVuY3Rpb24gV3IobiwgdCkgew0KICAgICAgICByZXR1cm4g
dCA9ICh0IC09IG4gPSArbikgfHwgMSAvIHQsDQogICAgICAgICAgICBmdW5jdGlv
bihlKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgu
bWluKDEsIChlIC0gbikgLyB0KSkNCiAgICAgICAgICAgIH0NCiAgICB9DQoNCiAg
ICBmdW5jdGlvbiBKcihuKSB7DQogICAgICAgIGZvciAodmFyIHQgPSBuLnNvdXJj
ZSwgZSA9IG4udGFyZ2V0LCByID0gS3IodCwgZSksIGkgPSBbdF07IHQgIT09IHI7
KSB0ID0gdC5wYXJlbnQsIGkucHVzaCh0KTsNCiAgICAgICAgZm9yICh2YXIgdSA9
IGkubGVuZ3RoOyBlICE9PSByOykgaS5zcGxpY2UodSwgMCwgZSksIGUgPSBlLnBh
cmVudDsNCiAgICAgICAgcmV0dXJuIGkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBH
cihuKSB7DQogICAgICAgIGZvciAodmFyIHQgPSBbXSwgZSA9IG4ucGFyZW50OyBu
dWxsICE9IGU7KSB0LnB1c2gobiksIG4gPSBlLCBlID0gZS5wYXJlbnQ7DQogICAg
ICAgIHJldHVybiB0LnB1c2gobiksIHQNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBL
cihuLCB0KSB7DQogICAgICAgIGlmIChuID09PSB0KSByZXR1cm4gbjsNCiAgICAg
ICAgZm9yICh2YXIgZSA9IEdyKG4pLCByID0gR3IodCksIGkgPSBlLnBvcCgpLCB1
ID0gci5wb3AoKSwgbyA9IG51bGw7IGkgPT09IHU7KSBvID0gaSwgaSA9IGUucG9w
KCksIHUgPSByLnBvcCgpOw0KICAgICAgICByZXR1cm4gbw0KICAgIH0NCg0KICAg
IGZ1bmN0aW9uIFFyKG4pIHsNCiAgICAgICAgbi5maXhlZCB8PSAyDQogICAgfQ0K
DQogICAgZnVuY3Rpb24gbmkobikgew0KICAgICAgICBuLmZpeGVkICY9IC03DQog
ICAgfQ0KDQogICAgZnVuY3Rpb24gdGkobikgew0KICAgICAgICBuLmZpeGVkIHw9
IDQsIG4ucHggPSBuLngsIG4ucHkgPSBuLnkNCiAgICB9DQoNCiAgICBmdW5jdGlv
biBlaShuKSB7DQogICAgICAgIG4uZml4ZWQgJj0gLTUNCiAgICB9DQoNCiAgICBm
dW5jdGlvbiByaShuLCB0LCBlKSB7DQogICAgICAgIHZhciByID0gMCwNCiAgICAg
ICAgICAgIGkgPSAwOw0KICAgICAgICBpZiAobi5jaGFyZ2UgPSAwLCAhbi5sZWFm
KQ0KICAgICAgICAgICAgZm9yICh2YXIgdSwgbyA9IG4ubm9kZXMsIGEgPSBvLmxl
bmd0aCwgbCA9IC0xOyArK2wgPCBhOykgdSA9IG9bbF0sIG51bGwgIT0gdSAmJiAo
cmkodSwgdCwgZSksIG4uY2hhcmdlICs9IHUuY2hhcmdlLCByICs9IHUuY2hhcmdl
ICogdS5jeCwgaSArPSB1LmNoYXJnZSAqIHUuY3kpOw0KICAgICAgICBpZiAobi5w
b2ludCkgew0KICAgICAgICAgICAgbi5sZWFmIHx8IChuLnBvaW50LnggKz0gTWF0
aC5yYW5kb20oKSAtIC41LCBuLnBvaW50LnkgKz0gTWF0aC5yYW5kb20oKSAtIC41
KTsNCiAgICAgICAgICAgIHZhciBjID0gdCAqIGVbbi5wb2ludC5pbmRleF07DQog
ICAgICAgICAgICBuLmNoYXJnZSArPSBuLnBvaW50Q2hhcmdlID0gYywgciArPSBj
ICogbi5wb2ludC54LCBpICs9IGMgKiBuLnBvaW50LnkNCiAgICAgICAgfQ0KICAg
ICAgICBuLmN4ID0gciAvIG4uY2hhcmdlLCBuLmN5ID0gaSAvIG4uY2hhcmdlDQog
ICAgfQ0KDQogICAgZnVuY3Rpb24gaWkobiwgdCkgew0KICAgICAgICByZXR1cm4g
YW8ucmViaW5kKG4sIHQsICJzb3J0IiwgImNoaWxkcmVuIiwgInZhbHVlIiksIG4u
bm9kZXMgPSBuLCBuLmxpbmtzID0gZmksIG4NCiAgICB9DQoNCiAgICBmdW5jdGlv
biB1aShuLCB0KSB7DQogICAgICAgIGZvciAodmFyIGUgPSBbbl07IG51bGwgIT0g
KG4gPSBlLnBvcCgpKTspDQogICAgICAgICAgICBpZiAodChuKSwgKGkgPSBuLmNo
aWxkcmVuKSAmJiAociA9IGkubGVuZ3RoKSkNCiAgICAgICAgICAgICAgICBmb3Ig
KHZhciByLCBpOyAtLXIgPj0gMDspIGUucHVzaChpW3JdKQ0KICAgIH0NCg0KICAg
IGZ1bmN0aW9uIG9pKG4sIHQpIHsNCiAgICAgICAgZm9yICh2YXIgZSA9IFtuXSwg
ciA9IFtdOyBudWxsICE9IChuID0gZS5wb3AoKSk7KQ0KICAgICAgICAgICAgaWYg
KHIucHVzaChuKSwgKHUgPSBuLmNoaWxkcmVuKSAmJiAoaSA9IHUubGVuZ3RoKSkN
CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpLCB1LCBvID0gLTE7ICsrbyA8IGk7
KSBlLnB1c2godVtvXSk7DQogICAgICAgIGZvciAoOyBudWxsICE9IChuID0gci5w
b3AoKSk7KSB0KG4pDQogICAgfQ0KDQogICAgZnVuY3Rpb24gYWkobikgew0KICAg
ICAgICByZXR1cm4gbi5jaGlsZHJlbg0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGxp
KG4pIHsNCiAgICAgICAgcmV0dXJuIG4udmFsdWUNCiAgICB9DQoNCiAgICBmdW5j
dGlvbiBjaShuLCB0KSB7DQogICAgICAgIHJldHVybiB0LnZhbHVlIC0gbi52YWx1
ZQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGZpKG4pIHsNCiAgICAgICAgcmV0dXJu
IGFvLm1lcmdlKG4ubWFwKGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHJldHVy
biAobi5jaGlsZHJlbiB8fCBbXSkubWFwKGZ1bmN0aW9uKHQpIHsNCiAgICAgICAg
ICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IG4s
DQogICAgICAgICAgICAgICAgICAgIHRhcmdldDogdA0KICAgICAgICAgICAgICAg
IH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0pKQ0KICAgIH0NCg0KICAgIGZ1
bmN0aW9uIHNpKG4pIHsNCiAgICAgICAgcmV0dXJuIG4ueA0KICAgIH0NCg0KICAg
IGZ1bmN0aW9uIGhpKG4pIHsNCiAgICAgICAgcmV0dXJuIG4ueQ0KICAgIH0NCg0K
ICAgIGZ1bmN0aW9uIHBpKG4sIHQsIGUpIHsNCiAgICAgICAgbi55MCA9IHQsIG4u
eSA9IGUNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBnaShuKSB7DQogICAgICAgIHJl
dHVybiBhby5yYW5nZShuLmxlbmd0aCkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB2
aShuKSB7DQogICAgICAgIGZvciAodmFyIHQgPSAtMSwgZSA9IG5bMF0ubGVuZ3Ro
LCByID0gW107ICsrdCA8IGU7KSByW3RdID0gMDsNCiAgICAgICAgcmV0dXJuIHIN
CiAgICB9DQoNCiAgICBmdW5jdGlvbiBkaShuKSB7DQogICAgICAgIGZvciAodmFy
IHQsIGUgPSAxLCByID0gMCwgaSA9IG5bMF1bMV0sIHUgPSBuLmxlbmd0aDsgdSA+
IGU7ICsrZSkodCA9IG5bZV1bMV0pID4gaSAmJiAociA9IGUsIGkgPSB0KTsNCiAg
ICAgICAgcmV0dXJuIHINCiAgICB9DQoNCiAgICBmdW5jdGlvbiB5aShuKSB7DQog
ICAgICAgIHJldHVybiBuLnJlZHVjZShtaSwgMCkNCiAgICB9DQoNCiAgICBmdW5j
dGlvbiBtaShuLCB0KSB7DQogICAgICAgIHJldHVybiBuICsgdFsxXQ0KICAgIH0N
Cg0KICAgIGZ1bmN0aW9uIE1pKG4sIHQpIHsNCiAgICAgICAgcmV0dXJuIHhpKG4s
IE1hdGguY2VpbChNYXRoLmxvZyh0Lmxlbmd0aCkgLyBNYXRoLkxOMiArIDEpKQ0K
ICAgIH0NCg0KICAgIGZ1bmN0aW9uIHhpKG4sIHQpIHsNCiAgICAgICAgZm9yICh2
YXIgZSA9IC0xLCByID0gK25bMF0sIGkgPSAoblsxXSAtIHIpIC8gdCwgdSA9IFtd
OyArK2UgPD0gdDspIHVbZV0gPSBpICogZSArIHI7DQogICAgICAgIHJldHVybiB1
DQogICAgfQ0KDQogICAgZnVuY3Rpb24gYmkobikgew0KICAgICAgICByZXR1cm4g
W2FvLm1pbihuKSwgYW8ubWF4KG4pXQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIF9p
KG4sIHQpIHsNCiAgICAgICAgcmV0dXJuIG4udmFsdWUgLSB0LnZhbHVlDQogICAg
fQ0KDQogICAgZnVuY3Rpb24gd2kobiwgdCkgew0KICAgICAgICB2YXIgZSA9IG4u
X3BhY2tfbmV4dDsNCiAgICAgICAgbi5fcGFja19uZXh0ID0gdCwgdC5fcGFja19w
cmV2ID0gbiwgdC5fcGFja19uZXh0ID0gZSwgZS5fcGFja19wcmV2ID0gdA0KICAg
IH0NCg0KICAgIGZ1bmN0aW9uIFNpKG4sIHQpIHsNCiAgICAgICAgbi5fcGFja19u
ZXh0ID0gdCwgdC5fcGFja19wcmV2ID0gbg0KICAgIH0NCg0KICAgIGZ1bmN0aW9u
IGtpKG4sIHQpIHsNCiAgICAgICAgdmFyIGUgPSB0LnggLSBuLngsDQogICAgICAg
ICAgICByID0gdC55IC0gbi55LA0KICAgICAgICAgICAgaSA9IG4uciArIHQucjsN
CiAgICAgICAgcmV0dXJuIC45OTkgKiBpICogaSA+IGUgKiBlICsgciAqIHINCiAg
ICB9DQoNCiAgICBmdW5jdGlvbiBOaShuKSB7DQogICAgICAgIGZ1bmN0aW9uIHQo
bikgew0KICAgICAgICAgICAgZiA9IE1hdGgubWluKG4ueCAtIG4uciwgZiksIHMg
PSBNYXRoLm1heChuLnggKyBuLnIsIHMpLCBoID0gTWF0aC5taW4obi55IC0gbi5y
LCBoKSwgcCA9IE1hdGgubWF4KG4ueSArIG4uciwgcCkNCiAgICAgICAgfQ0KICAg
ICAgICBpZiAoKGUgPSBuLmNoaWxkcmVuKSAmJiAoYyA9IGUubGVuZ3RoKSkgew0K
ICAgICAgICAgICAgdmFyIGUsIHIsIGksIHUsIG8sIGEsIGwsIGMsIGYgPSAxIC8g
MCwNCiAgICAgICAgICAgICAgICBzID0gLSgxIC8gMCksDQogICAgICAgICAgICAg
ICAgaCA9IDEgLyAwLA0KICAgICAgICAgICAgICAgIHAgPSAtKDEgLyAwKTsNCiAg
ICAgICAgICAgIGlmIChlLmZvckVhY2goRWkpLCByID0gZVswXSwgci54ID0gLXIu
ciwgci55ID0gMCwgdChyKSwgYyA+IDEgJiYgKGkgPSBlWzFdLCBpLnggPSBpLnIs
IGkueSA9IDAsIHQoaSksIGMgPiAyKSkNCiAgICAgICAgICAgICAgICBmb3IgKHUg
PSBlWzJdLCB6aShyLCBpLCB1KSwgdCh1KSwgd2kociwgdSksIHIuX3BhY2tfcHJl
diA9IHUsIHdpKHUsIGkpLCBpID0gci5fcGFja19uZXh0LCBvID0gMzsgYyA+IG87
IG8rKykgew0KICAgICAgICAgICAgICAgICAgICB6aShyLCBpLCB1ID0gZVtvXSk7
DQogICAgICAgICAgICAgICAgICAgIHZhciBnID0gMCwNCiAgICAgICAgICAgICAg
ICAgICAgICAgIHYgPSAxLA0KICAgICAgICAgICAgICAgICAgICAgICAgZCA9IDE7
DQogICAgICAgICAgICAgICAgICAgIGZvciAoYSA9IGkuX3BhY2tfbmV4dDsgYSAh
PT0gaTsgYSA9IGEuX3BhY2tfbmV4dCwgdisrKQ0KICAgICAgICAgICAgICAgICAg
ICAgICAgaWYgKGtpKGEsIHUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgZyA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAg
ICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYg
KDEgPT0gZykNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobCA9IHIuX3Bh
Y2tfcHJldjsgbCAhPT0gYS5fcGFja19wcmV2ICYmICFraShsLCB1KTsgbCA9IGwu
X3BhY2tfcHJldiwgZCsrKTsNCiAgICAgICAgICAgICAgICAgICAgZyA/IChkID4g
diB8fCB2ID09IGQgJiYgaS5yIDwgci5yID8gU2kociwgaSA9IGEpIDogU2kociA9
IGwsIGkpLCBvLS0pIDogKHdpKHIsIHUpLCBpID0gdSwgdCh1KSkNCiAgICAgICAg
ICAgICAgICB9DQogICAgICAgICAgICB2YXIgeSA9IChmICsgcykgLyAyLA0KICAg
ICAgICAgICAgICAgIG0gPSAoaCArIHApIC8gMiwNCiAgICAgICAgICAgICAgICBN
ID0gMDsNCiAgICAgICAgICAgIGZvciAobyA9IDA7IGMgPiBvOyBvKyspIHUgPSBl
W29dLCB1LnggLT0geSwgdS55IC09IG0sIE0gPSBNYXRoLm1heChNLCB1LnIgKyBN
YXRoLnNxcnQodS54ICogdS54ICsgdS55ICogdS55KSk7DQogICAgICAgICAgICBu
LnIgPSBNLCBlLmZvckVhY2goQWkpDQogICAgICAgIH0NCiAgICB9DQoNCiAgICBm
dW5jdGlvbiBFaShuKSB7DQogICAgICAgIG4uX3BhY2tfbmV4dCA9IG4uX3BhY2tf
cHJldiA9IG4NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBBaShuKSB7DQogICAgICAg
IGRlbGV0ZSBuLl9wYWNrX25leHQsIGRlbGV0ZSBuLl9wYWNrX3ByZXYNCiAgICB9
DQoNCiAgICBmdW5jdGlvbiBDaShuLCB0LCBlLCByKSB7DQogICAgICAgIHZhciBp
ID0gbi5jaGlsZHJlbjsNCiAgICAgICAgaWYgKG4ueCA9IHQgKz0gciAqIG4ueCwg
bi55ID0gZSArPSByICogbi55LCBuLnIgKj0gciwgaSkNCiAgICAgICAgICAgIGZv
ciAodmFyIHUgPSAtMSwgbyA9IGkubGVuZ3RoOyArK3UgPCBvOykgQ2koaVt1XSwg
dCwgZSwgcikNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB6aShuLCB0LCBlKSB7DQog
ICAgICAgIHZhciByID0gbi5yICsgZS5yLA0KICAgICAgICAgICAgaSA9IHQueCAt
IG4ueCwNCiAgICAgICAgICAgIHUgPSB0LnkgLSBuLnk7DQogICAgICAgIGlmIChy
ICYmIChpIHx8IHUpKSB7DQogICAgICAgICAgICB2YXIgbyA9IHQuciArIGUuciwN
CiAgICAgICAgICAgICAgICBhID0gaSAqIGkgKyB1ICogdTsNCiAgICAgICAgICAg
IG8gKj0gbywgciAqPSByOw0KICAgICAgICAgICAgdmFyIGwgPSAuNSArIChyIC0g
bykgLyAoMiAqIGEpLA0KICAgICAgICAgICAgICAgIGMgPSBNYXRoLnNxcnQoTWF0
aC5tYXgoMCwgMiAqIG8gKiAociArIGEpIC0gKHIgLT0gYSkgKiByIC0gbyAqIG8p
KSAvICgyICogYSk7DQogICAgICAgICAgICBlLnggPSBuLnggKyBsICogaSArIGMg
KiB1LCBlLnkgPSBuLnkgKyBsICogdSAtIGMgKiBpDQogICAgICAgIH0gZWxzZSBl
LnggPSBuLnggKyByLCBlLnkgPSBuLnkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBM
aShuLCB0KSB7DQogICAgICAgIHJldHVybiBuLnBhcmVudCA9PSB0LnBhcmVudCA/
IDEgOiAyDQogICAgfQ0KDQogICAgZnVuY3Rpb24gcWkobikgew0KICAgICAgICB2
YXIgdCA9IG4uY2hpbGRyZW47DQogICAgICAgIHJldHVybiB0Lmxlbmd0aCA/IHRb
MF0gOiBuLnQNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBUaShuKSB7DQogICAgICAg
IHZhciB0LCBlID0gbi5jaGlsZHJlbjsNCiAgICAgICAgcmV0dXJuICh0ID0gZS5s
ZW5ndGgpID8gZVt0IC0gMV0gOiBuLnQNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBS
aShuLCB0LCBlKSB7DQogICAgICAgIHZhciByID0gZSAvICh0LmkgLSBuLmkpOw0K
ICAgICAgICB0LmMgLT0gciwgdC5zICs9IGUsIG4uYyArPSByLCB0LnogKz0gZSwg
dC5tICs9IGUNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBEaShuKSB7DQogICAgICAg
IGZvciAodmFyIHQsIGUgPSAwLCByID0gMCwgaSA9IG4uY2hpbGRyZW4sIHUgPSBp
Lmxlbmd0aDsgLS11ID49IDA7KSB0ID0gaVt1XSwgdC56ICs9IGUsIHQubSArPSBl
LCBlICs9IHQucyArIChyICs9IHQuYykNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBQ
aShuLCB0LCBlKSB7DQogICAgICAgIHJldHVybiBuLmEucGFyZW50ID09PSB0LnBh
cmVudCA/IG4uYSA6IGUNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBVaShuKSB7DQog
ICAgICAgIHJldHVybiAxICsgYW8ubWF4KG4sIGZ1bmN0aW9uKG4pIHsNCiAgICAg
ICAgICAgIHJldHVybiBuLnkNCiAgICAgICAgfSkNCiAgICB9DQoNCiAgICBmdW5j
dGlvbiBqaShuKSB7DQogICAgICAgIHJldHVybiBuLnJlZHVjZShmdW5jdGlvbihu
LCB0KSB7DQogICAgICAgICAgICByZXR1cm4gbiArIHQueA0KICAgICAgICB9LCAw
KSAvIG4ubGVuZ3RoDQogICAgfQ0KDQogICAgZnVuY3Rpb24gRmkobikgew0KICAg
ICAgICB2YXIgdCA9IG4uY2hpbGRyZW47DQogICAgICAgIHJldHVybiB0ICYmIHQu
bGVuZ3RoID8gRmkodFswXSkgOiBuDQogICAgfQ0KDQogICAgZnVuY3Rpb24gSGko
bikgew0KICAgICAgICB2YXIgdCwgZSA9IG4uY2hpbGRyZW47DQogICAgICAgIHJl
dHVybiBlICYmICh0ID0gZS5sZW5ndGgpID8gSGkoZVt0IC0gMV0pIDogbg0KICAg
IH0NCg0KICAgIGZ1bmN0aW9uIE9pKG4pIHsNCiAgICAgICAgcmV0dXJuIHsNCiAg
ICAgICAgICAgIHg6IG4ueCwNCiAgICAgICAgICAgIHk6IG4ueSwNCiAgICAgICAg
ICAgIGR4OiBuLmR4LA0KICAgICAgICAgICAgZHk6IG4uZHkNCiAgICAgICAgfQ0K
ICAgIH0NCg0KICAgIGZ1bmN0aW9uIElpKG4sIHQpIHsNCiAgICAgICAgdmFyIGUg
PSBuLnggKyB0WzNdLA0KICAgICAgICAgICAgciA9IG4ueSArIHRbMF0sDQogICAg
ICAgICAgICBpID0gbi5keCAtIHRbMV0gLSB0WzNdLA0KICAgICAgICAgICAgdSA9
IG4uZHkgLSB0WzBdIC0gdFsyXTsNCiAgICAgICAgcmV0dXJuIDAgPiBpICYmIChl
ICs9IGkgLyAyLCBpID0gMCksIDAgPiB1ICYmIChyICs9IHUgLyAyLCB1ID0gMCks
IHsNCiAgICAgICAgICAgIHg6IGUsDQogICAgICAgICAgICB5OiByLA0KICAgICAg
ICAgICAgZHg6IGksDQogICAgICAgICAgICBkeTogdQ0KICAgICAgICB9DQogICAg
fQ0KDQogICAgZnVuY3Rpb24gWWkobikgew0KICAgICAgICB2YXIgdCA9IG5bMF0s
DQogICAgICAgICAgICBlID0gbltuLmxlbmd0aCAtIDFdOw0KICAgICAgICByZXR1
cm4gZSA+IHQgPyBbdCwgZV0gOiBbZSwgdF0NCiAgICB9DQoNCiAgICBmdW5jdGlv
biBaaShuKSB7DQogICAgICAgIHJldHVybiBuLnJhbmdlRXh0ZW50ID8gbi5yYW5n
ZUV4dGVudCgpIDogWWkobi5yYW5nZSgpKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9u
IFZpKG4sIHQsIGUsIHIpIHsNCiAgICAgICAgdmFyIGkgPSBlKG5bMF0sIG5bMV0p
LA0KICAgICAgICAgICAgdSA9IHIodFswXSwgdFsxXSk7DQogICAgICAgIHJldHVy
biBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICByZXR1cm4gdShpKG4pKQ0KICAg
ICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gWGkobiwgdCkgew0KICAgICAg
ICB2YXIgZSwgciA9IDAsDQogICAgICAgICAgICBpID0gbi5sZW5ndGggLSAxLA0K
ICAgICAgICAgICAgdSA9IG5bcl0sDQogICAgICAgICAgICBvID0gbltpXTsNCiAg
ICAgICAgcmV0dXJuIHUgPiBvICYmIChlID0gciwgciA9IGksIGkgPSBlLCBlID0g
dSwgdSA9IG8sIG8gPSBlKSwgbltyXSA9IHQuZmxvb3IodSksIG5baV0gPSB0LmNl
aWwobyksIG4NCiAgICB9DQoNCiAgICBmdW5jdGlvbiAkaShuKSB7DQogICAgICAg
IHJldHVybiBuID8gew0KICAgICAgICAgICAgZmxvb3I6IGZ1bmN0aW9uKHQpIHsN
CiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih0IC8gbikgKiBuDQog
ICAgICAgICAgICB9LA0KICAgICAgICAgICAgY2VpbDogZnVuY3Rpb24odCkgew0K
ICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwodCAvIG4pICogbg0KICAg
ICAgICAgICAgfQ0KICAgICAgICB9IDogU2wNCiAgICB9DQoNCiAgICBmdW5jdGlv
biBCaShuLCB0LCBlLCByKSB7DQogICAgICAgIHZhciBpID0gW10sDQogICAgICAg
ICAgICB1ID0gW10sDQogICAgICAgICAgICBvID0gMCwNCiAgICAgICAgICAgIGEg
PSBNYXRoLm1pbihuLmxlbmd0aCwgdC5sZW5ndGgpIC0gMTsNCiAgICAgICAgZm9y
IChuW2FdIDwgblswXSAmJiAobiA9IG4uc2xpY2UoKS5yZXZlcnNlKCksIHQgPSB0
LnNsaWNlKCkucmV2ZXJzZSgpKTsgKytvIDw9IGE7KSBpLnB1c2goZShuW28gLSAx
XSwgbltvXSkpLCB1LnB1c2gocih0W28gLSAxXSwgdFtvXSkpOw0KICAgICAgICBy
ZXR1cm4gZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgdmFyIGUgPSBhby5iaXNl
Y3QobiwgdCwgMSwgYSkgLSAxOw0KICAgICAgICAgICAgcmV0dXJuIHVbZV0oaVtl
XSh0KSkNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIFdpKG4sIHQs
IGUsIHIpIHsNCiAgICAgICAgZnVuY3Rpb24gaSgpIHsNCiAgICAgICAgICAgIHZh
ciBpID0gTWF0aC5taW4obi5sZW5ndGgsIHQubGVuZ3RoKSA+IDIgPyBCaSA6IFZp
LA0KICAgICAgICAgICAgICAgIGwgPSByID8gV3IgOiBCcjsNCiAgICAgICAgICAg
IHJldHVybiBvID0gaShuLCB0LCBsLCBlKSwgYSA9IGkodCwgbiwgbCwgTXIpLCB1
DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiB1KG4pIHsNCiAgICAgICAg
ICAgIHJldHVybiBvKG4pDQogICAgICAgIH0NCiAgICAgICAgdmFyIG8sIGE7DQog
ICAgICAgIHJldHVybiB1LmludmVydCA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAg
ICAgIHJldHVybiBhKG4pDQogICAgICAgIH0sIHUuZG9tYWluID0gZnVuY3Rpb24o
dCkgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAobiA9
IHQubWFwKE51bWJlciksIGkoKSkgOiBuDQogICAgICAgIH0sIHUucmFuZ2UgPSBm
dW5jdGlvbihuKSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0
aCA/ICh0ID0gbiwgaSgpKSA6IHQNCiAgICAgICAgfSwgdS5yYW5nZVJvdW5kID0g
ZnVuY3Rpb24obikgew0KICAgICAgICAgICAgcmV0dXJuIHUucmFuZ2UobikuaW50
ZXJwb2xhdGUoVXIpDQogICAgICAgIH0sIHUuY2xhbXAgPSBmdW5jdGlvbihuKSB7
DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChyID0gbiwg
aSgpKSA6IHINCiAgICAgICAgfSwgdS5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uKG4p
IHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGUgPSBu
LCBpKCkpIDogZQ0KICAgICAgICB9LCB1LnRpY2tzID0gZnVuY3Rpb24odCkgew0K
ICAgICAgICAgICAgcmV0dXJuIFFpKG4sIHQpDQogICAgICAgIH0sIHUudGlja0Zv
cm1hdCA9IGZ1bmN0aW9uKHQsIGUpIHsNCiAgICAgICAgICAgIHJldHVybiBudShu
LCB0LCBlKQ0KICAgICAgICB9LCB1Lm5pY2UgPSBmdW5jdGlvbih0KSB7DQogICAg
ICAgICAgICByZXR1cm4gR2kobiwgdCksIGkoKQ0KICAgICAgICB9LCB1LmNvcHkg
PSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiBXaShuLCB0LCBlLCBy
KQ0KICAgICAgICB9LCBpKCkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBKaShuLCB0
KSB7DQogICAgICAgIHJldHVybiBhby5yZWJpbmQobiwgdCwgInJhbmdlIiwgInJh
bmdlUm91bmQiLCAiaW50ZXJwb2xhdGUiLCAiY2xhbXAiKQ0KICAgIH0NCg0KICAg
IGZ1bmN0aW9uIEdpKG4sIHQpIHsNCiAgICAgICAgcmV0dXJuIFhpKG4sICRpKEtp
KG4sIHQpWzJdKSksIFhpKG4sICRpKEtpKG4sIHQpWzJdKSksIG4NCiAgICB9DQoN
CiAgICBmdW5jdGlvbiBLaShuLCB0KSB7DQogICAgICAgIG51bGwgPT0gdCAmJiAo
dCA9IDEwKTsNCiAgICAgICAgdmFyIGUgPSBZaShuKSwNCiAgICAgICAgICAgIHIg
PSBlWzFdIC0gZVswXSwNCiAgICAgICAgICAgIGkgPSBNYXRoLnBvdygxMCwgTWF0
aC5mbG9vcihNYXRoLmxvZyhyIC8gdCkgLyBNYXRoLkxOMTApKSwNCiAgICAgICAg
ICAgIHUgPSB0IC8gciAqIGk7DQogICAgICAgIHJldHVybiAuMTUgPj0gdSA/IGkg
Kj0gMTAgOiAuMzUgPj0gdSA/IGkgKj0gNSA6IC43NSA+PSB1ICYmIChpICo9IDIp
LCBlWzBdID0gTWF0aC5jZWlsKGVbMF0gLyBpKSAqIGksIGVbMV0gPSBNYXRoLmZs
b29yKGVbMV0gLyBpKSAqIGkgKyAuNSAqIGksIGVbMl0gPSBpLCBlDQogICAgfQ0K
DQogICAgZnVuY3Rpb24gUWkobiwgdCkgew0KICAgICAgICByZXR1cm4gYW8ucmFu
Z2UuYXBwbHkoYW8sIEtpKG4sIHQpKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIG51
KG4sIHQsIGUpIHsNCiAgICAgICAgdmFyIHIgPSBLaShuLCB0KTsNCiAgICAgICAg
aWYgKGUpIHsNCiAgICAgICAgICAgIHZhciBpID0gaGEuZXhlYyhlKTsNCiAgICAg
ICAgICAgIGlmIChpLnNoaWZ0KCksICJzIiA9PT0gaVs4XSkgew0KICAgICAgICAg
ICAgICAgIHZhciB1ID0gYW8uZm9ybWF0UHJlZml4KE1hdGgubWF4KHhvKHJbMF0p
LCB4byhyWzFdKSkpOw0KICAgICAgICAgICAgICAgIHJldHVybiBpWzddIHx8IChp
WzddID0gIi4iICsgdHUodS5zY2FsZShyWzJdKSkpLCBpWzhdID0gImYiLCBlID0g
YW8uZm9ybWF0KGkuam9pbigiIikpLA0KICAgICAgICAgICAgICAgICAgICBmdW5j
dGlvbihuKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZSh1LnNj
YWxlKG4pKSArIHUuc3ltYm9sDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAg
ICAgICAgIH0NCiAgICAgICAgICAgIGlbN10gfHwgKGlbN10gPSAiLiIgKyBldShp
WzhdLCByKSksIGUgPSBpLmpvaW4oIiIpDQogICAgICAgIH0gZWxzZSBlID0gIiwu
IiArIHR1KHJbMl0pICsgImYiOw0KICAgICAgICByZXR1cm4gYW8uZm9ybWF0KGUp
DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdHUobikgew0KICAgICAgICByZXR1cm4g
LU1hdGguZmxvb3IoTWF0aC5sb2cobikgLyBNYXRoLkxOMTAgKyAuMDEpDQogICAg
fQ0KDQogICAgZnVuY3Rpb24gZXUobiwgdCkgew0KICAgICAgICB2YXIgZSA9IHR1
KHRbMl0pOw0KICAgICAgICByZXR1cm4gbiBpbiBrbCA/IE1hdGguYWJzKGUgLSB0
dShNYXRoLm1heCh4byh0WzBdKSwgeG8odFsxXSkpKSkgKyArKCJlIiAhPT0gbikg
OiBlIC0gMiAqICgiJSIgPT09IG4pDQogICAgfQ0KDQogICAgZnVuY3Rpb24gcnUo
biwgdCwgZSwgcikgew0KICAgICAgICBmdW5jdGlvbiBpKG4pIHsNCiAgICAgICAg
ICAgIHJldHVybiAoZSA/IE1hdGgubG9nKDAgPiBuID8gMCA6IG4pIDogLU1hdGgu
bG9nKG4gPiAwID8gMCA6IC1uKSkgLyBNYXRoLmxvZyh0KQ0KICAgICAgICB9DQoN
CiAgICAgICAgZnVuY3Rpb24gdShuKSB7DQogICAgICAgICAgICByZXR1cm4gZSA/
IE1hdGgucG93KHQsIG4pIDogLU1hdGgucG93KHQsIC1uKQ0KICAgICAgICB9DQoN
CiAgICAgICAgZnVuY3Rpb24gbyh0KSB7DQogICAgICAgICAgICByZXR1cm4gbihp
KHQpKQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBvLmludmVydCA9IGZ1bmN0
aW9uKHQpIHsNCiAgICAgICAgICAgIHJldHVybiB1KG4uaW52ZXJ0KHQpKQ0KICAg
ICAgICB9LCBvLmRvbWFpbiA9IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgIHJl
dHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGUgPSB0WzBdID49IDAsIG4uZG9tYWlu
KChyID0gdC5tYXAoTnVtYmVyKSkubWFwKGkpKSwgbykgOiByDQogICAgICAgIH0s
IG8uYmFzZSA9IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1
bWVudHMubGVuZ3RoID8gKHQgPSArZSwgbi5kb21haW4oci5tYXAoaSkpLCBvKSA6
IHQNCiAgICAgICAgfSwgby5uaWNlID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAg
ICB2YXIgdCA9IFhpKHIubWFwKGkpLCBlID8gTWF0aCA6IEVsKTsNCiAgICAgICAg
ICAgIHJldHVybiBuLmRvbWFpbih0KSwgciA9IHQubWFwKHUpLCBvDQogICAgICAg
IH0sIG8udGlja3MgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciBuID0g
WWkociksDQogICAgICAgICAgICAgICAgbyA9IFtdLA0KICAgICAgICAgICAgICAg
IGEgPSBuWzBdLA0KICAgICAgICAgICAgICAgIGwgPSBuWzFdLA0KICAgICAgICAg
ICAgICAgIGMgPSBNYXRoLmZsb29yKGkoYSkpLA0KICAgICAgICAgICAgICAgIGYg
PSBNYXRoLmNlaWwoaShsKSksDQogICAgICAgICAgICAgICAgcyA9IHQgJSAxID8g
MiA6IHQ7DQogICAgICAgICAgICBpZiAoaXNGaW5pdGUoZiAtIGMpKSB7DQogICAg
ICAgICAgICAgICAgaWYgKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yICg7
IGYgPiBjOyBjKyspDQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBo
ID0gMTsgcyA+IGg7IGgrKykgby5wdXNoKHUoYykgKiBoKTsNCiAgICAgICAgICAg
ICAgICAgICAgby5wdXNoKHUoYykpDQogICAgICAgICAgICAgICAgfSBlbHNlDQog
ICAgICAgICAgICAgICAgICAgIGZvciAoby5wdXNoKHUoYykpOyBjKysgPCBmOykN
CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGggPSBzIC0gMTsgaCA+
IDA7IGgtLSkgby5wdXNoKHUoYykgKiBoKTsNCiAgICAgICAgICAgICAgICBmb3Ig
KGMgPSAwOyBvW2NdIDwgYTsgYysrKTsNCiAgICAgICAgICAgICAgICBmb3IgKGYg
PSBvLmxlbmd0aDsgb1tmIC0gMV0gPiBsOyBmLS0pOw0KICAgICAgICAgICAgICAg
IG8gPSBvLnNsaWNlKGMsIGYpDQogICAgICAgICAgICB9DQogICAgICAgICAgICBy
ZXR1cm4gbw0KICAgICAgICB9LCBvLnRpY2tGb3JtYXQgPSBmdW5jdGlvbihuLCBl
KSB7DQogICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBO
bDsNCiAgICAgICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZSA9IE5sIDog
ImZ1bmN0aW9uIiAhPSB0eXBlb2YgZSAmJiAoZSA9IGFvLmZvcm1hdChlKSk7DQog
ICAgICAgICAgICB2YXIgciA9IE1hdGgubWF4KDEsIHQgKiBuIC8gby50aWNrcygp
Lmxlbmd0aCk7DQogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24obikgew0KICAg
ICAgICAgICAgICAgIHZhciBvID0gbiAvIHUoTWF0aC5yb3VuZChpKG4pKSk7DQog
ICAgICAgICAgICAgICAgcmV0dXJuIHQgLSAuNSA+IG8gKiB0ICYmIChvICo9IHQp
LCByID49IG8gPyBlKG4pIDogIiINCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwg
by5jb3B5ID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICByZXR1cm4gcnUobi5j
b3B5KCksIHQsIGUsIHIpDQogICAgICAgIH0sIEppKG8sIG4pDQogICAgfQ0KDQog
ICAgZnVuY3Rpb24gaXUobiwgdCwgZSkgew0KICAgICAgICBmdW5jdGlvbiByKHQp
IHsNCiAgICAgICAgICAgIHJldHVybiBuKGkodCkpDQogICAgICAgIH0NCiAgICAg
ICAgdmFyIGkgPSB1dSh0KSwNCiAgICAgICAgICAgIHUgPSB1dSgxIC8gdCk7DQog
ICAgICAgIHJldHVybiByLmludmVydCA9IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAg
ICAgIHJldHVybiB1KG4uaW52ZXJ0KHQpKQ0KICAgICAgICB9LCByLmRvbWFpbiA9
IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVu
Z3RoID8gKG4uZG9tYWluKChlID0gdC5tYXAoTnVtYmVyKSkubWFwKGkpKSwgcikg
OiBlDQogICAgICAgIH0sIHIudGlja3MgPSBmdW5jdGlvbihuKSB7DQogICAgICAg
ICAgICByZXR1cm4gUWkoZSwgbikNCiAgICAgICAgfSwgci50aWNrRm9ybWF0ID0g
ZnVuY3Rpb24obiwgdCkgew0KICAgICAgICAgICAgcmV0dXJuIG51KGUsIG4sIHQp
DQogICAgICAgIH0sIHIubmljZSA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAg
IHJldHVybiByLmRvbWFpbihHaShlLCBuKSkNCiAgICAgICAgfSwgci5leHBvbmVu
dCA9IGZ1bmN0aW9uKG8pIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMu
bGVuZ3RoID8gKGkgPSB1dSh0ID0gbyksIHUgPSB1dSgxIC8gdCksIG4uZG9tYWlu
KGUubWFwKGkpKSwgcikgOiB0DQogICAgICAgIH0sIHIuY29weSA9IGZ1bmN0aW9u
KCkgew0KICAgICAgICAgICAgcmV0dXJuIGl1KG4uY29weSgpLCB0LCBlKQ0KICAg
ICAgICB9LCBKaShyLCBuKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHV1KG4pIHsN
CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgIHJldHVy
biAwID4gdCA/IC1NYXRoLnBvdygtdCwgbikgOiBNYXRoLnBvdyh0LCBuKQ0KICAg
ICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gb3UobiwgdCkgew0KICAgICAg
ICBmdW5jdGlvbiBlKGUpIHsNCiAgICAgICAgICAgIHJldHVybiB1WygoaS5nZXQo
ZSkgfHwgKCJyYW5nZSIgPT09IHQudCA/IGkuc2V0KGUsIG4ucHVzaChlKSkgOiBO
YU4pKSAtIDEpICUgdS5sZW5ndGhdDQogICAgICAgIH0NCg0KICAgICAgICBmdW5j
dGlvbiByKHQsIGUpIHsNCiAgICAgICAgICAgIHJldHVybiBhby5yYW5nZShuLmxl
bmd0aCkubWFwKGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgICAgICByZXR1cm4g
dCArIGUgKiBuDQogICAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICAgIHZh
ciBpLCB1LCBvOw0KICAgICAgICByZXR1cm4gZS5kb21haW4gPSBmdW5jdGlvbihy
KSB7DQogICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBu
Ow0KICAgICAgICAgICAgbiA9IFtdLCBpID0gbmV3IGM7DQogICAgICAgICAgICBm
b3IgKHZhciB1LCBvID0gLTEsIGEgPSByLmxlbmd0aDsgKytvIDwgYTspIGkuaGFz
KHUgPSByW29dKSB8fCBpLnNldCh1LCBuLnB1c2godSkpOw0KICAgICAgICAgICAg
cmV0dXJuIGVbdC50XS5hcHBseShlLCB0LmEpDQogICAgICAgIH0sIGUucmFuZ2Ug
PSBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxl
bmd0aCA/ICh1ID0gbiwgbyA9IDAsIHQgPSB7DQogICAgICAgICAgICAgICAgdDog
InJhbmdlIiwNCiAgICAgICAgICAgICAgICBhOiBhcmd1bWVudHMNCiAgICAgICAg
ICAgIH0sIGUpIDogdQ0KICAgICAgICB9LCBlLnJhbmdlUG9pbnRzID0gZnVuY3Rp
b24oaSwgYSkgew0KICAgICAgICAgICAgYXJndW1lbnRzLmxlbmd0aCA8IDIgJiYg
KGEgPSAwKTsNCiAgICAgICAgICAgIHZhciBsID0gaVswXSwNCiAgICAgICAgICAg
ICAgICBjID0gaVsxXSwNCiAgICAgICAgICAgICAgICBmID0gbi5sZW5ndGggPCAy
ID8gKGwgPSAobCArIGMpIC8gMiwgMCkgOiAoYyAtIGwpIC8gKG4ubGVuZ3RoIC0g
MSArIGEpOw0KICAgICAgICAgICAgcmV0dXJuIHUgPSByKGwgKyBmICogYSAvIDIs
IGYpLCBvID0gMCwgdCA9IHsNCiAgICAgICAgICAgICAgICB0OiAicmFuZ2VQb2lu
dHMiLA0KICAgICAgICAgICAgICAgIGE6IGFyZ3VtZW50cw0KICAgICAgICAgICAg
fSwgZQ0KICAgICAgICB9LCBlLnJhbmdlUm91bmRQb2ludHMgPSBmdW5jdGlvbihp
LCBhKSB7DQogICAgICAgICAgICBhcmd1bWVudHMubGVuZ3RoIDwgMiAmJiAoYSA9
IDApOw0KICAgICAgICAgICAgdmFyIGwgPSBpWzBdLA0KICAgICAgICAgICAgICAg
IGMgPSBpWzFdLA0KICAgICAgICAgICAgICAgIGYgPSBuLmxlbmd0aCA8IDIgPyAo
bCA9IGMgPSBNYXRoLnJvdW5kKChsICsgYykgLyAyKSwgMCkgOiAoYyAtIGwpIC8g
KG4ubGVuZ3RoIC0gMSArIGEpIHwgMDsNCiAgICAgICAgICAgIHJldHVybiB1ID0g
cihsICsgTWF0aC5yb3VuZChmICogYSAvIDIgKyAoYyAtIGwgLSAobi5sZW5ndGgg
LSAxICsgYSkgKiBmKSAvIDIpLCBmKSwgbyA9IDAsIHQgPSB7DQogICAgICAgICAg
ICAgICAgdDogInJhbmdlUm91bmRQb2ludHMiLA0KICAgICAgICAgICAgICAgIGE6
IGFyZ3VtZW50cw0KICAgICAgICAgICAgfSwgZQ0KICAgICAgICB9LCBlLnJhbmdl
QmFuZHMgPSBmdW5jdGlvbihpLCBhLCBsKSB7DQogICAgICAgICAgICBhcmd1bWVu
dHMubGVuZ3RoIDwgMiAmJiAoYSA9IDApLCBhcmd1bWVudHMubGVuZ3RoIDwgMyAm
JiAobCA9IGEpOw0KICAgICAgICAgICAgdmFyIGMgPSBpWzFdIDwgaVswXSwNCiAg
ICAgICAgICAgICAgICBmID0gaVtjIC0gMF0sDQogICAgICAgICAgICAgICAgcyA9
IGlbMSAtIGNdLA0KICAgICAgICAgICAgICAgIGggPSAocyAtIGYpIC8gKG4ubGVu
Z3RoIC0gYSArIDIgKiBsKTsNCiAgICAgICAgICAgIHJldHVybiB1ID0gcihmICsg
aCAqIGwsIGgpLCBjICYmIHUucmV2ZXJzZSgpLCBvID0gaCAqICgxIC0gYSksIHQg
PSB7DQogICAgICAgICAgICAgICAgdDogInJhbmdlQmFuZHMiLA0KICAgICAgICAg
ICAgICAgIGE6IGFyZ3VtZW50cw0KICAgICAgICAgICAgfSwgZQ0KICAgICAgICB9
LCBlLnJhbmdlUm91bmRCYW5kcyA9IGZ1bmN0aW9uKGksIGEsIGwpIHsNCiAgICAg
ICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPCAyICYmIChhID0gMCksIGFyZ3VtZW50
cy5sZW5ndGggPCAzICYmIChsID0gYSk7DQogICAgICAgICAgICB2YXIgYyA9IGlb
MV0gPCBpWzBdLA0KICAgICAgICAgICAgICAgIGYgPSBpW2MgLSAwXSwNCiAgICAg
ICAgICAgICAgICBzID0gaVsxIC0gY10sDQogICAgICAgICAgICAgICAgaCA9IE1h
dGguZmxvb3IoKHMgLSBmKSAvIChuLmxlbmd0aCAtIGEgKyAyICogbCkpOw0KICAg
ICAgICAgICAgcmV0dXJuIHUgPSByKGYgKyBNYXRoLnJvdW5kKChzIC0gZiAtIChu
Lmxlbmd0aCAtIGEpICogaCkgLyAyKSwgaCksIGMgJiYgdS5yZXZlcnNlKCksIG8g
PSBNYXRoLnJvdW5kKGggKiAoMSAtIGEpKSwgdCA9IHsNCiAgICAgICAgICAgICAg
ICB0OiAicmFuZ2VSb3VuZEJhbmRzIiwNCiAgICAgICAgICAgICAgICBhOiBhcmd1
bWVudHMNCiAgICAgICAgICAgIH0sIGUNCiAgICAgICAgfSwgZS5yYW5nZUJhbmQg
PSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiBvDQogICAgICAgIH0s
IGUucmFuZ2VFeHRlbnQgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVy
biBZaSh0LmFbMF0pDQogICAgICAgIH0sIGUuY29weSA9IGZ1bmN0aW9uKCkgew0K
ICAgICAgICAgICAgcmV0dXJuIG91KG4sIHQpDQogICAgICAgIH0sIGUuZG9tYWlu
KG4pDQogICAgfQ0KDQogICAgZnVuY3Rpb24gYXUobiwgdCkgew0KICAgICAgICBm
dW5jdGlvbiB1KCkgew0KICAgICAgICAgICAgdmFyIGUgPSAwLA0KICAgICAgICAg
ICAgICAgIHIgPSB0Lmxlbmd0aDsNCiAgICAgICAgICAgIGZvciAoYSA9IFtdOyAr
K2UgPCByOykgYVtlIC0gMV0gPSBhby5xdWFudGlsZShuLCBlIC8gcik7DQogICAg
ICAgICAgICByZXR1cm4gbw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24g
byhuKSB7DQogICAgICAgICAgICByZXR1cm4gaXNOYU4obiA9ICtuKSA/IHZvaWQg
MCA6IHRbYW8uYmlzZWN0KGEsIG4pXQ0KICAgICAgICB9DQogICAgICAgIHZhciBh
Ow0KICAgICAgICByZXR1cm4gby5kb21haW4gPSBmdW5jdGlvbih0KSB7DQogICAg
ICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChuID0gdC5tYXAociku
ZmlsdGVyKGkpLnNvcnQoZSksIHUoKSkgOiBuDQogICAgICAgIH0sIG8ucmFuZ2Ug
PSBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxl
bmd0aCA/ICh0ID0gbiwgdSgpKSA6IHQNCiAgICAgICAgfSwgby5xdWFudGlsZXMg
PSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiBhDQogICAgICAgIH0s
IG8uaW52ZXJ0RXh0ZW50ID0gZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgcmV0
dXJuIGUgPSB0LmluZGV4T2YoZSksIDAgPiBlID8gW05hTiwgTmFOXSA6IFtlID4g
MCA/IGFbZSAtIDFdIDogblswXSwgZSA8IGEubGVuZ3RoID8gYVtlXSA6IG5bbi5s
ZW5ndGggLSAxXV0NCiAgICAgICAgfSwgby5jb3B5ID0gZnVuY3Rpb24oKSB7DQog
ICAgICAgICAgICByZXR1cm4gYXUobiwgdCkNCiAgICAgICAgfSwgdSgpDQogICAg
fQ0KDQogICAgZnVuY3Rpb24gbHUobiwgdCwgZSkgew0KICAgICAgICBmdW5jdGlv
biByKHQpIHsNCiAgICAgICAgICAgIHJldHVybiBlW01hdGgubWF4KDAsIE1hdGgu
bWluKG8sIE1hdGguZmxvb3IodSAqICh0IC0gbikpKSldDQogICAgICAgIH0NCg0K
ICAgICAgICBmdW5jdGlvbiBpKCkgew0KICAgICAgICAgICAgcmV0dXJuIHUgPSBl
Lmxlbmd0aCAvICh0IC0gbiksIG8gPSBlLmxlbmd0aCAtIDEsIHINCiAgICAgICAg
fQ0KICAgICAgICB2YXIgdSwgbzsNCiAgICAgICAgcmV0dXJuIHIuZG9tYWluID0g
ZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5n
dGggPyAobiA9ICtlWzBdLCB0ID0gK2VbZS5sZW5ndGggLSAxXSwgaSgpKSA6IFtu
LCB0XQ0KICAgICAgICB9LCByLnJhbmdlID0gZnVuY3Rpb24obikgew0KICAgICAg
ICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoZSA9IG4sIGkoKSkgOiBl
DQogICAgICAgIH0sIHIuaW52ZXJ0RXh0ZW50ID0gZnVuY3Rpb24odCkgew0KICAg
ICAgICAgICAgcmV0dXJuIHQgPSBlLmluZGV4T2YodCksIHQgPSAwID4gdCA/IE5h
TiA6IHQgLyB1ICsgbiwgW3QsIHQgKyAxIC8gdV0NCiAgICAgICAgfSwgci5jb3B5
ID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICByZXR1cm4gbHUobiwgdCwgZSkN
CiAgICAgICAgfSwgaSgpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gY3UobiwgdCkg
ew0KICAgICAgICBmdW5jdGlvbiBlKGUpIHsNCiAgICAgICAgICAgIHJldHVybiBl
ID49IGUgPyB0W2FvLmJpc2VjdChuLCBlKV0gOiB2b2lkIDANCiAgICAgICAgfQ0K
ICAgICAgICByZXR1cm4gZS5kb21haW4gPSBmdW5jdGlvbih0KSB7DQogICAgICAg
ICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChuID0gdCwgZSkgOiBuDQog
ICAgICAgIH0sIGUucmFuZ2UgPSBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICBy
ZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh0ID0gbiwgZSkgOiB0DQogICAgICAg
IH0sIGUuaW52ZXJ0RXh0ZW50ID0gZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAg
cmV0dXJuIGUgPSB0LmluZGV4T2YoZSksIFtuW2UgLSAxXSwgbltlXV0NCiAgICAg
ICAgfSwgZS5jb3B5ID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICByZXR1cm4g
Y3UobiwgdCkNCiAgICAgICAgfSwgZQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGZ1
KG4pIHsNCiAgICAgICAgZnVuY3Rpb24gdChuKSB7DQogICAgICAgICAgICByZXR1
cm4gK24NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gdC5pbnZlcnQgPSB0LCB0
LmRvbWFpbiA9IHQucmFuZ2UgPSBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICBy
ZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChuID0gZS5tYXAodCksIHQpIDogbg0K
ICAgICAgICB9LCB0LnRpY2tzID0gZnVuY3Rpb24odCkgew0KICAgICAgICAgICAg
cmV0dXJuIFFpKG4sIHQpDQogICAgICAgIH0sIHQudGlja0Zvcm1hdCA9IGZ1bmN0
aW9uKHQsIGUpIHsNCiAgICAgICAgICAgIHJldHVybiBudShuLCB0LCBlKQ0KICAg
ICAgICB9LCB0LmNvcHkgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVy
biBmdShuKQ0KICAgICAgICB9LCB0DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc3Uo
KSB7DQogICAgICAgIHJldHVybiAwDQogICAgfQ0KDQogICAgZnVuY3Rpb24gaHUo
bikgew0KICAgICAgICByZXR1cm4gbi5pbm5lclJhZGl1cw0KICAgIH0NCg0KICAg
IGZ1bmN0aW9uIHB1KG4pIHsNCiAgICAgICAgcmV0dXJuIG4ub3V0ZXJSYWRpdXMN
CiAgICB9DQoNCiAgICBmdW5jdGlvbiBndShuKSB7DQogICAgICAgIHJldHVybiBu
LnN0YXJ0QW5nbGUNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB2dShuKSB7DQogICAg
ICAgIHJldHVybiBuLmVuZEFuZ2xlDQogICAgfQ0KDQogICAgZnVuY3Rpb24gZHUo
bikgew0KICAgICAgICByZXR1cm4gbiAmJiBuLnBhZEFuZ2xlDQogICAgfQ0KDQog
ICAgZnVuY3Rpb24geXUobiwgdCwgZSwgcikgew0KICAgICAgICByZXR1cm4gKG4g
LSBlKSAqIHQgLSAodCAtIHIpICogbiA+IDAgPyAwIDogMQ0KICAgIH0NCg0KICAg
IGZ1bmN0aW9uIG11KG4sIHQsIGUsIHIsIGkpIHsNCiAgICAgICAgdmFyIHUgPSBu
WzBdIC0gdFswXSwNCiAgICAgICAgICAgIG8gPSBuWzFdIC0gdFsxXSwNCiAgICAg
ICAgICAgIGEgPSAoaSA/IHIgOiAtcikgLyBNYXRoLnNxcnQodSAqIHUgKyBvICog
byksDQogICAgICAgICAgICBsID0gYSAqIG8sDQogICAgICAgICAgICBjID0gLWEg
KiB1LA0KICAgICAgICAgICAgZiA9IG5bMF0gKyBsLA0KICAgICAgICAgICAgcyA9
IG5bMV0gKyBjLA0KICAgICAgICAgICAgaCA9IHRbMF0gKyBsLA0KICAgICAgICAg
ICAgcCA9IHRbMV0gKyBjLA0KICAgICAgICAgICAgZyA9IChmICsgaCkgLyAyLA0K
ICAgICAgICAgICAgdiA9IChzICsgcCkgLyAyLA0KICAgICAgICAgICAgZCA9IGgg
LSBmLA0KICAgICAgICAgICAgeSA9IHAgLSBzLA0KICAgICAgICAgICAgbSA9IGQg
KiBkICsgeSAqIHksDQogICAgICAgICAgICBNID0gZSAtIHIsDQogICAgICAgICAg
ICB4ID0gZiAqIHAgLSBoICogcywNCiAgICAgICAgICAgIGIgPSAoMCA+IHkgPyAt
MSA6IDEpICogTWF0aC5zcXJ0KE1hdGgubWF4KDAsIE0gKiBNICogbSAtIHggKiB4
KSksDQogICAgICAgICAgICBfID0gKHggKiB5IC0gZCAqIGIpIC8gbSwNCiAgICAg
ICAgICAgIHcgPSAoLXggKiBkIC0geSAqIGIpIC8gbSwNCiAgICAgICAgICAgIFMg
PSAoeCAqIHkgKyBkICogYikgLyBtLA0KICAgICAgICAgICAgayA9ICgteCAqIGQg
KyB5ICogYikgLyBtLA0KICAgICAgICAgICAgTiA9IF8gLSBnLA0KICAgICAgICAg
ICAgRSA9IHcgLSB2LA0KICAgICAgICAgICAgQSA9IFMgLSBnLA0KICAgICAgICAg
ICAgQyA9IGsgLSB2Ow0KICAgICAgICByZXR1cm4gTiAqIE4gKyBFICogRSA+IEEg
KiBBICsgQyAqIEMgJiYgKF8gPSBTLCB3ID0gayksIFsNCiAgICAgICAgICAgIFtf
IC0gbCwgdyAtIGNdLA0KICAgICAgICAgICAgW18gKiBlIC8gTSwgdyAqIGUgLyBN
XQ0KICAgICAgICBdDQogICAgfQ0KDQogICAgZnVuY3Rpb24gTXUobikgew0KICAg
ICAgICBmdW5jdGlvbiB0KHQpIHsNCiAgICAgICAgICAgIGZ1bmN0aW9uIG8oKSB7
DQogICAgICAgICAgICAgICAgYy5wdXNoKCJNIiwgdShuKGYpLCBhKSkNCiAgICAg
ICAgICAgIH0NCiAgICAgICAgICAgIGZvciAodmFyIGwsIGMgPSBbXSwgZiA9IFtd
LCBzID0gLTEsIGggPSB0Lmxlbmd0aCwgcCA9IEVuKGUpLCBnID0gRW4ocik7ICsr
cyA8IGg7KSBpLmNhbGwodGhpcywgbCA9IHRbc10sIHMpID8gZi5wdXNoKFsrcC5j
YWxsKHRoaXMsIGwsIHMpLCArZy5jYWxsKHRoaXMsIGwsIHMpXSkgOiBmLmxlbmd0
aCAmJiAobygpLCBmID0gW10pOw0KICAgICAgICAgICAgcmV0dXJuIGYubGVuZ3Ro
ICYmIG8oKSwgYy5sZW5ndGggPyBjLmpvaW4oIiIpIDogbnVsbA0KICAgICAgICB9
DQogICAgICAgIHZhciBlID0gQ2UsDQogICAgICAgICAgICByID0gemUsDQogICAg
ICAgICAgICBpID0genQsDQogICAgICAgICAgICB1ID0geHUsDQogICAgICAgICAg
ICBvID0gdS5rZXksDQogICAgICAgICAgICBhID0gLjc7DQogICAgICAgIHJldHVy
biB0LnggPSBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1l
bnRzLmxlbmd0aCA/IChlID0gbiwgdCkgOiBlDQogICAgICAgIH0sIHQueSA9IGZ1
bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3Ro
ID8gKHIgPSBuLCB0KSA6IHINCiAgICAgICAgfSwgdC5kZWZpbmVkID0gZnVuY3Rp
b24obikgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAo
aSA9IG4sIHQpIDogaQ0KICAgICAgICB9LCB0LmludGVycG9sYXRlID0gZnVuY3Rp
b24obikgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAo
byA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIG4gPyB1ID0gbiA6ICh1ID0gVGwuZ2V0
KG4pIHx8IHh1KS5rZXksIHQpIDogbw0KICAgICAgICB9LCB0LnRlbnNpb24gPSBm
dW5jdGlvbihuKSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0
aCA/IChhID0gbiwgdCkgOiBhDQogICAgICAgIH0sIHQNCiAgICB9DQoNCiAgICBm
dW5jdGlvbiB4dShuKSB7DQogICAgICAgIHJldHVybiBuLmxlbmd0aCA+IDEgPyBu
LmpvaW4oIkwiKSA6IG4gKyAiWiINCiAgICB9DQoNCiAgICBmdW5jdGlvbiBidShu
KSB7DQogICAgICAgIHJldHVybiBuLmpvaW4oIkwiKSArICJaIg0KICAgIH0NCg0K
ICAgIGZ1bmN0aW9uIF91KG4pIHsNCiAgICAgICAgZm9yICh2YXIgdCA9IDAsIGUg
PSBuLmxlbmd0aCwgciA9IG5bMF0sIGkgPSBbclswXSwgIiwiLCByWzFdXTsgKyt0
IDwgZTspIGkucHVzaCgiSCIsIChyWzBdICsgKHIgPSBuW3RdKVswXSkgLyAyLCAi
ViIsIHJbMV0pOw0KICAgICAgICByZXR1cm4gZSA+IDEgJiYgaS5wdXNoKCJIIiwg
clswXSksIGkuam9pbigiIikNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB3dShuKSB7
DQogICAgICAgIGZvciAodmFyIHQgPSAwLCBlID0gbi5sZW5ndGgsIHIgPSBuWzBd
LCBpID0gW3JbMF0sICIsIiwgclsxXV07ICsrdCA8IGU7KSBpLnB1c2goIlYiLCAo
ciA9IG5bdF0pWzFdLCAiSCIsIHJbMF0pOw0KICAgICAgICByZXR1cm4gaS5qb2lu
KCIiKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIFN1KG4pIHsNCiAgICAgICAgZm9y
ICh2YXIgdCA9IDAsIGUgPSBuLmxlbmd0aCwgciA9IG5bMF0sIGkgPSBbclswXSwg
IiwiLCByWzFdXTsgKyt0IDwgZTspIGkucHVzaCgiSCIsIChyID0gblt0XSlbMF0s
ICJWIiwgclsxXSk7DQogICAgICAgIHJldHVybiBpLmpvaW4oIiIpDQogICAgfQ0K
DQogICAgZnVuY3Rpb24ga3UobiwgdCkgew0KICAgICAgICByZXR1cm4gbi5sZW5n
dGggPCA0ID8geHUobikgOiBuWzFdICsgQXUobi5zbGljZSgxLCAtMSksIEN1KG4s
IHQpKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIE51KG4sIHQpIHsNCiAgICAgICAg
cmV0dXJuIG4ubGVuZ3RoIDwgMyA/IGJ1KG4pIDogblswXSArIEF1KChuLnB1c2go
blswXSksIG4pLCBDdShbbltuLmxlbmd0aCAtIDJdXS5jb25jYXQobiwgW25bMV1d
KSwgdCkpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gRXUobiwgdCkgew0KICAgICAg
ICByZXR1cm4gbi5sZW5ndGggPCAzID8geHUobikgOiBuWzBdICsgQXUobiwgQ3Uo
biwgdCkpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gQXUobiwgdCkgew0KICAgICAg
ICBpZiAodC5sZW5ndGggPCAxIHx8IG4ubGVuZ3RoICE9IHQubGVuZ3RoICYmIG4u
bGVuZ3RoICE9IHQubGVuZ3RoICsgMikgcmV0dXJuIHh1KG4pOw0KICAgICAgICB2
YXIgZSA9IG4ubGVuZ3RoICE9IHQubGVuZ3RoLA0KICAgICAgICAgICAgciA9ICIi
LA0KICAgICAgICAgICAgaSA9IG5bMF0sDQogICAgICAgICAgICB1ID0gblsxXSwN
CiAgICAgICAgICAgIG8gPSB0WzBdLA0KICAgICAgICAgICAgYSA9IG8sDQogICAg
ICAgICAgICBsID0gMTsNCiAgICAgICAgaWYgKGUgJiYgKHIgKz0gIlEiICsgKHVb
MF0gLSAyICogb1swXSAvIDMpICsgIiwiICsgKHVbMV0gLSAyICogb1sxXSAvIDMp
ICsgIiwiICsgdVswXSArICIsIiArIHVbMV0sIGkgPSBuWzFdLCBsID0gMiksIHQu
bGVuZ3RoID4gMSkgew0KICAgICAgICAgICAgYSA9IHRbMV0sIHUgPSBuW2xdLCBs
KyssIHIgKz0gIkMiICsgKGlbMF0gKyBvWzBdKSArICIsIiArIChpWzFdICsgb1sx
XSkgKyAiLCIgKyAodVswXSAtIGFbMF0pICsgIiwiICsgKHVbMV0gLSBhWzFdKSAr
ICIsIiArIHVbMF0gKyAiLCIgKyB1WzFdOw0KICAgICAgICAgICAgZm9yICh2YXIg
YyA9IDI7IGMgPCB0Lmxlbmd0aDsgYysrLCBsKyspIHUgPSBuW2xdLCBhID0gdFtj
XSwgciArPSAiUyIgKyAodVswXSAtIGFbMF0pICsgIiwiICsgKHVbMV0gLSBhWzFd
KSArICIsIiArIHVbMF0gKyAiLCIgKyB1WzFdDQogICAgICAgIH0NCiAgICAgICAg
aWYgKGUpIHsNCiAgICAgICAgICAgIHZhciBmID0gbltsXTsNCiAgICAgICAgICAg
IHIgKz0gIlEiICsgKHVbMF0gKyAyICogYVswXSAvIDMpICsgIiwiICsgKHVbMV0g
KyAyICogYVsxXSAvIDMpICsgIiwiICsgZlswXSArICIsIiArIGZbMV0NCiAgICAg
ICAgfQ0KICAgICAgICByZXR1cm4gcg0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIEN1
KG4sIHQpIHsNCiAgICAgICAgZm9yICh2YXIgZSwgciA9IFtdLCBpID0gKDEgLSB0
KSAvIDIsIHUgPSBuWzBdLCBvID0gblsxXSwgYSA9IDEsIGwgPSBuLmxlbmd0aDsg
KythIDwgbDspIGUgPSB1LCB1ID0gbywgbyA9IG5bYV0sIHIucHVzaChbaSAqIChv
WzBdIC0gZVswXSksIGkgKiAob1sxXSAtIGVbMV0pXSk7DQogICAgICAgIHJldHVy
biByDQogICAgfQ0KDQogICAgZnVuY3Rpb24genUobikgew0KICAgICAgICBpZiAo
bi5sZW5ndGggPCAzKSByZXR1cm4geHUobik7DQogICAgICAgIHZhciB0ID0gMSwN
CiAgICAgICAgICAgIGUgPSBuLmxlbmd0aCwNCiAgICAgICAgICAgIHIgPSBuWzBd
LA0KICAgICAgICAgICAgaSA9IHJbMF0sDQogICAgICAgICAgICB1ID0gclsxXSwN
CiAgICAgICAgICAgIG8gPSBbaSwgaSwgaSwgKHIgPSBuWzFdKVswXV0sDQogICAg
ICAgICAgICBhID0gW3UsIHUsIHUsIHJbMV1dLA0KICAgICAgICAgICAgbCA9IFtp
LCAiLCIsIHUsICJMIiwgUnUoUGwsIG8pLCAiLCIsIFJ1KFBsLCBhKV07DQogICAg
ICAgIGZvciAobi5wdXNoKG5bZSAtIDFdKTsgKyt0IDw9IGU7KSByID0gblt0XSwg
by5zaGlmdCgpLCBvLnB1c2goclswXSksIGEuc2hpZnQoKSwgYS5wdXNoKHJbMV0p
LCBEdShsLCBvLCBhKTsNCiAgICAgICAgcmV0dXJuIG4ucG9wKCksIGwucHVzaCgi
TCIsIHIpLCBsLmpvaW4oIiIpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gTHUobikg
ew0KICAgICAgICBpZiAobi5sZW5ndGggPCA0KSByZXR1cm4geHUobik7DQogICAg
ICAgIGZvciAodmFyIHQsIGUgPSBbXSwgciA9IC0xLCBpID0gbi5sZW5ndGgsIHUg
PSBbMF0sIG8gPSBbMF07ICsrciA8IDM7KSB0ID0gbltyXSwgdS5wdXNoKHRbMF0p
LCBvLnB1c2godFsxXSk7DQogICAgICAgIGZvciAoZS5wdXNoKFJ1KFBsLCB1KSAr
ICIsIiArIFJ1KFBsLCBvKSksIC0tcjsgKytyIDwgaTspIHQgPSBuW3JdLCB1LnNo
aWZ0KCksIHUucHVzaCh0WzBdKSwgby5zaGlmdCgpLCBvLnB1c2godFsxXSksIER1
KGUsIHUsIG8pOw0KICAgICAgICByZXR1cm4gZS5qb2luKCIiKQ0KICAgIH0NCg0K
ICAgIGZ1bmN0aW9uIHF1KG4pIHsNCiAgICAgICAgZm9yICh2YXIgdCwgZSwgciA9
IC0xLCBpID0gbi5sZW5ndGgsIHUgPSBpICsgNCwgbyA9IFtdLCBhID0gW107ICsr
ciA8IDQ7KSBlID0gbltyICUgaV0sIG8ucHVzaChlWzBdKSwgYS5wdXNoKGVbMV0p
Ow0KICAgICAgICBmb3IgKHQgPSBbUnUoUGwsIG8pLCAiLCIsIFJ1KFBsLCBhKV0s
IC0tcjsgKytyIDwgdTspIGUgPSBuW3IgJSBpXSwgby5zaGlmdCgpLCBvLnB1c2go
ZVswXSksIGEuc2hpZnQoKSwgYS5wdXNoKGVbMV0pLCBEdSh0LCBvLCBhKTsNCiAg
ICAgICAgcmV0dXJuIHQuam9pbigiIikNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBU
dShuLCB0KSB7DQogICAgICAgIHZhciBlID0gbi5sZW5ndGggLSAxOw0KICAgICAg
ICBpZiAoZSkNCiAgICAgICAgICAgIGZvciAodmFyIHIsIGksIHUgPSBuWzBdWzBd
LCBvID0gblswXVsxXSwgYSA9IG5bZV1bMF0gLSB1LCBsID0gbltlXVsxXSAtIG8s
IGMgPSAtMTsgKytjIDw9IGU7KSByID0gbltjXSwgaSA9IGMgLyBlLCByWzBdID0g
dCAqIHJbMF0gKyAoMSAtIHQpICogKHUgKyBpICogYSksIHJbMV0gPSB0ICogclsx
XSArICgxIC0gdCkgKiAobyArIGkgKiBsKTsNCiAgICAgICAgcmV0dXJuIHp1KG4p
DQogICAgfQ0KDQogICAgZnVuY3Rpb24gUnUobiwgdCkgew0KICAgICAgICByZXR1
cm4gblswXSAqIHRbMF0gKyBuWzFdICogdFsxXSArIG5bMl0gKiB0WzJdICsgblsz
XSAqIHRbM10NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBEdShuLCB0LCBlKSB7DQog
ICAgICAgIG4ucHVzaCgiQyIsIFJ1KFJsLCB0KSwgIiwiLCBSdShSbCwgZSksICIs
IiwgUnUoRGwsIHQpLCAiLCIsIFJ1KERsLCBlKSwgIiwiLCBSdShQbCwgdCksICIs
IiwgUnUoUGwsIGUpKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIFB1KG4sIHQpIHsN
CiAgICAgICAgcmV0dXJuICh0WzFdIC0gblsxXSkgLyAodFswXSAtIG5bMF0pDQog
ICAgfQ0KDQogICAgZnVuY3Rpb24gVXUobikgew0KICAgICAgICBmb3IgKHZhciB0
ID0gMCwgZSA9IG4ubGVuZ3RoIC0gMSwgciA9IFtdLCBpID0gblswXSwgdSA9IG5b
MV0sIG8gPSByWzBdID0gUHUoaSwgdSk7ICsrdCA8IGU7KSByW3RdID0gKG8gKyAo
byA9IFB1KGkgPSB1LCB1ID0gblt0ICsgMV0pKSkgLyAyOw0KICAgICAgICByZXR1
cm4gclt0XSA9IG8sIHINCiAgICB9DQoNCiAgICBmdW5jdGlvbiBqdShuKSB7DQog
ICAgICAgIGZvciAodmFyIHQsIGUsIHIsIGksIHUgPSBbXSwgbyA9IFV1KG4pLCBh
ID0gLTEsIGwgPSBuLmxlbmd0aCAtIDE7ICsrYSA8IGw7KSB0ID0gUHUoblthXSwg
blthICsgMV0pLCB4byh0KSA8IFVvID8gb1thXSA9IG9bYSArIDFdID0gMCA6IChl
ID0gb1thXSAvIHQsIHIgPSBvW2EgKyAxXSAvIHQsIGkgPSBlICogZSArIHIgKiBy
LCBpID4gOSAmJiAoaSA9IDMgKiB0IC8gTWF0aC5zcXJ0KGkpLCBvW2FdID0gaSAq
IGUsIG9bYSArIDFdID0gaSAqIHIpKTsNCiAgICAgICAgZm9yIChhID0gLTE7ICsr
YSA8PSBsOykgaSA9IChuW01hdGgubWluKGwsIGEgKyAxKV1bMF0gLSBuW01hdGgu
bWF4KDAsIGEgLSAxKV1bMF0pIC8gKDYgKiAoMSArIG9bYV0gKiBvW2FdKSksIHUu
cHVzaChbaSB8fCAwLCBvW2FdICogaSB8fCAwXSk7DQogICAgICAgIHJldHVybiB1
DQogICAgfQ0KDQogICAgZnVuY3Rpb24gRnUobikgew0KICAgICAgICByZXR1cm4g
bi5sZW5ndGggPCAzID8geHUobikgOiBuWzBdICsgQXUobiwganUobikpDQogICAg
fQ0KDQogICAgZnVuY3Rpb24gSHUobikgew0KICAgICAgICBmb3IgKHZhciB0LCBl
LCByLCBpID0gLTEsIHUgPSBuLmxlbmd0aDsgKytpIDwgdTspIHQgPSBuW2ldLCBl
ID0gdFswXSwgciA9IHRbMV0gLSBJbywgdFswXSA9IGUgKiBNYXRoLmNvcyhyKSwg
dFsxXSA9IGUgKiBNYXRoLnNpbihyKTsNCiAgICAgICAgcmV0dXJuIG4NCiAgICB9
DQoNCiAgICBmdW5jdGlvbiBPdShuKSB7DQogICAgICAgIGZ1bmN0aW9uIHQodCkg
ew0KICAgICAgICAgICAgZnVuY3Rpb24gbCgpIHsNCiAgICAgICAgICAgICAgICB2
LnB1c2goIk0iLCBhKG4oeSksIHMpLCBmLCBjKG4oZC5yZXZlcnNlKCkpLCBzKSwg
IloiKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZm9yICh2YXIgaCwgcCwg
ZywgdiA9IFtdLCBkID0gW10sIHkgPSBbXSwgbSA9IC0xLCBNID0gdC5sZW5ndGgs
IHggPSBFbihlKSwgYiA9IEVuKGkpLCBfID0gZSA9PT0gciA/IGZ1bmN0aW9uKCkg
ew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcA0KICAgICAgICAgICAgICAg
IH0gOiBFbihyKSwgdyA9IGkgPT09IHUgPyBmdW5jdGlvbigpIHsNCiAgICAgICAg
ICAgICAgICAgICAgcmV0dXJuIGcNCiAgICAgICAgICAgICAgICB9IDogRW4odSk7
ICsrbSA8IE07KSBvLmNhbGwodGhpcywgaCA9IHRbbV0sIG0pID8gKGQucHVzaChb
cCA9ICt4LmNhbGwodGhpcywgaCwgbSksIGcgPSArYi5jYWxsKHRoaXMsIGgsIG0p
XSksIHkucHVzaChbK18uY2FsbCh0aGlzLCBoLCBtKSwgK3cuY2FsbCh0aGlzLCBo
LCBtKV0pKSA6IGQubGVuZ3RoICYmIChsKCksIGQgPSBbXSwgeSA9IFtdKTsNCiAg
ICAgICAgICAgIHJldHVybiBkLmxlbmd0aCAmJiBsKCksIHYubGVuZ3RoID8gdi5q
b2luKCIiKSA6IG51bGwNCiAgICAgICAgfQ0KICAgICAgICB2YXIgZSA9IENlLA0K
ICAgICAgICAgICAgciA9IENlLA0KICAgICAgICAgICAgaSA9IDAsDQogICAgICAg
ICAgICB1ID0gemUsDQogICAgICAgICAgICBvID0genQsDQogICAgICAgICAgICBh
ID0geHUsDQogICAgICAgICAgICBsID0gYS5rZXksDQogICAgICAgICAgICBjID0g
YSwNCiAgICAgICAgICAgIGYgPSAiTCIsDQogICAgICAgICAgICBzID0gLjc7DQog
ICAgICAgIHJldHVybiB0LnggPSBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICBy
ZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChlID0gciA9IG4sIHQpIDogcg0KICAg
ICAgICB9LCB0LngwID0gZnVuY3Rpb24obikgew0KICAgICAgICAgICAgcmV0dXJu
IGFyZ3VtZW50cy5sZW5ndGggPyAoZSA9IG4sIHQpIDogZQ0KICAgICAgICB9LCB0
LngxID0gZnVuY3Rpb24obikgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50
cy5sZW5ndGggPyAociA9IG4sIHQpIDogcg0KICAgICAgICB9LCB0LnkgPSBmdW5j
dGlvbihuKSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/
IChpID0gdSA9IG4sIHQpIDogdQ0KICAgICAgICB9LCB0LnkwID0gZnVuY3Rpb24o
bikgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoaSA9
IG4sIHQpIDogaQ0KICAgICAgICB9LCB0LnkxID0gZnVuY3Rpb24obikgew0KICAg
ICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAodSA9IG4sIHQpIDog
dQ0KICAgICAgICB9LCB0LmRlZmluZWQgPSBmdW5jdGlvbihuKSB7DQogICAgICAg
ICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChvID0gbiwgdCkgOiBvDQog
ICAgICAgIH0sIHQuaW50ZXJwb2xhdGUgPSBmdW5jdGlvbihuKSB7DQogICAgICAg
ICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChsID0gImZ1bmN0aW9uIiA9
PSB0eXBlb2YgbiA/IGEgPSBuIDogKGEgPSBUbC5nZXQobikgfHwgeHUpLmtleSwg
YyA9IGEucmV2ZXJzZSB8fCBhLCBmID0gYS5jbG9zZWQgPyAiTSIgOiAiTCIsIHQp
IDogbA0KICAgICAgICB9LCB0LnRlbnNpb24gPSBmdW5jdGlvbihuKSB7DQogICAg
ICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChzID0gbiwgdCkgOiBz
DQogICAgICAgIH0sIHQNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBJdShuKSB7DQog
ICAgICAgIHJldHVybiBuLnJhZGl1cw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIFl1
KG4pIHsNCiAgICAgICAgcmV0dXJuIFtuLngsIG4ueV0NCiAgICB9DQoNCiAgICBm
dW5jdGlvbiBadShuKSB7DQogICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsNCiAg
ICAgICAgICAgIHZhciB0ID0gbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpLA0KICAg
ICAgICAgICAgICAgIGUgPSB0WzBdLA0KICAgICAgICAgICAgICAgIHIgPSB0WzFd
IC0gSW87DQogICAgICAgICAgICByZXR1cm4gW2UgKiBNYXRoLmNvcyhyKSwgZSAq
IE1hdGguc2luKHIpXQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24g
VnUoKSB7DQogICAgICAgIHJldHVybiA2NA0KICAgIH0NCg0KICAgIGZ1bmN0aW9u
IFh1KCkgew0KICAgICAgICByZXR1cm4gImNpcmNsZSINCiAgICB9DQoNCiAgICBm
dW5jdGlvbiAkdShuKSB7DQogICAgICAgIHZhciB0ID0gTWF0aC5zcXJ0KG4gLyBG
byk7DQogICAgICAgIHJldHVybiAiTTAsIiArIHQgKyAiQSIgKyB0ICsgIiwiICsg
dCArICIgMCAxLDEgMCwiICsgLXQgKyAiQSIgKyB0ICsgIiwiICsgdCArICIgMCAx
LDEgMCwiICsgdCArICJaIg0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIEJ1KG4pIHsN
CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgdmFyIHQs
IGUsIHI7DQogICAgICAgICAgICAodCA9IHRoaXNbbl0pICYmIChyID0gdFtlID0g
dC5hY3RpdmVdKSAmJiAoci50aW1lci5jID0gbnVsbCwgci50aW1lci50ID0gTmFO
LCAtLXQuY291bnQgPyBkZWxldGUgdFtlXSA6IGRlbGV0ZSB0aGlzW25dLCB0LmFj
dGl2ZSArPSAuNSwgci5ldmVudCAmJiByLmV2ZW50LmludGVycnVwdC5jYWxsKHRo
aXMsIHRoaXMuX19kYXRhX18sIHIuaW5kZXgpKQ0KICAgICAgICB9DQogICAgfQ0K
DQogICAgZnVuY3Rpb24gV3UobiwgdCwgZSkgew0KICAgICAgICByZXR1cm4ga28o
biwgWWwpLCBuLm5hbWVzcGFjZSA9IHQsIG4uaWQgPSBlLCBuDQogICAgfQ0KDQog
ICAgZnVuY3Rpb24gSnUobiwgdCwgZSwgcikgew0KICAgICAgICB2YXIgaSA9IG4u
aWQsDQogICAgICAgICAgICB1ID0gbi5uYW1lc3BhY2U7DQogICAgICAgIHJldHVy
biBZKG4sICJmdW5jdGlvbiIgPT0gdHlwZW9mIGUgPyBmdW5jdGlvbihuLCBvLCBh
KSB7DQogICAgICAgICAgICBuW3VdW2ldLnR3ZWVuLnNldCh0LCByKGUuY2FsbChu
LCBuLl9fZGF0YV9fLCBvLCBhKSkpDQogICAgICAgIH0gOiAoZSA9IHIoZSksIGZ1
bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIG5bdV1baV0udHdlZW4uc2V0KHQsIGUp
DQogICAgICAgIH0pKQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIEd1KG4pIHsNCiAg
ICAgICAgcmV0dXJuIG51bGwgPT0gbiAmJiAobiA9ICIiKSwNCiAgICAgICAgICAg
IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIHRoaXMudGV4dENvbnRlbnQg
PSBuDQogICAgICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gS3Uobikg
ew0KICAgICAgICByZXR1cm4gbnVsbCA9PSBuID8gIl9fdHJhbnNpdGlvbl9fIiA6
ICJfX3RyYW5zaXRpb25fIiArIG4gKyAiX18iDQogICAgfQ0KDQogICAgZnVuY3Rp
b24gUXUobiwgdCwgZSwgciwgaSkgew0KICAgICAgICBmdW5jdGlvbiB1KG4pIHsN
CiAgICAgICAgICAgIHZhciB0ID0gdi5kZWxheTsNCiAgICAgICAgICAgIHJldHVy
biBmLnQgPSB0ICsgbCwgbiA+PSB0ID8gbyhuIC0gdCkgOiB2b2lkKGYuYyA9IG8p
DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBvKGUpIHsNCiAgICAgICAg
ICAgIHZhciBpID0gZy5hY3RpdmUsDQogICAgICAgICAgICAgICAgdSA9IGdbaV07
DQogICAgICAgICAgICB1ICYmICh1LnRpbWVyLmMgPSBudWxsLCB1LnRpbWVyLnQg
PSBOYU4sIC0tZy5jb3VudCwgZGVsZXRlIGdbaV0sIHUuZXZlbnQgJiYgdS5ldmVu
dC5pbnRlcnJ1cHQuY2FsbChuLCBuLl9fZGF0YV9fLCB1LmluZGV4KSk7DQogICAg
ICAgICAgICBmb3IgKHZhciBvIGluIGcpDQogICAgICAgICAgICAgICAgaWYgKHIg
PiArbykgew0KICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGdbb107DQogICAg
ICAgICAgICAgICAgICAgIGMudGltZXIuYyA9IG51bGwsIGMudGltZXIudCA9IE5h
TiwgLS1nLmNvdW50LCBkZWxldGUgZ1tvXQ0KICAgICAgICAgICAgICAgIH0NCiAg
ICAgICAgICAgIGYuYyA9IGEsIHFuKGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAg
ICAgIHJldHVybiBmLmMgJiYgYShlIHx8IDEpICYmIChmLmMgPSBudWxsLCBmLnQg
PSBOYU4pLCAxDQogICAgICAgICAgICB9LCAwLCBsKSwgZy5hY3RpdmUgPSByLCB2
LmV2ZW50ICYmIHYuZXZlbnQuc3RhcnQuY2FsbChuLCBuLl9fZGF0YV9fLCB0KSwg
cCA9IFtdLCB2LnR3ZWVuLmZvckVhY2goZnVuY3Rpb24oZSwgcikgew0KICAgICAg
ICAgICAgICAgIChyID0gci5jYWxsKG4sIG4uX19kYXRhX18sIHQpKSAmJiBwLnB1
c2gocikNCiAgICAgICAgICAgIH0pLCBoID0gdi5lYXNlLCBzID0gdi5kdXJhdGlv
bg0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gYShpKSB7DQogICAgICAg
ICAgICBmb3IgKHZhciB1ID0gaSAvIHMsIG8gPSBoKHUpLCBhID0gcC5sZW5ndGg7
IGEgPiAwOykgcFstLWFdLmNhbGwobiwgbyk7DQogICAgICAgICAgICByZXR1cm4g
dSA+PSAxID8gKHYuZXZlbnQgJiYgdi5ldmVudC5lbmQuY2FsbChuLCBuLl9fZGF0
YV9fLCB0KSwgLS1nLmNvdW50ID8gZGVsZXRlIGdbcl0gOiBkZWxldGUgbltlXSwg
MSkgOiB2b2lkIDANCiAgICAgICAgfQ0KICAgICAgICB2YXIgbCwgZiwgcywgaCwg
cCwgZyA9IG5bZV0gfHwgKG5bZV0gPSB7DQogICAgICAgICAgICAgICAgYWN0aXZl
OiAwLA0KICAgICAgICAgICAgICAgIGNvdW50OiAwDQogICAgICAgICAgICB9KSwN
CiAgICAgICAgICAgIHYgPSBnW3JdOw0KICAgICAgICB2IHx8IChsID0gaS50aW1l
LCBmID0gcW4odSwgMCwgbCksIHYgPSBnW3JdID0gew0KICAgICAgICAgICAgdHdl
ZW46IG5ldyBjLA0KICAgICAgICAgICAgdGltZTogbCwNCiAgICAgICAgICAgIHRp
bWVyOiBmLA0KICAgICAgICAgICAgZGVsYXk6IGkuZGVsYXksDQogICAgICAgICAg
ICBkdXJhdGlvbjogaS5kdXJhdGlvbiwNCiAgICAgICAgICAgIGVhc2U6IGkuZWFz
ZSwNCiAgICAgICAgICAgIGluZGV4OiB0DQogICAgICAgIH0sIGkgPSBudWxsLCAr
K2cuY291bnQpDQogICAgfQ0KDQogICAgZnVuY3Rpb24gbm8obiwgdCwgZSkgew0K
ICAgICAgICBuLmF0dHIoInRyYW5zZm9ybSIsIGZ1bmN0aW9uKG4pIHsNCiAgICAg
ICAgICAgIHZhciByID0gdChuKTsNCiAgICAgICAgICAgIHJldHVybiAidHJhbnNs
YXRlKCIgKyAoaXNGaW5pdGUocikgPyByIDogZShuKSkgKyAiLDApIg0KICAgICAg
ICB9KQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHRvKG4sIHQsIGUpIHsNCiAgICAg
ICAgbi5hdHRyKCJ0cmFuc2Zvcm0iLCBmdW5jdGlvbihuKSB7DQogICAgICAgICAg
ICB2YXIgciA9IHQobik7DQogICAgICAgICAgICByZXR1cm4gInRyYW5zbGF0ZSgw
LCIgKyAoaXNGaW5pdGUocikgPyByIDogZShuKSkgKyAiKSINCiAgICAgICAgfSkN
CiAgICB9DQoNCiAgICBmdW5jdGlvbiBlbyhuKSB7DQogICAgICAgIHJldHVybiBu
LnRvSVNPU3RyaW5nKCkNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBybyhuLCB0LCBl
KSB7DQogICAgICAgIGZ1bmN0aW9uIHIodCkgew0KICAgICAgICAgICAgcmV0dXJu
IG4odCkNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGkobiwgZSkgew0K
ICAgICAgICAgICAgdmFyIHIgPSBuWzFdIC0gblswXSwNCiAgICAgICAgICAgICAg
ICBpID0gciAvIGUsDQogICAgICAgICAgICAgICAgdSA9IGFvLmJpc2VjdChLbCwg
aSk7DQogICAgICAgICAgICByZXR1cm4gdSA9PSBLbC5sZW5ndGggPyBbdC55ZWFy
LCBLaShuLm1hcChmdW5jdGlvbihuKSB7DQogICAgICAgICAgICAgICAgcmV0dXJu
IG4gLyAzMTUzNmU2DQogICAgICAgICAgICB9KSwgZSlbMl1dIDogdSA/IHRbaSAv
IEtsW3UgLSAxXSA8IEtsW3VdIC8gaSA/IHUgLSAxIDogdV0gOiBbdGMsIEtpKG4s
IGUpWzJdXQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiByLmludmVydCA9IGZ1
bmN0aW9uKHQpIHsNCiAgICAgICAgICAgIHJldHVybiBpbyhuLmludmVydCh0KSkN
CiAgICAgICAgfSwgci5kb21haW4gPSBmdW5jdGlvbih0KSB7DQogICAgICAgICAg
ICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChuLmRvbWFpbih0KSwgcikgOiBu
LmRvbWFpbigpLm1hcChpbykNCiAgICAgICAgfSwgci5uaWNlID0gZnVuY3Rpb24o
biwgdCkgew0KICAgICAgICAgICAgZnVuY3Rpb24gZShlKSB7DQogICAgICAgICAg
ICAgICAgcmV0dXJuICFpc05hTihlKSAmJiAhbi5yYW5nZShlLCBpbygrZSArIDEp
LCB0KS5sZW5ndGgNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciB1ID0g
ci5kb21haW4oKSwNCiAgICAgICAgICAgICAgICBvID0gWWkodSksDQogICAgICAg
ICAgICAgICAgYSA9IG51bGwgPT0gbiA/IGkobywgMTApIDogIm51bWJlciIgPT0g
dHlwZW9mIG4gJiYgaShvLCBuKTsNCiAgICAgICAgICAgIHJldHVybiBhICYmIChu
ID0gYVswXSwgdCA9IGFbMV0pLCByLmRvbWFpbihYaSh1LCB0ID4gMSA/IHsNCiAg
ICAgICAgICAgICAgICBmbG9vcjogZnVuY3Rpb24odCkgew0KICAgICAgICAgICAg
ICAgICAgICBmb3IgKDsgZSh0ID0gbi5mbG9vcih0KSk7KSB0ID0gaW8odCAtIDEp
Ow0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdA0KICAgICAgICAgICAgICAg
IH0sDQogICAgICAgICAgICAgICAgY2VpbDogZnVuY3Rpb24odCkgew0KICAgICAg
ICAgICAgICAgICAgICBmb3IgKDsgZSh0ID0gbi5jZWlsKHQpKTspIHQgPSBpbygr
dCArIDEpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdA0KICAgICAgICAg
ICAgICAgIH0NCiAgICAgICAgICAgIH0gOiBuKSkNCiAgICAgICAgfSwgci50aWNr
cyA9IGZ1bmN0aW9uKG4sIHQpIHsNCiAgICAgICAgICAgIHZhciBlID0gWWkoci5k
b21haW4oKSksDQogICAgICAgICAgICAgICAgdSA9IG51bGwgPT0gbiA/IGkoZSwg
MTApIDogIm51bWJlciIgPT0gdHlwZW9mIG4gPyBpKGUsIG4pIDogIW4ucmFuZ2Ug
JiYgW3sNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IG4NCiAgICAgICAgICAg
ICAgICB9LCB0XTsNCiAgICAgICAgICAgIHJldHVybiB1ICYmIChuID0gdVswXSwg
dCA9IHVbMV0pLCBuLnJhbmdlKGVbMF0sIGlvKCtlWzFdICsgMSksIDEgPiB0ID8g
MSA6IHQpDQogICAgICAgIH0sIHIudGlja0Zvcm1hdCA9IGZ1bmN0aW9uKCkgew0K
ICAgICAgICAgICAgcmV0dXJuIGUNCiAgICAgICAgfSwgci5jb3B5ID0gZnVuY3Rp
b24oKSB7DQogICAgICAgICAgICByZXR1cm4gcm8obi5jb3B5KCksIHQsIGUpDQog
ICAgICAgIH0sIEppKHIsIG4pDQogICAgfQ0KDQogICAgZnVuY3Rpb24gaW8obikg
ew0KICAgICAgICByZXR1cm4gbmV3IERhdGUobikNCiAgICB9DQoNCiAgICBmdW5j
dGlvbiB1byhuKSB7DQogICAgICAgIHJldHVybiBKU09OLnBhcnNlKG4ucmVzcG9u
c2VUZXh0KQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIG9vKG4pIHsNCiAgICAgICAg
dmFyIHQgPSBmby5jcmVhdGVSYW5nZSgpOw0KICAgICAgICByZXR1cm4gdC5zZWxl
Y3ROb2RlKGZvLmJvZHkpLCB0LmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChuLnJl
c3BvbnNlVGV4dCkNCiAgICB9DQogICAgdmFyIGFvID0gew0KICAgICAgICAgICAg
dmVyc2lvbjogIjMuNS4xNyINCiAgICAgICAgfSwNCiAgICAgICAgbG8gPSBbXS5z
bGljZSwNCiAgICAgICAgY28gPSBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICBy
ZXR1cm4gbG8uY2FsbChuKQ0KICAgICAgICB9LA0KICAgICAgICBmbyA9IHRoaXMu
ZG9jdW1lbnQ7DQogICAgaWYgKGZvKSB0cnkgew0KICAgICAgICBjbyhmby5kb2N1
bWVudEVsZW1lbnQuY2hpbGROb2RlcylbMF0ubm9kZVR5cGUNCiAgICB9IGNhdGNo
IChzbykgew0KICAgICAgICBjbyA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAg
IGZvciAodmFyIHQgPSBuLmxlbmd0aCwgZSA9IG5ldyBBcnJheSh0KTsgdC0tOykg
ZVt0XSA9IG5bdF07DQogICAgICAgICAgICByZXR1cm4gZQ0KICAgICAgICB9DQog
ICAgfQ0KICAgIGlmIChEYXRlLm5vdyB8fCAoRGF0ZS5ub3cgPSBmdW5jdGlvbigp
IHsNCiAgICAgICAgICAgIHJldHVybiArbmV3IERhdGUNCiAgICAgICAgfSksIGZv
KSB0cnkgew0KICAgICAgICBmby5jcmVhdGVFbGVtZW50KCJESVYiKS5zdHlsZS5z
ZXRQcm9wZXJ0eSgib3BhY2l0eSIsIDAsICIiKQ0KICAgIH0gY2F0Y2ggKGhvKSB7
DQogICAgICAgIHZhciBwbyA9IHRoaXMuRWxlbWVudC5wcm90b3R5cGUsDQogICAg
ICAgICAgICBnbyA9IHBvLnNldEF0dHJpYnV0ZSwNCiAgICAgICAgICAgIHZvID0g
cG8uc2V0QXR0cmlidXRlTlMsDQogICAgICAgICAgICB5byA9IHRoaXMuQ1NTU3R5
bGVEZWNsYXJhdGlvbi5wcm90b3R5cGUsDQogICAgICAgICAgICBtbyA9IHlvLnNl
dFByb3BlcnR5Ow0KICAgICAgICBwby5zZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbihu
LCB0KSB7DQogICAgICAgICAgICBnby5jYWxsKHRoaXMsIG4sIHQgKyAiIikNCiAg
ICAgICAgfSwgcG8uc2V0QXR0cmlidXRlTlMgPSBmdW5jdGlvbihuLCB0LCBlKSB7
DQogICAgICAgICAgICB2by5jYWxsKHRoaXMsIG4sIHQsIGUgKyAiIikNCiAgICAg
ICAgfSwgeW8uc2V0UHJvcGVydHkgPSBmdW5jdGlvbihuLCB0LCBlKSB7DQogICAg
ICAgICAgICBtby5jYWxsKHRoaXMsIG4sIHQgKyAiIiwgZSkNCiAgICAgICAgfQ0K
ICAgIH0NCiAgICBhby5hc2NlbmRpbmcgPSBlLCBhby5kZXNjZW5kaW5nID0gZnVu
Y3Rpb24obiwgdCkgew0KICAgICAgICByZXR1cm4gbiA+IHQgPyAtMSA6IHQgPiBu
ID8gMSA6IHQgPj0gbiA/IDAgOiBOYU4NCiAgICB9LCBhby5taW4gPSBmdW5jdGlv
bihuLCB0KSB7DQogICAgICAgIHZhciBlLCByLCBpID0gLTEsDQogICAgICAgICAg
ICB1ID0gbi5sZW5ndGg7DQogICAgICAgIGlmICgxID09PSBhcmd1bWVudHMubGVu
Z3RoKSB7DQogICAgICAgICAgICBmb3IgKDsgKytpIDwgdTspDQogICAgICAgICAg
ICAgICAgaWYgKG51bGwgIT0gKHIgPSBuW2ldKSAmJiByID49IHIpIHsNCiAgICAg
ICAgICAgICAgICAgICAgZSA9IHI7DQogICAgICAgICAgICAgICAgICAgIGJyZWFr
DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZm9yICg7ICsraSA8IHU7
KSBudWxsICE9IChyID0gbltpXSkgJiYgZSA+IHIgJiYgKGUgPSByKQ0KICAgICAg
ICB9IGVsc2Ugew0KICAgICAgICAgICAgZm9yICg7ICsraSA8IHU7KQ0KICAgICAg
ICAgICAgICAgIGlmIChudWxsICE9IChyID0gdC5jYWxsKG4sIG5baV0sIGkpKSAm
JiByID49IHIpIHsNCiAgICAgICAgICAgICAgICAgICAgZSA9IHI7DQogICAgICAg
ICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAg
ICAgZm9yICg7ICsraSA8IHU7KSBudWxsICE9IChyID0gdC5jYWxsKG4sIG5baV0s
IGkpKSAmJiBlID4gciAmJiAoZSA9IHIpDQogICAgICAgIH0NCiAgICAgICAgcmV0
dXJuIGUNCiAgICB9LCBhby5tYXggPSBmdW5jdGlvbihuLCB0KSB7DQogICAgICAg
IHZhciBlLCByLCBpID0gLTEsDQogICAgICAgICAgICB1ID0gbi5sZW5ndGg7DQog
ICAgICAgIGlmICgxID09PSBhcmd1bWVudHMubGVuZ3RoKSB7DQogICAgICAgICAg
ICBmb3IgKDsgKytpIDwgdTspDQogICAgICAgICAgICAgICAgaWYgKG51bGwgIT0g
KHIgPSBuW2ldKSAmJiByID49IHIpIHsNCiAgICAgICAgICAgICAgICAgICAgZSA9
IHI7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAg
fQ0KICAgICAgICAgICAgZm9yICg7ICsraSA8IHU7KSBudWxsICE9IChyID0gbltp
XSkgJiYgciA+IGUgJiYgKGUgPSByKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAg
ICAgICAgZm9yICg7ICsraSA8IHU7KQ0KICAgICAgICAgICAgICAgIGlmIChudWxs
ICE9IChyID0gdC5jYWxsKG4sIG5baV0sIGkpKSAmJiByID49IHIpIHsNCiAgICAg
ICAgICAgICAgICAgICAgZSA9IHI7DQogICAgICAgICAgICAgICAgICAgIGJyZWFr
DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZm9yICg7ICsraSA8IHU7
KSBudWxsICE9IChyID0gdC5jYWxsKG4sIG5baV0sIGkpKSAmJiByID4gZSAmJiAo
ZSA9IHIpDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGUNCiAgICB9LCBhby5l
eHRlbnQgPSBmdW5jdGlvbihuLCB0KSB7DQogICAgICAgIHZhciBlLCByLCBpLCB1
ID0gLTEsDQogICAgICAgICAgICBvID0gbi5sZW5ndGg7DQogICAgICAgIGlmICgx
ID09PSBhcmd1bWVudHMubGVuZ3RoKSB7DQogICAgICAgICAgICBmb3IgKDsgKyt1
IDwgbzspDQogICAgICAgICAgICAgICAgaWYgKG51bGwgIT0gKHIgPSBuW3VdKSAm
JiByID49IHIpIHsNCiAgICAgICAgICAgICAgICAgICAgZSA9IGkgPSByOw0KICAg
ICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIH0NCiAgICAg
ICAgICAgIGZvciAoOyArK3UgPCBvOykgbnVsbCAhPSAociA9IG5bdV0pICYmIChl
ID4gciAmJiAoZSA9IHIpLCByID4gaSAmJiAoaSA9IHIpKQ0KICAgICAgICB9IGVs
c2Ugew0KICAgICAgICAgICAgZm9yICg7ICsrdSA8IG87KQ0KICAgICAgICAgICAg
ICAgIGlmIChudWxsICE9IChyID0gdC5jYWxsKG4sIG5bdV0sIHUpKSAmJiByID49
IHIpIHsNCiAgICAgICAgICAgICAgICAgICAgZSA9IGkgPSByOw0KICAgICAgICAg
ICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAg
IGZvciAoOyArK3UgPCBvOykgbnVsbCAhPSAociA9IHQuY2FsbChuLCBuW3VdLCB1
KSkgJiYgKGUgPiByICYmIChlID0gciksIHIgPiBpICYmIChpID0gcikpDQogICAg
ICAgIH0NCiAgICAgICAgcmV0dXJuIFtlLCBpXQ0KICAgIH0sIGFvLnN1bSA9IGZ1
bmN0aW9uKG4sIHQpIHsNCiAgICAgICAgdmFyIGUsIHIgPSAwLA0KICAgICAgICAg
ICAgdSA9IG4ubGVuZ3RoLA0KICAgICAgICAgICAgbyA9IC0xOw0KICAgICAgICBp
ZiAoMSA9PT0gYXJndW1lbnRzLmxlbmd0aCkNCiAgICAgICAgICAgIGZvciAoOyAr
K28gPCB1OykgaShlID0gK25bb10pICYmIChyICs9IGUpOw0KICAgICAgICBlbHNl
DQogICAgICAgICAgICBmb3IgKDsgKytvIDwgdTspIGkoZSA9ICt0LmNhbGwobiwg
bltvXSwgbykpICYmIChyICs9IGUpOw0KICAgICAgICByZXR1cm4gcg0KICAgIH0s
IGFvLm1lYW4gPSBmdW5jdGlvbihuLCB0KSB7DQogICAgICAgIHZhciBlLCB1ID0g
MCwNCiAgICAgICAgICAgIG8gPSBuLmxlbmd0aCwNCiAgICAgICAgICAgIGEgPSAt
MSwNCiAgICAgICAgICAgIGwgPSBvOw0KICAgICAgICBpZiAoMSA9PT0gYXJndW1l
bnRzLmxlbmd0aCkNCiAgICAgICAgICAgIGZvciAoOyArK2EgPCBvOykgaShlID0g
cihuW2FdKSkgPyB1ICs9IGUgOiAtLWw7DQogICAgICAgIGVsc2UNCiAgICAgICAg
ICAgIGZvciAoOyArK2EgPCBvOykgaShlID0gcih0LmNhbGwobiwgblthXSwgYSkp
KSA/IHUgKz0gZSA6IC0tbDsNCiAgICAgICAgcmV0dXJuIGwgPyB1IC8gbCA6IHZv
aWQgMA0KICAgIH0sIGFvLnF1YW50aWxlID0gZnVuY3Rpb24obiwgdCkgew0KICAg
ICAgICB2YXIgZSA9IChuLmxlbmd0aCAtIDEpICogdCArIDEsDQogICAgICAgICAg
ICByID0gTWF0aC5mbG9vcihlKSwNCiAgICAgICAgICAgIGkgPSArbltyIC0gMV0s
DQogICAgICAgICAgICB1ID0gZSAtIHI7DQogICAgICAgIHJldHVybiB1ID8gaSAr
IHUgKiAobltyXSAtIGkpIDogaQ0KICAgIH0sIGFvLm1lZGlhbiA9IGZ1bmN0aW9u
KG4sIHQpIHsNCiAgICAgICAgdmFyIHUsIG8gPSBbXSwNCiAgICAgICAgICAgIGEg
PSBuLmxlbmd0aCwNCiAgICAgICAgICAgIGwgPSAtMTsNCiAgICAgICAgaWYgKDEg
PT09IGFyZ3VtZW50cy5sZW5ndGgpDQogICAgICAgICAgICBmb3IgKDsgKytsIDwg
YTspIGkodSA9IHIobltsXSkpICYmIG8ucHVzaCh1KTsNCiAgICAgICAgZWxzZQ0K
ICAgICAgICAgICAgZm9yICg7ICsrbCA8IGE7KSBpKHUgPSByKHQuY2FsbChuLCBu
W2xdLCBsKSkpICYmIG8ucHVzaCh1KTsNCiAgICAgICAgcmV0dXJuIG8ubGVuZ3Ro
ID8gYW8ucXVhbnRpbGUoby5zb3J0KGUpLCAuNSkgOiB2b2lkIDANCiAgICB9LCBh
by52YXJpYW5jZSA9IGZ1bmN0aW9uKG4sIHQpIHsNCiAgICAgICAgdmFyIGUsIHUs
IG8gPSBuLmxlbmd0aCwNCiAgICAgICAgICAgIGEgPSAwLA0KICAgICAgICAgICAg
bCA9IDAsDQogICAgICAgICAgICBjID0gLTEsDQogICAgICAgICAgICBmID0gMDsN
CiAgICAgICAgaWYgKDEgPT09IGFyZ3VtZW50cy5sZW5ndGgpDQogICAgICAgICAg
ICBmb3IgKDsgKytjIDwgbzspIGkoZSA9IHIobltjXSkpICYmICh1ID0gZSAtIGEs
IGEgKz0gdSAvICsrZiwgbCArPSB1ICogKGUgLSBhKSk7DQogICAgICAgIGVsc2UN
CiAgICAgICAgICAgIGZvciAoOyArK2MgPCBvOykgaShlID0gcih0LmNhbGwobiwg
bltjXSwgYykpKSAmJiAodSA9IGUgLSBhLCBhICs9IHUgLyArK2YsIGwgKz0gdSAq
IChlIC0gYSkpOw0KICAgICAgICByZXR1cm4gZiA+IDEgPyBsIC8gKGYgLSAxKSA6
IHZvaWQgMA0KICAgIH0sIGFvLmRldmlhdGlvbiA9IGZ1bmN0aW9uKCkgew0KICAg
ICAgICB2YXIgbiA9IGFvLnZhcmlhbmNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7
DQogICAgICAgIHJldHVybiBuID8gTWF0aC5zcXJ0KG4pIDogbg0KICAgIH07DQog
ICAgdmFyIE1vID0gdShlKTsNCiAgICBhby5iaXNlY3RMZWZ0ID0gTW8ubGVmdCwg
YW8uYmlzZWN0ID0gYW8uYmlzZWN0UmlnaHQgPSBNby5yaWdodCwgYW8uYmlzZWN0
b3IgPSBmdW5jdGlvbihuKSB7DQogICAgICAgIHJldHVybiB1KDEgPT09IG4ubGVu
Z3RoID8gZnVuY3Rpb24odCwgcikgew0KICAgICAgICAgICAgcmV0dXJuIGUobih0
KSwgcikNCiAgICAgICAgfSA6IG4pDQogICAgfSwgYW8uc2h1ZmZsZSA9IGZ1bmN0
aW9uKG4sIHQsIGUpIHsNCiAgICAgICAgKHUgPSBhcmd1bWVudHMubGVuZ3RoKSA8
IDMgJiYgKGUgPSBuLmxlbmd0aCwgMiA+IHUgJiYgKHQgPSAwKSk7DQogICAgICAg
IGZvciAodmFyIHIsIGksIHUgPSBlIC0gdDsgdTspIGkgPSBNYXRoLnJhbmRvbSgp
ICogdS0tIHwgMCwgciA9IG5bdSArIHRdLCBuW3UgKyB0XSA9IG5baSArIHRdLCBu
W2kgKyB0XSA9IHI7DQogICAgICAgIHJldHVybiBuDQogICAgfSwgYW8ucGVybXV0
ZSA9IGZ1bmN0aW9uKG4sIHQpIHsNCiAgICAgICAgZm9yICh2YXIgZSA9IHQubGVu
Z3RoLCByID0gbmV3IEFycmF5KGUpOyBlLS07KSByW2VdID0gblt0W2VdXTsNCiAg
ICAgICAgcmV0dXJuIHINCiAgICB9LCBhby5wYWlycyA9IGZ1bmN0aW9uKG4pIHsN
CiAgICAgICAgZm9yICh2YXIgdCwgZSA9IDAsIHIgPSBuLmxlbmd0aCAtIDEsIGkg
PSBuWzBdLCB1ID0gbmV3IEFycmF5KDAgPiByID8gMCA6IHIpOyByID4gZTspIHVb
ZV0gPSBbdCA9IGksIGkgPSBuWysrZV1dOw0KICAgICAgICByZXR1cm4gdQ0KICAg
IH0sIGFvLnRyYW5zcG9zZSA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgaWYgKCEo
aSA9IG4ubGVuZ3RoKSkgcmV0dXJuIFtdOw0KICAgICAgICBmb3IgKHZhciB0ID0g
LTEsIGUgPSBhby5taW4obiwgbyksIHIgPSBuZXcgQXJyYXkoZSk7ICsrdCA8IGU7
KQ0KICAgICAgICAgICAgZm9yICh2YXIgaSwgdSA9IC0xLCBhID0gclt0XSA9IG5l
dyBBcnJheShpKTsgKyt1IDwgaTspIGFbdV0gPSBuW3VdW3RdOw0KICAgICAgICBy
ZXR1cm4gcg0KICAgIH0sIGFvLnppcCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICBy
ZXR1cm4gYW8udHJhbnNwb3NlKGFyZ3VtZW50cykNCiAgICB9LCBhby5rZXlzID0g
ZnVuY3Rpb24obikgew0KICAgICAgICB2YXIgdCA9IFtdOw0KICAgICAgICBmb3Ig
KHZhciBlIGluIG4pIHQucHVzaChlKTsNCiAgICAgICAgcmV0dXJuIHQNCiAgICB9
LCBhby52YWx1ZXMgPSBmdW5jdGlvbihuKSB7DQogICAgICAgIHZhciB0ID0gW107
DQogICAgICAgIGZvciAodmFyIGUgaW4gbikgdC5wdXNoKG5bZV0pOw0KICAgICAg
ICByZXR1cm4gdA0KICAgIH0sIGFvLmVudHJpZXMgPSBmdW5jdGlvbihuKSB7DQog
ICAgICAgIHZhciB0ID0gW107DQogICAgICAgIGZvciAodmFyIGUgaW4gbikgdC5w
dXNoKHsNCiAgICAgICAgICAgIGtleTogZSwNCiAgICAgICAgICAgIHZhbHVlOiBu
W2VdDQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gdA0KICAgIH0sIGFvLm1l
cmdlID0gZnVuY3Rpb24obikgew0KICAgICAgICBmb3IgKHZhciB0LCBlLCByLCBp
ID0gbi5sZW5ndGgsIHUgPSAtMSwgbyA9IDA7ICsrdSA8IGk7KSBvICs9IG5bdV0u
bGVuZ3RoOw0KICAgICAgICBmb3IgKGUgPSBuZXcgQXJyYXkobyk7IC0taSA+PSAw
OykNCiAgICAgICAgICAgIGZvciAociA9IG5baV0sIHQgPSByLmxlbmd0aDsgLS10
ID49IDA7KSBlWy0tb10gPSByW3RdOw0KICAgICAgICByZXR1cm4gZQ0KICAgIH07
DQogICAgdmFyIHhvID0gTWF0aC5hYnM7DQogICAgYW8ucmFuZ2UgPSBmdW5jdGlv
bihuLCB0LCBlKSB7DQogICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMyAm
JiAoZSA9IDEsIGFyZ3VtZW50cy5sZW5ndGggPCAyICYmICh0ID0gbiwgbiA9IDAp
KSwgKHQgLSBuKSAvIGUgPT09IDEgLyAwKSB0aHJvdyBuZXcgRXJyb3IoImluZmlu
aXRlIHJhbmdlIik7DQogICAgICAgIHZhciByLCBpID0gW10sDQogICAgICAgICAg
ICB1ID0gYSh4byhlKSksDQogICAgICAgICAgICBvID0gLTE7DQogICAgICAgIGlm
IChuICo9IHUsIHQgKj0gdSwgZSAqPSB1LCAwID4gZSkNCiAgICAgICAgICAgIGZv
ciAoOw0KICAgICAgICAgICAgICAgIChyID0gbiArIGUgKiArK28pID4gdDspIGku
cHVzaChyIC8gdSk7DQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIGZvciAoOw0K
ICAgICAgICAgICAgICAgIChyID0gbiArIGUgKiArK28pIDwgdDspIGkucHVzaChy
IC8gdSk7DQogICAgICAgIHJldHVybiBpDQogICAgfSwgYW8ubWFwID0gZnVuY3Rp
b24obiwgdCkgew0KICAgICAgICB2YXIgZSA9IG5ldyBjOw0KICAgICAgICBpZiAo
biBpbnN0YW5jZW9mIGMpIG4uZm9yRWFjaChmdW5jdGlvbihuLCB0KSB7DQogICAg
ICAgICAgICBlLnNldChuLCB0KQ0KICAgICAgICB9KTsNCiAgICAgICAgZWxzZSBp
ZiAoQXJyYXkuaXNBcnJheShuKSkgew0KICAgICAgICAgICAgdmFyIHIsIGkgPSAt
MSwNCiAgICAgICAgICAgICAgICB1ID0gbi5sZW5ndGg7DQogICAgICAgICAgICBp
ZiAoMSA9PT0gYXJndW1lbnRzLmxlbmd0aCkNCiAgICAgICAgICAgICAgICBmb3Ig
KDsgKytpIDwgdTspIGUuc2V0KGksIG5baV0pOw0KICAgICAgICAgICAgZWxzZQ0K
ICAgICAgICAgICAgICAgIGZvciAoOyArK2kgPCB1OykgZS5zZXQodC5jYWxsKG4s
IHIgPSBuW2ldLCBpKSwgcikNCiAgICAgICAgfSBlbHNlDQogICAgICAgICAgICBm
b3IgKHZhciBvIGluIG4pIGUuc2V0KG8sIG5bb10pOw0KICAgICAgICByZXR1cm4g
ZQ0KICAgIH07DQogICAgdmFyIGJvID0gIl9fcHJvdG9fXyIsDQogICAgICAgIF9v
ID0gIlx4MDAiOw0KICAgIGwoYywgew0KICAgICAgICBoYXM6IGgsDQogICAgICAg
IGdldDogZnVuY3Rpb24obikgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuX1tm
KG4pXQ0KICAgICAgICB9LA0KICAgICAgICBzZXQ6IGZ1bmN0aW9uKG4sIHQpIHsN
CiAgICAgICAgICAgIHJldHVybiB0aGlzLl9bZihuKV0gPSB0DQogICAgICAgIH0s
DQogICAgICAgIHJlbW92ZTogcCwNCiAgICAgICAga2V5czogZywNCiAgICAgICAg
dmFsdWVzOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciBuID0gW107DQog
ICAgICAgICAgICBmb3IgKHZhciB0IGluIHRoaXMuXykgbi5wdXNoKHRoaXMuX1t0
XSk7DQogICAgICAgICAgICByZXR1cm4gbg0KICAgICAgICB9LA0KICAgICAgICBl
bnRyaWVzOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciBuID0gW107DQog
ICAgICAgICAgICBmb3IgKHZhciB0IGluIHRoaXMuXykgbi5wdXNoKHsNCiAgICAg
ICAgICAgICAgICBrZXk6IHModCksDQogICAgICAgICAgICAgICAgdmFsdWU6IHRo
aXMuX1t0XQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cm4gbg0K
ICAgICAgICB9LA0KICAgICAgICBzaXplOiB2LA0KICAgICAgICBlbXB0eTogZCwN
CiAgICAgICAgZm9yRWFjaDogZnVuY3Rpb24obikgew0KICAgICAgICAgICAgZm9y
ICh2YXIgdCBpbiB0aGlzLl8pIG4uY2FsbCh0aGlzLCBzKHQpLCB0aGlzLl9bdF0p
DQogICAgICAgIH0NCiAgICB9KSwgYW8ubmVzdCA9IGZ1bmN0aW9uKCkgew0KICAg
ICAgICBmdW5jdGlvbiBuKHQsIG8sIGEpIHsNCiAgICAgICAgICAgIGlmIChhID49
IHUubGVuZ3RoKSByZXR1cm4gciA/IHIuY2FsbChpLCBvKSA6IGUgPyBvLnNvcnQo
ZSkgOiBvOw0KICAgICAgICAgICAgZm9yICh2YXIgbCwgZiwgcywgaCwgcCA9IC0x
LCBnID0gby5sZW5ndGgsIHYgPSB1W2ErK10sIGQgPSBuZXcgYzsgKytwIDwgZzsp
KGggPSBkLmdldChsID0gdihmID0gb1twXSkpKSA/IGgucHVzaChmKSA6IGQuc2V0
KGwsIFtmXSk7DQogICAgICAgICAgICByZXR1cm4gdCA/IChmID0gdCgpLCBzID0g
ZnVuY3Rpb24oZSwgcikgew0KICAgICAgICAgICAgICAgIGYuc2V0KGUsIG4odCwg
ciwgYSkpDQogICAgICAgICAgICB9KSA6IChmID0ge30sIHMgPSBmdW5jdGlvbihl
LCByKSB7DQogICAgICAgICAgICAgICAgZltlXSA9IG4odCwgciwgYSkNCiAgICAg
ICAgICAgIH0pLCBkLmZvckVhY2gocyksIGYNCiAgICAgICAgfQ0KDQogICAgICAg
IGZ1bmN0aW9uIHQobiwgZSkgew0KICAgICAgICAgICAgaWYgKGUgPj0gdS5sZW5n
dGgpIHJldHVybiBuOw0KICAgICAgICAgICAgdmFyIHIgPSBbXSwNCiAgICAgICAg
ICAgICAgICBpID0gb1tlKytdOw0KICAgICAgICAgICAgcmV0dXJuIG4uZm9yRWFj
aChmdW5jdGlvbihuLCBpKSB7DQogICAgICAgICAgICAgICAgci5wdXNoKHsNCiAg
ICAgICAgICAgICAgICAgICAga2V5OiBuLA0KICAgICAgICAgICAgICAgICAgICB2
YWx1ZXM6IHQoaSwgZSkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAg
fSksIGkgPyByLnNvcnQoZnVuY3Rpb24obiwgdCkgew0KICAgICAgICAgICAgICAg
IHJldHVybiBpKG4ua2V5LCB0LmtleSkNCiAgICAgICAgICAgIH0pIDogcg0KICAg
ICAgICB9DQogICAgICAgIHZhciBlLCByLCBpID0ge30sDQogICAgICAgICAgICB1
ID0gW10sDQogICAgICAgICAgICBvID0gW107DQogICAgICAgIHJldHVybiBpLm1h
cCA9IGZ1bmN0aW9uKHQsIGUpIHsNCiAgICAgICAgICAgIHJldHVybiBuKGUsIHQs
IDApDQogICAgICAgIH0sIGkuZW50cmllcyA9IGZ1bmN0aW9uKGUpIHsNCiAgICAg
ICAgICAgIHJldHVybiB0KG4oYW8ubWFwLCBlLCAwKSwgMCkNCiAgICAgICAgfSwg
aS5rZXkgPSBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICByZXR1cm4gdS5wdXNo
KG4pLCBpDQogICAgICAgIH0sIGkuc29ydEtleXMgPSBmdW5jdGlvbihuKSB7DQog
ICAgICAgICAgICByZXR1cm4gb1t1Lmxlbmd0aCAtIDFdID0gbiwgaQ0KICAgICAg
ICB9LCBpLnNvcnRWYWx1ZXMgPSBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICBy
ZXR1cm4gZSA9IG4sIGkNCiAgICAgICAgfSwgaS5yb2xsdXAgPSBmdW5jdGlvbihu
KSB7DQogICAgICAgICAgICByZXR1cm4gciA9IG4sIGkNCiAgICAgICAgfSwgaQ0K
ICAgIH0sIGFvLnNldCA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgdmFyIHQgPSBu
ZXcgeTsNCiAgICAgICAgaWYgKG4pDQogICAgICAgICAgICBmb3IgKHZhciBlID0g
MCwgciA9IG4ubGVuZ3RoOyByID4gZTsgKytlKSB0LmFkZChuW2VdKTsNCiAgICAg
ICAgcmV0dXJuIHQNCiAgICB9LCBsKHksIHsNCiAgICAgICAgaGFzOiBoLA0KICAg
ICAgICBhZGQ6IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlz
Ll9bZihuICs9ICIiKV0gPSAhMCwgbg0KICAgICAgICB9LA0KICAgICAgICByZW1v
dmU6IHAsDQogICAgICAgIHZhbHVlczogZywNCiAgICAgICAgc2l6ZTogdiwNCiAg
ICAgICAgZW1wdHk6IGQsDQogICAgICAgIGZvckVhY2g6IGZ1bmN0aW9uKG4pIHsN
CiAgICAgICAgICAgIGZvciAodmFyIHQgaW4gdGhpcy5fKSBuLmNhbGwodGhpcywg
cyh0KSkNCiAgICAgICAgfQ0KICAgIH0pLCBhby5iZWhhdmlvciA9IHt9LCBhby5y
ZWJpbmQgPSBmdW5jdGlvbihuLCB0KSB7DQogICAgICAgIGZvciAodmFyIGUsIHIg
PSAxLCBpID0gYXJndW1lbnRzLmxlbmd0aDsgKytyIDwgaTspIG5bZSA9IGFyZ3Vt
ZW50c1tyXV0gPSBNKG4sIHQsIHRbZV0pOw0KICAgICAgICByZXR1cm4gbg0KICAg
IH07DQogICAgdmFyIHdvID0gWyJ3ZWJraXQiLCAibXMiLCAibW96IiwgIk1veiIs
ICJvIiwgIk8iXTsNCiAgICBhby5kaXNwYXRjaCA9IGZ1bmN0aW9uKCkgew0KICAg
ICAgICBmb3IgKHZhciBuID0gbmV3IF8sIHQgPSAtMSwgZSA9IGFyZ3VtZW50cy5s
ZW5ndGg7ICsrdCA8IGU7KSBuW2FyZ3VtZW50c1t0XV0gPSB3KG4pOw0KICAgICAg
ICByZXR1cm4gbg0KICAgIH0sIF8ucHJvdG90eXBlLm9uID0gZnVuY3Rpb24obiwg
dCkgew0KICAgICAgICB2YXIgZSA9IG4uaW5kZXhPZigiLiIpLA0KICAgICAgICAg
ICAgciA9ICIiOw0KICAgICAgICBpZiAoZSA+PSAwICYmIChyID0gbi5zbGljZShl
ICsgMSksIG4gPSBuLnNsaWNlKDAsIGUpKSwgbikgcmV0dXJuIGFyZ3VtZW50cy5s
ZW5ndGggPCAyID8gdGhpc1tuXS5vbihyKSA6IHRoaXNbbl0ub24ociwgdCk7DQog
ICAgICAgIGlmICgyID09PSBhcmd1bWVudHMubGVuZ3RoKSB7DQogICAgICAgICAg
ICBpZiAobnVsbCA9PSB0KQ0KICAgICAgICAgICAgICAgIGZvciAobiBpbiB0aGlz
KSB0aGlzLmhhc093blByb3BlcnR5KG4pICYmIHRoaXNbbl0ub24ociwgbnVsbCk7
DQogICAgICAgICAgICByZXR1cm4gdGhpcw0KICAgICAgICB9DQogICAgfSwgYW8u
ZXZlbnQgPSBudWxsLCBhby5yZXF1b3RlID0gZnVuY3Rpb24obikgew0KICAgICAg
ICByZXR1cm4gbi5yZXBsYWNlKFNvLCAiXFwkJiIpDQogICAgfTsNCiAgICB2YXIg
U28gPSAvW1xcXF5cJFwqXCtcP1x8XFtcXVwoXClcLlx7XH1dL2csDQogICAgICAg
IGtvID0ge30uX19wcm90b19fID8gZnVuY3Rpb24obiwgdCkgew0KICAgICAgICAg
ICAgbi5fX3Byb3RvX18gPSB0DQogICAgICAgIH0gOiBmdW5jdGlvbihuLCB0KSB7
DQogICAgICAgICAgICBmb3IgKHZhciBlIGluIHQpIG5bZV0gPSB0W2VdDQogICAg
ICAgIH0sDQogICAgICAgIE5vID0gZnVuY3Rpb24obiwgdCkgew0KICAgICAgICAg
ICAgcmV0dXJuIHQucXVlcnlTZWxlY3RvcihuKQ0KICAgICAgICB9LA0KICAgICAg
ICBFbyA9IGZ1bmN0aW9uKG4sIHQpIHsNCiAgICAgICAgICAgIHJldHVybiB0LnF1
ZXJ5U2VsZWN0b3JBbGwobikNCiAgICAgICAgfSwNCiAgICAgICAgQW8gPSBmdW5j
dGlvbihuLCB0KSB7DQogICAgICAgICAgICB2YXIgZSA9IG4ubWF0Y2hlcyB8fCBu
W3gobiwgIm1hdGNoZXNTZWxlY3RvciIpXTsNCiAgICAgICAgICAgIHJldHVybiAo
QW8gPSBmdW5jdGlvbihuLCB0KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGUu
Y2FsbChuLCB0KQ0KICAgICAgICAgICAgfSkobiwgdCkNCiAgICAgICAgfTsNCiAg
ICAiZnVuY3Rpb24iID09IHR5cGVvZiBTaXp6bGUgJiYgKE5vID0gZnVuY3Rpb24o
biwgdCkgew0KICAgICAgICByZXR1cm4gU2l6emxlKG4sIHQpWzBdIHx8IG51bGwN
CiAgICB9LCBFbyA9IFNpenpsZSwgQW8gPSBTaXp6bGUubWF0Y2hlc1NlbGVjdG9y
KSwgYW8uc2VsZWN0aW9uID0gZnVuY3Rpb24oKSB7DQogICAgICAgIHJldHVybiBh
by5zZWxlY3QoZm8uZG9jdW1lbnRFbGVtZW50KQ0KICAgIH07DQogICAgdmFyIENv
ID0gYW8uc2VsZWN0aW9uLnByb3RvdHlwZSA9IFtdOw0KICAgIENvLnNlbGVjdCA9
IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgdmFyIHQsIGUsIHIsIGksIHUgPSBbXTsN
CiAgICAgICAgbiA9IEEobik7DQogICAgICAgIGZvciAodmFyIG8gPSAtMSwgYSA9
IHRoaXMubGVuZ3RoOyArK28gPCBhOykgew0KICAgICAgICAgICAgdS5wdXNoKHQg
PSBbXSksIHQucGFyZW50Tm9kZSA9IChyID0gdGhpc1tvXSkucGFyZW50Tm9kZTsN
CiAgICAgICAgICAgIGZvciAodmFyIGwgPSAtMSwgYyA9IHIubGVuZ3RoOyArK2wg
PCBjOykoaSA9IHJbbF0pID8gKHQucHVzaChlID0gbi5jYWxsKGksIGkuX19kYXRh
X18sIGwsIG8pKSwgZSAmJiAiX19kYXRhX18iIGluIGkgJiYgKGUuX19kYXRhX18g
PSBpLl9fZGF0YV9fKSkgOiB0LnB1c2gobnVsbCkNCiAgICAgICAgfQ0KICAgICAg
ICByZXR1cm4gRSh1KQ0KICAgIH0sIENvLnNlbGVjdEFsbCA9IGZ1bmN0aW9uKG4p
IHsNCiAgICAgICAgdmFyIHQsIGUsIHIgPSBbXTsNCiAgICAgICAgbiA9IEMobik7
DQogICAgICAgIGZvciAodmFyIGkgPSAtMSwgdSA9IHRoaXMubGVuZ3RoOyArK2kg
PCB1OykNCiAgICAgICAgICAgIGZvciAodmFyIG8gPSB0aGlzW2ldLCBhID0gLTEs
IGwgPSBvLmxlbmd0aDsgKythIDwgbDspKGUgPSBvW2FdKSAmJiAoci5wdXNoKHQg
PSBjbyhuLmNhbGwoZSwgZS5fX2RhdGFfXywgYSwgaSkpKSwgdC5wYXJlbnROb2Rl
ID0gZSk7DQogICAgICAgIHJldHVybiBFKHIpDQogICAgfTsNCiAgICB2YXIgem8g
PSAiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIsDQogICAgICAgIExvID0g
ew0KICAgICAgICAgICAgc3ZnOiAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmci
LA0KICAgICAgICAgICAgeGh0bWw6IHpvLA0KICAgICAgICAgICAgeGxpbms6ICJo
dHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiwNCiAgICAgICAgICAgIHhtbDog
Imh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSIsDQogICAgICAg
ICAgICB4bWxuczogImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvIg0KICAg
ICAgICB9Ow0KICAgIGFvLm5zID0gew0KICAgICAgICBwcmVmaXg6IExvLA0KICAg
ICAgICBxdWFsaWZ5OiBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICB2YXIgdCA9
IG4uaW5kZXhPZigiOiIpLA0KICAgICAgICAgICAgICAgIGUgPSBuOw0KICAgICAg
ICAgICAgcmV0dXJuIHQgPj0gMCAmJiAieG1sbnMiICE9PSAoZSA9IG4uc2xpY2Uo
MCwgdCkpICYmIChuID0gbi5zbGljZSh0ICsgMSkpLCBMby5oYXNPd25Qcm9wZXJ0
eShlKSA/IHsNCiAgICAgICAgICAgICAgICBzcGFjZTogTG9bZV0sDQogICAgICAg
ICAgICAgICAgbG9jYWw6IG4NCiAgICAgICAgICAgIH0gOiBuDQogICAgICAgIH0N
CiAgICB9LCBDby5hdHRyID0gZnVuY3Rpb24obiwgdCkgew0KICAgICAgICBpZiAo
YXJndW1lbnRzLmxlbmd0aCA8IDIpIHsNCiAgICAgICAgICAgIGlmICgic3RyaW5n
IiA9PSB0eXBlb2Ygbikgew0KICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy5u
b2RlKCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIG4gPSBhby5ucy5xdWFsaWZ5
KG4pLCBuLmxvY2FsID8gZS5nZXRBdHRyaWJ1dGVOUyhuLnNwYWNlLCBuLmxvY2Fs
KSA6IGUuZ2V0QXR0cmlidXRlKG4pDQogICAgICAgICAgICB9DQogICAgICAgICAg
ICBmb3IgKHQgaW4gbikgdGhpcy5lYWNoKHoodCwgblt0XSkpOw0KICAgICAgICAg
ICAgcmV0dXJuIHRoaXMNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gdGhpcy5l
YWNoKHoobiwgdCkpDQogICAgfSwgQ28uY2xhc3NlZCA9IGZ1bmN0aW9uKG4sIHQp
IHsNCiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7DQogICAgICAg
ICAgICBpZiAoInN0cmluZyIgPT0gdHlwZW9mIG4pIHsNCiAgICAgICAgICAgICAg
ICB2YXIgZSA9IHRoaXMubm9kZSgpLA0KICAgICAgICAgICAgICAgICAgICByID0g
KG4gPSBUKG4pKS5sZW5ndGgsDQogICAgICAgICAgICAgICAgICAgIGkgPSAtMTsN
CiAgICAgICAgICAgICAgICBpZiAodCA9IGUuY2xhc3NMaXN0KSB7DQogICAgICAg
ICAgICAgICAgICAgIGZvciAoOyArK2kgPCByOykNCiAgICAgICAgICAgICAgICAg
ICAgICAgIGlmICghdC5jb250YWlucyhuW2ldKSkgcmV0dXJuICExDQogICAgICAg
ICAgICAgICAgfSBlbHNlDQogICAgICAgICAgICAgICAgICAgIGZvciAodCA9IGUu
Z2V0QXR0cmlidXRlKCJjbGFzcyIpOyArK2kgPCByOykNCiAgICAgICAgICAgICAg
ICAgICAgICAgIGlmICghcShuW2ldKS50ZXN0KHQpKSByZXR1cm4gITE7DQogICAg
ICAgICAgICAgICAgcmV0dXJuICEwDQogICAgICAgICAgICB9DQogICAgICAgICAg
ICBmb3IgKHQgaW4gbikgdGhpcy5lYWNoKFIodCwgblt0XSkpOw0KICAgICAgICAg
ICAgcmV0dXJuIHRoaXMNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gdGhpcy5l
YWNoKFIobiwgdCkpDQogICAgfSwgQ28uc3R5bGUgPSBmdW5jdGlvbihuLCBlLCBy
KSB7DQogICAgICAgIHZhciBpID0gYXJndW1lbnRzLmxlbmd0aDsNCiAgICAgICAg
aWYgKDMgPiBpKSB7DQogICAgICAgICAgICBpZiAoInN0cmluZyIgIT0gdHlwZW9m
IG4pIHsNCiAgICAgICAgICAgICAgICAyID4gaSAmJiAoZSA9ICIiKTsNCiAgICAg
ICAgICAgICAgICBmb3IgKHIgaW4gbikgdGhpcy5lYWNoKFAociwgbltyXSwgZSkp
Ow0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzDQogICAgICAgICAgICB9DQog
ICAgICAgICAgICBpZiAoMiA+IGkpIHsNCiAgICAgICAgICAgICAgICB2YXIgdSA9
IHRoaXMubm9kZSgpOw0KICAgICAgICAgICAgICAgIHJldHVybiB0KHUpLmdldENv
bXB1dGVkU3R5bGUodSwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShuKQ0KICAgICAg
ICAgICAgfQ0KICAgICAgICAgICAgciA9ICIiDQogICAgICAgIH0NCiAgICAgICAg
cmV0dXJuIHRoaXMuZWFjaChQKG4sIGUsIHIpKQ0KICAgIH0sIENvLnByb3BlcnR5
ID0gZnVuY3Rpb24obiwgdCkgew0KICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0
aCA8IDIpIHsNCiAgICAgICAgICAgIGlmICgic3RyaW5nIiA9PSB0eXBlb2Ygbikg
cmV0dXJuIHRoaXMubm9kZSgpW25dOw0KICAgICAgICAgICAgZm9yICh0IGluIG4p
IHRoaXMuZWFjaChVKHQsIG5bdF0pKTsNCiAgICAgICAgICAgIHJldHVybiB0aGlz
DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChVKG4sIHQpKQ0K
ICAgIH0sIENvLnRleHQgPSBmdW5jdGlvbihuKSB7DQogICAgICAgIHJldHVybiBh
cmd1bWVudHMubGVuZ3RoID8gdGhpcy5lYWNoKCJmdW5jdGlvbiIgPT0gdHlwZW9m
IG4gPyBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciB0ID0gbi5hcHBseSh0
aGlzLCBhcmd1bWVudHMpOw0KICAgICAgICAgICAgdGhpcy50ZXh0Q29udGVudCA9
IG51bGwgPT0gdCA/ICIiIDogdA0KICAgICAgICB9IDogbnVsbCA9PSBuID8gZnVu
Y3Rpb24oKSB7DQogICAgICAgICAgICB0aGlzLnRleHRDb250ZW50ID0gIiINCiAg
ICAgICAgfSA6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgdGhpcy50ZXh0Q29u
dGVudCA9IG4NCiAgICAgICAgfSkgOiB0aGlzLm5vZGUoKS50ZXh0Q29udGVudA0K
ICAgIH0sIENvLmh0bWwgPSBmdW5jdGlvbihuKSB7DQogICAgICAgIHJldHVybiBh
cmd1bWVudHMubGVuZ3RoID8gdGhpcy5lYWNoKCJmdW5jdGlvbiIgPT0gdHlwZW9m
IG4gPyBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciB0ID0gbi5hcHBseSh0
aGlzLCBhcmd1bWVudHMpOw0KICAgICAgICAgICAgdGhpcy5pbm5lckhUTUwgPSBu
dWxsID09IHQgPyAiIiA6IHQNCiAgICAgICAgfSA6IG51bGwgPT0gbiA/IGZ1bmN0
aW9uKCkgew0KICAgICAgICAgICAgdGhpcy5pbm5lckhUTUwgPSAiIg0KICAgICAg
ICB9IDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICB0aGlzLmlubmVySFRNTCA9
IG4NCiAgICAgICAgfSkgOiB0aGlzLm5vZGUoKS5pbm5lckhUTUwNCiAgICB9LCBD
by5hcHBlbmQgPSBmdW5jdGlvbihuKSB7DQogICAgICAgIHJldHVybiBuID0gaihu
KSwgdGhpcy5zZWxlY3QoZnVuY3Rpb24oKSB7DQogICAgICAgICAgICByZXR1cm4g
dGhpcy5hcHBlbmRDaGlsZChuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpDQogICAg
ICAgIH0pDQogICAgfSwgQ28uaW5zZXJ0ID0gZnVuY3Rpb24obiwgdCkgew0KICAg
ICAgICByZXR1cm4gbiA9IGoobiksIHQgPSBBKHQpLCB0aGlzLnNlbGVjdChmdW5j
dGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLmluc2VydEJlZm9yZShu
LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHQuYXBwbHkodGhpcywgYXJndW1lbnRz
KSB8fCBudWxsKQ0KICAgICAgICB9KQ0KICAgIH0sIENvLnJlbW92ZSA9IGZ1bmN0
aW9uKCkgew0KICAgICAgICByZXR1cm4gdGhpcy5lYWNoKEYpDQogICAgfSwgQ28u
ZGF0YSA9IGZ1bmN0aW9uKG4sIHQpIHsNCiAgICAgICAgZnVuY3Rpb24gZShuLCBl
KSB7DQogICAgICAgICAgICB2YXIgciwgaSwgdSwgbyA9IG4ubGVuZ3RoLA0KICAg
ICAgICAgICAgICAgIHMgPSBlLmxlbmd0aCwNCiAgICAgICAgICAgICAgICBoID0g
TWF0aC5taW4obywgcyksDQogICAgICAgICAgICAgICAgcCA9IG5ldyBBcnJheShz
KSwNCiAgICAgICAgICAgICAgICBnID0gbmV3IEFycmF5KHMpLA0KICAgICAgICAg
ICAgICAgIHYgPSBuZXcgQXJyYXkobyk7DQogICAgICAgICAgICBpZiAodCkgew0K
ICAgICAgICAgICAgICAgIHZhciBkLCB5ID0gbmV3IGMsDQogICAgICAgICAgICAg
ICAgICAgIG0gPSBuZXcgQXJyYXkobyk7DQogICAgICAgICAgICAgICAgZm9yIChy
ID0gLTE7ICsrciA8IG87KShpID0gbltyXSkgJiYgKHkuaGFzKGQgPSB0LmNhbGwo
aSwgaS5fX2RhdGFfXywgcikpID8gdltyXSA9IGkgOiB5LnNldChkLCBpKSwgbVty
XSA9IGQpOw0KICAgICAgICAgICAgICAgIGZvciAociA9IC0xOyArK3IgPCBzOyko
aSA9IHkuZ2V0KGQgPSB0LmNhbGwoZSwgdSA9IGVbcl0sIHIpKSkgPyBpICE9PSAh
MCAmJiAocFtyXSA9IGksIGkuX19kYXRhX18gPSB1KSA6IGdbcl0gPSBIKHUpLCB5
LnNldChkLCAhMCk7DQogICAgICAgICAgICAgICAgZm9yIChyID0gLTE7ICsrciA8
IG87KSByIGluIG0gJiYgeS5nZXQobVtyXSkgIT09ICEwICYmICh2W3JdID0gblty
XSkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgZm9yIChy
ID0gLTE7ICsrciA8IGg7KSBpID0gbltyXSwgdSA9IGVbcl0sIGkgPyAoaS5fX2Rh
dGFfXyA9IHUsIHBbcl0gPSBpKSA6IGdbcl0gPSBIKHUpOw0KICAgICAgICAgICAg
ICAgIGZvciAoOyBzID4gcjsgKytyKSBnW3JdID0gSChlW3JdKTsNCiAgICAgICAg
ICAgICAgICBmb3IgKDsgbyA+IHI7ICsrcikgdltyXSA9IG5bcl0NCiAgICAgICAg
ICAgIH0NCiAgICAgICAgICAgIGcudXBkYXRlID0gcCwgZy5wYXJlbnROb2RlID0g
cC5wYXJlbnROb2RlID0gdi5wYXJlbnROb2RlID0gbi5wYXJlbnROb2RlLCBhLnB1
c2goZyksIGwucHVzaChwKSwgZi5wdXNoKHYpDQogICAgICAgIH0NCiAgICAgICAg
dmFyIHIsIGksIHUgPSAtMSwNCiAgICAgICAgICAgIG8gPSB0aGlzLmxlbmd0aDsN
CiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7DQogICAgICAgICAgICBm
b3IgKG4gPSBuZXcgQXJyYXkobyA9IChyID0gdGhpc1swXSkubGVuZ3RoKTsgKyt1
IDwgbzspKGkgPSByW3VdKSAmJiAoblt1XSA9IGkuX19kYXRhX18pOw0KICAgICAg
ICAgICAgcmV0dXJuIG4NCiAgICAgICAgfQ0KICAgICAgICB2YXIgYSA9IFooW10p
LA0KICAgICAgICAgICAgbCA9IEUoW10pLA0KICAgICAgICAgICAgZiA9IEUoW10p
Ow0KICAgICAgICBpZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgbikNCiAgICAgICAg
ICAgIGZvciAoOyArK3UgPCBvOykgZShyID0gdGhpc1t1XSwgbi5jYWxsKHIsIHIu
cGFyZW50Tm9kZS5fX2RhdGFfXywgdSkpOw0KICAgICAgICBlbHNlDQogICAgICAg
ICAgICBmb3IgKDsgKyt1IDwgbzspIGUociA9IHRoaXNbdV0sIG4pOw0KICAgICAg
ICByZXR1cm4gbC5lbnRlciA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgcmV0
dXJuIGENCiAgICAgICAgfSwgbC5leGl0ID0gZnVuY3Rpb24oKSB7DQogICAgICAg
ICAgICByZXR1cm4gZg0KICAgICAgICB9LCBsDQogICAgfSwgQ28uZGF0dW0gPSBm
dW5jdGlvbihuKSB7DQogICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8g
dGhpcy5wcm9wZXJ0eSgiX19kYXRhX18iLCBuKSA6IHRoaXMucHJvcGVydHkoIl9f
ZGF0YV9fIikNCiAgICB9LCBDby5maWx0ZXIgPSBmdW5jdGlvbihuKSB7DQogICAg
ICAgIHZhciB0LCBlLCByLCBpID0gW107DQogICAgICAgICJmdW5jdGlvbiIgIT0g
dHlwZW9mIG4gJiYgKG4gPSBPKG4pKTsNCiAgICAgICAgZm9yICh2YXIgdSA9IDAs
IG8gPSB0aGlzLmxlbmd0aDsgbyA+IHU7IHUrKykgew0KICAgICAgICAgICAgaS5w
dXNoKHQgPSBbXSksIHQucGFyZW50Tm9kZSA9IChlID0gdGhpc1t1XSkucGFyZW50
Tm9kZTsNCiAgICAgICAgICAgIGZvciAodmFyIGEgPSAwLCBsID0gZS5sZW5ndGg7
IGwgPiBhOyBhKyspKHIgPSBlW2FdKSAmJiBuLmNhbGwociwgci5fX2RhdGFfXywg
YSwgdSkgJiYgdC5wdXNoKHIpDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIEUo
aSkNCiAgICB9LCBDby5vcmRlciA9IGZ1bmN0aW9uKCkgew0KICAgICAgICBmb3Ig
KHZhciBuID0gLTEsIHQgPSB0aGlzLmxlbmd0aDsgKytuIDwgdDspDQogICAgICAg
ICAgICBmb3IgKHZhciBlLCByID0gdGhpc1tuXSwgaSA9IHIubGVuZ3RoIC0gMSwg
dSA9IHJbaV07IC0taSA+PSAwOykoZSA9IHJbaV0pICYmICh1ICYmIHUgIT09IGUu
bmV4dFNpYmxpbmcgJiYgdS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLCB1KSwg
dSA9IGUpOw0KICAgICAgICByZXR1cm4gdGhpcw0KICAgIH0sIENvLnNvcnQgPSBm
dW5jdGlvbihuKSB7DQogICAgICAgIG4gPSBJLmFwcGx5KHRoaXMsIGFyZ3VtZW50
cyk7DQogICAgICAgIGZvciAodmFyIHQgPSAtMSwgZSA9IHRoaXMubGVuZ3RoOyAr
K3QgPCBlOykgdGhpc1t0XS5zb3J0KG4pOw0KICAgICAgICByZXR1cm4gdGhpcy5v
cmRlcigpDQogICAgfSwgQ28uZWFjaCA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAg
cmV0dXJuIFkodGhpcywgZnVuY3Rpb24odCwgZSwgcikgew0KICAgICAgICAgICAg
bi5jYWxsKHQsIHQuX19kYXRhX18sIGUsIHIpDQogICAgICAgIH0pDQogICAgfSwg
Q28uY2FsbCA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgdmFyIHQgPSBjbyhhcmd1
bWVudHMpOw0KICAgICAgICByZXR1cm4gbi5hcHBseSh0WzBdID0gdGhpcywgdCks
IHRoaXMNCiAgICB9LCBDby5lbXB0eSA9IGZ1bmN0aW9uKCkgew0KICAgICAgICBy
ZXR1cm4gIXRoaXMubm9kZSgpDQogICAgfSwgQ28ubm9kZSA9IGZ1bmN0aW9uKCkg
ew0KICAgICAgICBmb3IgKHZhciBuID0gMCwgdCA9IHRoaXMubGVuZ3RoOyB0ID4g
bjsgbisrKQ0KICAgICAgICAgICAgZm9yICh2YXIgZSA9IHRoaXNbbl0sIHIgPSAw
LCBpID0gZS5sZW5ndGg7IGkgPiByOyByKyspIHsNCiAgICAgICAgICAgICAgICB2
YXIgdSA9IGVbcl07DQogICAgICAgICAgICAgICAgaWYgKHUpIHJldHVybiB1DQog
ICAgICAgICAgICB9DQogICAgICAgIHJldHVybiBudWxsDQogICAgfSwgQ28uc2l6
ZSA9IGZ1bmN0aW9uKCkgew0KICAgICAgICB2YXIgbiA9IDA7DQogICAgICAgIHJl
dHVybiBZKHRoaXMsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgKytuDQogICAg
ICAgIH0pLCBuDQogICAgfTsNCiAgICB2YXIgcW8gPSBbXTsNCiAgICBhby5zZWxl
Y3Rpb24uZW50ZXIgPSBaLCBhby5zZWxlY3Rpb24uZW50ZXIucHJvdG90eXBlID0g
cW8sIHFvLmFwcGVuZCA9IENvLmFwcGVuZCwgcW8uZW1wdHkgPSBDby5lbXB0eSwg
cW8ubm9kZSA9IENvLm5vZGUsIHFvLmNhbGwgPSBDby5jYWxsLCBxby5zaXplID0g
Q28uc2l6ZSwgcW8uc2VsZWN0ID0gZnVuY3Rpb24obikgew0KICAgICAgICBmb3Ig
KHZhciB0LCBlLCByLCBpLCB1LCBvID0gW10sIGEgPSAtMSwgbCA9IHRoaXMubGVu
Z3RoOyArK2EgPCBsOykgew0KICAgICAgICAgICAgciA9IChpID0gdGhpc1thXSku
dXBkYXRlLCBvLnB1c2godCA9IFtdKSwgdC5wYXJlbnROb2RlID0gaS5wYXJlbnRO
b2RlOw0KICAgICAgICAgICAgZm9yICh2YXIgYyA9IC0xLCBmID0gaS5sZW5ndGg7
ICsrYyA8IGY7KSh1ID0gaVtjXSkgPyAodC5wdXNoKHJbY10gPSBlID0gbi5jYWxs
KGkucGFyZW50Tm9kZSwgdS5fX2RhdGFfXywgYywgYSkpLCBlLl9fZGF0YV9fID0g
dS5fX2RhdGFfXykgOiB0LnB1c2gobnVsbCkNCiAgICAgICAgfQ0KICAgICAgICBy
ZXR1cm4gRShvKQ0KICAgIH0sIHFvLmluc2VydCA9IGZ1bmN0aW9uKG4sIHQpIHsN
CiAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPCAyICYmICh0ID0gVih0
aGlzKSksIENvLmluc2VydC5jYWxsKHRoaXMsIG4sIHQpDQogICAgfSwgYW8uc2Vs
ZWN0ID0gZnVuY3Rpb24odCkgew0KICAgICAgICB2YXIgZTsNCiAgICAgICAgcmV0
dXJuICJzdHJpbmciID09IHR5cGVvZiB0ID8gKGUgPSBbTm8odCwgZm8pXSwgZS5w
YXJlbnROb2RlID0gZm8uZG9jdW1lbnRFbGVtZW50KSA6IChlID0gW3RdLCBlLnBh
cmVudE5vZGUgPSBuKHQpKSwgRShbZV0pDQogICAgfSwgYW8uc2VsZWN0QWxsID0g
ZnVuY3Rpb24obikgew0KICAgICAgICB2YXIgdDsNCiAgICAgICAgcmV0dXJuICJz
dHJpbmciID09IHR5cGVvZiBuID8gKHQgPSBjbyhFbyhuLCBmbykpLCB0LnBhcmVu
dE5vZGUgPSBmby5kb2N1bWVudEVsZW1lbnQpIDogKHQgPSBjbyhuKSwgdC5wYXJl
bnROb2RlID0gbnVsbCksIEUoW3RdKQ0KICAgIH0sIENvLm9uID0gZnVuY3Rpb24o
biwgdCwgZSkgew0KICAgICAgICB2YXIgciA9IGFyZ3VtZW50cy5sZW5ndGg7DQog
ICAgICAgIGlmICgzID4gcikgew0KICAgICAgICAgICAgaWYgKCJzdHJpbmciICE9
IHR5cGVvZiBuKSB7DQogICAgICAgICAgICAgICAgMiA+IHIgJiYgKHQgPSAhMSk7
DQogICAgICAgICAgICAgICAgZm9yIChlIGluIG4pIHRoaXMuZWFjaChYKGUsIG5b
ZV0sIHQpKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcw0KICAgICAgICAg
ICAgfQ0KICAgICAgICAgICAgaWYgKDIgPiByKSByZXR1cm4gKHIgPSB0aGlzLm5v
ZGUoKVsiX19vbiIgKyBuXSkgJiYgci5fOw0KICAgICAgICAgICAgZSA9ICExDQog
ICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChYKG4sIHQsIGUpKQ0K
ICAgIH07DQogICAgdmFyIFRvID0gYW8ubWFwKHsNCiAgICAgICAgbW91c2VlbnRl
cjogIm1vdXNlb3ZlciIsDQogICAgICAgIG1vdXNlbGVhdmU6ICJtb3VzZW91dCIN
CiAgICB9KTsNCiAgICBmbyAmJiBUby5mb3JFYWNoKGZ1bmN0aW9uKG4pIHsNCiAg
ICAgICAgIm9uIiArIG4gaW4gZm8gJiYgVG8ucmVtb3ZlKG4pDQogICAgfSk7DQog
ICAgdmFyIFJvLCBEbyA9IDA7DQogICAgYW8ubW91c2UgPSBmdW5jdGlvbihuKSB7
DQogICAgICAgIHJldHVybiBKKG4sIGsoKSkNCiAgICB9Ow0KICAgIHZhciBQbyA9
IHRoaXMubmF2aWdhdG9yICYmIC9XZWJLaXQvLnRlc3QodGhpcy5uYXZpZ2F0b3Iu
dXNlckFnZW50KSA/IC0xIDogMDsNCiAgICBhby50b3VjaCA9IGZ1bmN0aW9uKG4s
IHQsIGUpIHsNCiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAzICYmIChl
ID0gdCwgdCA9IGsoKS5jaGFuZ2VkVG91Y2hlcyksIHQpDQogICAgICAgICAgICBm
b3IgKHZhciByLCBpID0gMCwgdSA9IHQubGVuZ3RoOyB1ID4gaTsgKytpKQ0KICAg
ICAgICAgICAgICAgIGlmICgociA9IHRbaV0pLmlkZW50aWZpZXIgPT09IGUpIHJl
dHVybiBKKG4sIHIpDQogICAgfSwgYW8uYmVoYXZpb3IuZHJhZyA9IGZ1bmN0aW9u
KCkgew0KICAgICAgICBmdW5jdGlvbiBuKCkgew0KICAgICAgICAgICAgdGhpcy5v
bigibW91c2Vkb3duLmRyYWciLCB1KS5vbigidG91Y2hzdGFydC5kcmFnIiwgbykN
CiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGUobiwgdCwgZSwgdSwgbykg
ew0KICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAg
ICAgIGZ1bmN0aW9uIGEoKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBuLCBl
LCByID0gdChoLCB2KTsNCiAgICAgICAgICAgICAgICAgICAgciAmJiAobiA9IHJb
MF0gLSBNWzBdLCBlID0gclsxXSAtIE1bMV0sIGcgfD0gbiB8IGUsIE0gPSByLCBw
KHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJkcmFnIiwNCiAgICAg
ICAgICAgICAgICAgICAgICAgIHg6IHJbMF0gKyBjWzBdLA0KICAgICAgICAgICAg
ICAgICAgICAgICAgeTogclsxXSArIGNbMV0sDQogICAgICAgICAgICAgICAgICAg
ICAgICBkeDogbiwNCiAgICAgICAgICAgICAgICAgICAgICAgIGR5OiBlDQogICAg
ICAgICAgICAgICAgICAgIH0pKQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAg
ICAgICAgICAgIGZ1bmN0aW9uIGwoKSB7DQogICAgICAgICAgICAgICAgICAgIHQo
aCwgdikgJiYgKHkub24odSArIGQsIG51bGwpLm9uKG8gKyBkLCBudWxsKSwgbShn
KSwgcCh7DQogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZHJhZ2VuZCIN
CiAgICAgICAgICAgICAgICAgICAgfSkpDQogICAgICAgICAgICAgICAgfQ0KICAg
ICAgICAgICAgICAgIHZhciBjLCBmID0gdGhpcywNCiAgICAgICAgICAgICAgICAg
ICAgcyA9IGFvLmV2ZW50LnRhcmdldC5jb3JyZXNwb25kaW5nRWxlbWVudCB8fCBh
by5ldmVudC50YXJnZXQsDQogICAgICAgICAgICAgICAgICAgIGggPSBmLnBhcmVu
dE5vZGUsDQogICAgICAgICAgICAgICAgICAgIHAgPSByLm9mKGYsIGFyZ3VtZW50
cyksDQogICAgICAgICAgICAgICAgICAgIGcgPSAwLA0KICAgICAgICAgICAgICAg
ICAgICB2ID0gbigpLA0KICAgICAgICAgICAgICAgICAgICBkID0gIi5kcmFnIiAr
IChudWxsID09IHYgPyAiIiA6ICItIiArIHYpLA0KICAgICAgICAgICAgICAgICAg
ICB5ID0gYW8uc2VsZWN0KGUocykpLm9uKHUgKyBkLCBhKS5vbihvICsgZCwgbCks
DQogICAgICAgICAgICAgICAgICAgIG0gPSBXKHMpLA0KICAgICAgICAgICAgICAg
ICAgICBNID0gdChoLCB2KTsNCiAgICAgICAgICAgICAgICBpID8gKGMgPSBpLmFw
cGx5KGYsIGFyZ3VtZW50cyksIGMgPSBbYy54IC0gTVswXSwgYy55IC0gTVsxXV0p
IDogYyA9IFswLCAwXSwgcCh7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJk
cmFnc3RhcnQiDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAg
ICAgICAgfQ0KICAgICAgICB2YXIgciA9IE4obiwgImRyYWciLCAiZHJhZ3N0YXJ0
IiwgImRyYWdlbmQiKSwNCiAgICAgICAgICAgIGkgPSBudWxsLA0KICAgICAgICAg
ICAgdSA9IGUoYiwgYW8ubW91c2UsIHQsICJtb3VzZW1vdmUiLCAibW91c2V1cCIp
LA0KICAgICAgICAgICAgbyA9IGUoRywgYW8udG91Y2gsIG0sICJ0b3VjaG1vdmUi
LCAidG91Y2hlbmQiKTsNCiAgICAgICAgcmV0dXJuIG4ub3JpZ2luID0gZnVuY3Rp
b24odCkgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAo
aSA9IHQsIG4pIDogaQ0KICAgICAgICB9LCBhby5yZWJpbmQobiwgciwgIm9uIikN
CiAgICB9LCBhby50b3VjaGVzID0gZnVuY3Rpb24obiwgdCkgew0KICAgICAgICBy
ZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA8IDIgJiYgKHQgPSBrKCkudG91Y2hlcyks
IHQgPyBjbyh0KS5tYXAoZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgdmFyIGUg
PSBKKG4sIHQpOw0KICAgICAgICAgICAgcmV0dXJuIGUuaWRlbnRpZmllciA9IHQu
aWRlbnRpZmllciwgZQ0KICAgICAgICB9KSA6IFtdDQogICAgfTsNCiAgICB2YXIg
VW8gPSAxZS02LA0KICAgICAgICBqbyA9IFVvICogVW8sDQogICAgICAgIEZvID0g
TWF0aC5QSSwNCiAgICAgICAgSG8gPSAyICogRm8sDQogICAgICAgIE9vID0gSG8g
LSBVbywNCiAgICAgICAgSW8gPSBGbyAvIDIsDQogICAgICAgIFlvID0gRm8gLyAx
ODAsDQogICAgICAgIFpvID0gMTgwIC8gRm8sDQogICAgICAgIFZvID0gTWF0aC5T
UVJUMiwNCiAgICAgICAgWG8gPSAyLA0KICAgICAgICAkbyA9IDQ7DQogICAgYW8u
aW50ZXJwb2xhdGVab29tID0gZnVuY3Rpb24obiwgdCkgew0KICAgICAgICB2YXIg
ZSwgciwgaSA9IG5bMF0sDQogICAgICAgICAgICB1ID0gblsxXSwNCiAgICAgICAg
ICAgIG8gPSBuWzJdLA0KICAgICAgICAgICAgYSA9IHRbMF0sDQogICAgICAgICAg
ICBsID0gdFsxXSwNCiAgICAgICAgICAgIGMgPSB0WzJdLA0KICAgICAgICAgICAg
ZiA9IGEgLSBpLA0KICAgICAgICAgICAgcyA9IGwgLSB1LA0KICAgICAgICAgICAg
aCA9IGYgKiBmICsgcyAqIHM7DQogICAgICAgIGlmIChqbyA+IGgpIHIgPSBNYXRo
LmxvZyhjIC8gbykgLyBWbywgZSA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAg
IHJldHVybiBbaSArIG4gKiBmLCB1ICsgbiAqIHMsIG8gKiBNYXRoLmV4cChWbyAq
IG4gKiByKV0NCiAgICAgICAgfTsNCiAgICAgICAgZWxzZSB7DQogICAgICAgICAg
ICB2YXIgcCA9IE1hdGguc3FydChoKSwNCiAgICAgICAgICAgICAgICBnID0gKGMg
KiBjIC0gbyAqIG8gKyAkbyAqIGgpIC8gKDIgKiBvICogWG8gKiBwKSwNCiAgICAg
ICAgICAgICAgICB2ID0gKGMgKiBjIC0gbyAqIG8gLSAkbyAqIGgpIC8gKDIgKiBj
ICogWG8gKiBwKSwNCiAgICAgICAgICAgICAgICBkID0gTWF0aC5sb2coTWF0aC5z
cXJ0KGcgKiBnICsgMSkgLSBnKSwNCiAgICAgICAgICAgICAgICB5ID0gTWF0aC5s
b2coTWF0aC5zcXJ0KHYgKiB2ICsgMSkgLSB2KTsNCiAgICAgICAgICAgIHIgPSAo
eSAtIGQpIC8gVm8sIGUgPSBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICAgICAg
dmFyIHQgPSBuICogciwNCiAgICAgICAgICAgICAgICAgICAgZSA9IHJuKGQpLA0K
ICAgICAgICAgICAgICAgICAgICBhID0gbyAvIChYbyAqIHApICogKGUgKiB1bihW
byAqIHQgKyBkKSAtIGVuKGQpKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gW2kg
KyBhICogZiwgdSArIGEgKiBzLCBvICogZSAvIHJuKFZvICogdCArIGQpXQ0KICAg
ICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBlLmR1cmF0aW9u
ID0gMWUzICogciwgZQ0KICAgIH0sIGFvLmJlaGF2aW9yLnpvb20gPSBmdW5jdGlv
bigpIHsNCiAgICAgICAgZnVuY3Rpb24gbihuKSB7DQogICAgICAgICAgICBuLm9u
KEwsIHMpLm9uKFdvICsgIi56b29tIiwgcCkub24oImRibGNsaWNrLnpvb20iLCBn
KS5vbihSLCBoKQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gZShuKSB7
DQogICAgICAgICAgICByZXR1cm4gWyhuWzBdIC0gay54KSAvIGsuaywgKG5bMV0g
LSBrLnkpIC8gay5rXQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gcihu
KSB7DQogICAgICAgICAgICByZXR1cm4gW25bMF0gKiBrLmsgKyBrLngsIG5bMV0g
KiBrLmsgKyBrLnldDQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBpKG4p
IHsNCiAgICAgICAgICAgIGsuayA9IE1hdGgubWF4KEFbMF0sIE1hdGgubWluKEFb
MV0sIG4pKQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gdShuLCB0KSB7
DQogICAgICAgICAgICB0ID0gcih0KSwgay54ICs9IG5bMF0gLSB0WzBdLCBrLnkg
Kz0gblsxXSAtIHRbMV0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIG8o
dCwgZSwgciwgbykgew0KICAgICAgICAgICAgdC5fX2NoYXJ0X18gPSB7DQogICAg
ICAgICAgICAgICAgeDogay54LA0KICAgICAgICAgICAgICAgIHk6IGsueSwNCiAg
ICAgICAgICAgICAgICBrOiBrLmsNCiAgICAgICAgICAgIH0sIGkoTWF0aC5wb3co
MiwgbykpLCB1KGQgPSBlLCByKSwgdCA9IGFvLnNlbGVjdCh0KSwgQyA+IDAgJiYg
KHQgPSB0LnRyYW5zaXRpb24oKS5kdXJhdGlvbihDKSksIHQuY2FsbChuLmV2ZW50
KQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gYSgpIHsNCiAgICAgICAg
ICAgIGIgJiYgYi5kb21haW4oeC5yYW5nZSgpLm1hcChmdW5jdGlvbihuKSB7DQog
ICAgICAgICAgICAgICAgcmV0dXJuIChuIC0gay54KSAvIGsuaw0KICAgICAgICAg
ICAgfSkubWFwKHguaW52ZXJ0KSksIHcgJiYgdy5kb21haW4oXy5yYW5nZSgpLm1h
cChmdW5jdGlvbihuKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIChuIC0gay55
KSAvIGsuaw0KICAgICAgICAgICAgfSkubWFwKF8uaW52ZXJ0KSkNCiAgICAgICAg
fQ0KDQogICAgICAgIGZ1bmN0aW9uIGwobikgew0KICAgICAgICAgICAgeisrIHx8
IG4oew0KICAgICAgICAgICAgICAgIHR5cGU6ICJ6b29tc3RhcnQiDQogICAgICAg
ICAgICB9KQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gYyhuKSB7DQog
ICAgICAgICAgICBhKCksIG4oew0KICAgICAgICAgICAgICAgIHR5cGU6ICJ6b29t
IiwNCiAgICAgICAgICAgICAgICBzY2FsZTogay5rLA0KICAgICAgICAgICAgICAg
IHRyYW5zbGF0ZTogW2sueCwgay55XQ0KICAgICAgICAgICAgfSkNCiAgICAgICAg
fQ0KDQogICAgICAgIGZ1bmN0aW9uIGYobikgew0KICAgICAgICAgICAgLS16IHx8
IChuKHsNCiAgICAgICAgICAgICAgICB0eXBlOiAiem9vbWVuZCINCiAgICAgICAg
ICAgIH0pLCBkID0gbnVsbCkNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9u
IHMoKSB7DQogICAgICAgICAgICBmdW5jdGlvbiBuKCkgew0KICAgICAgICAgICAg
ICAgIGEgPSAxLCB1KGFvLm1vdXNlKGkpLCBoKSwgYyhvKQ0KICAgICAgICAgICAg
fQ0KDQogICAgICAgICAgICBmdW5jdGlvbiByKCkgew0KICAgICAgICAgICAgICAg
IHMub24ocSwgbnVsbCkub24oVCwgbnVsbCksIHAoYSksIGYobykNCiAgICAgICAg
ICAgIH0NCiAgICAgICAgICAgIHZhciBpID0gdGhpcywNCiAgICAgICAgICAgICAg
ICBvID0gRC5vZihpLCBhcmd1bWVudHMpLA0KICAgICAgICAgICAgICAgIGEgPSAw
LA0KICAgICAgICAgICAgICAgIHMgPSBhby5zZWxlY3QodChpKSkub24ocSwgbiku
b24oVCwgciksDQogICAgICAgICAgICAgICAgaCA9IGUoYW8ubW91c2UoaSkpLA0K
ICAgICAgICAgICAgICAgIHAgPSBXKGkpOw0KICAgICAgICAgICAgSWwuY2FsbChp
KSwgbChvKQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gaCgpIHsNCiAg
ICAgICAgICAgIGZ1bmN0aW9uIG4oKSB7DQogICAgICAgICAgICAgICAgdmFyIG4g
PSBhby50b3VjaGVzKGcpOw0KICAgICAgICAgICAgICAgIHJldHVybiBwID0gay5r
LCBuLmZvckVhY2goZnVuY3Rpb24obikgew0KICAgICAgICAgICAgICAgICAgICBu
LmlkZW50aWZpZXIgaW4gZCAmJiAoZFtuLmlkZW50aWZpZXJdID0gZShuKSkNCiAg
ICAgICAgICAgICAgICB9KSwgbg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAg
ICBmdW5jdGlvbiB0KCkgew0KICAgICAgICAgICAgICAgIHZhciB0ID0gYW8uZXZl
bnQudGFyZ2V0Ow0KICAgICAgICAgICAgICAgIGFvLnNlbGVjdCh0KS5vbih4LCBy
KS5vbihiLCBhKSwgXy5wdXNoKHQpOw0KICAgICAgICAgICAgICAgIGZvciAodmFy
IGUgPSBhby5ldmVudC5jaGFuZ2VkVG91Y2hlcywgaSA9IDAsIHUgPSBlLmxlbmd0
aDsgdSA+IGk7ICsraSkgZFtlW2ldLmlkZW50aWZpZXJdID0gbnVsbDsNCiAgICAg
ICAgICAgICAgICB2YXIgbCA9IG4oKSwNCiAgICAgICAgICAgICAgICAgICAgYyA9
IERhdGUubm93KCk7DQogICAgICAgICAgICAgICAgaWYgKDEgPT09IGwubGVuZ3Ro
KSB7DQogICAgICAgICAgICAgICAgICAgIGlmICg1MDAgPiBjIC0gTSkgew0KICAg
ICAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSBsWzBdOw0KICAgICAgICAgICAg
ICAgICAgICAgICAgbyhnLCBmLCBkW2YuaWRlbnRpZmllcl0sIE1hdGguZmxvb3Io
TWF0aC5sb2coay5rKSAvIE1hdGguTE4yKSArIDEpLCBTKCkNCiAgICAgICAgICAg
ICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBNID0gYw0KICAgICAgICAg
ICAgICAgIH0gZWxzZSBpZiAobC5sZW5ndGggPiAxKSB7DQogICAgICAgICAgICAg
ICAgICAgIHZhciBmID0gbFswXSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHMg
PSBsWzFdLA0KICAgICAgICAgICAgICAgICAgICAgICAgaCA9IGZbMF0gLSBzWzBd
LA0KICAgICAgICAgICAgICAgICAgICAgICAgcCA9IGZbMV0gLSBzWzFdOw0KICAg
ICAgICAgICAgICAgICAgICB5ID0gaCAqIGggKyBwICogcA0KICAgICAgICAgICAg
ICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgZnVuY3Rpb24gcigp
IHsNCiAgICAgICAgICAgICAgICB2YXIgbiwgdCwgZSwgciwgbyA9IGFvLnRvdWNo
ZXMoZyk7DQogICAgICAgICAgICAgICAgSWwuY2FsbChnKTsNCiAgICAgICAgICAg
ICAgICBmb3IgKHZhciBhID0gMCwgbCA9IG8ubGVuZ3RoOyBsID4gYTsgKythLCBy
ID0gbnVsbCkNCiAgICAgICAgICAgICAgICAgICAgaWYgKGUgPSBvW2FdLCByID0g
ZFtlLmlkZW50aWZpZXJdKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAo
dCkgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBuID0gZSwgdCA9IHIN
CiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChyKSB7
DQogICAgICAgICAgICAgICAgICAgIHZhciBmID0gKGYgPSBlWzBdIC0gblswXSkg
KiBmICsgKGYgPSBlWzFdIC0gblsxXSkgKiBmLA0KICAgICAgICAgICAgICAgICAg
ICAgICAgcyA9IHkgJiYgTWF0aC5zcXJ0KGYgLyB5KTsNCiAgICAgICAgICAgICAg
ICAgICAgbiA9IFsoblswXSArIGVbMF0pIC8gMiwgKG5bMV0gKyBlWzFdKSAvIDJd
LCB0ID0gWyh0WzBdICsgclswXSkgLyAyLCAodFsxXSArIHJbMV0pIC8gMl0sIGko
cyAqIHApDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIE0gPSBu
dWxsLCB1KG4sIHQpLCBjKHYpDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAg
IGZ1bmN0aW9uIGEoKSB7DQogICAgICAgICAgICAgICAgaWYgKGFvLmV2ZW50LnRv
dWNoZXMubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHQg
PSBhby5ldmVudC5jaGFuZ2VkVG91Y2hlcywgZSA9IDAsIHIgPSB0Lmxlbmd0aDsg
ciA+IGU7ICsrZSkgZGVsZXRlIGRbdFtlXS5pZGVudGlmaWVyXTsNCiAgICAgICAg
ICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBkKSByZXR1cm4gdm9pZCBuKCkNCiAg
ICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgYW8uc2VsZWN0QWxsKF8p
Lm9uKG0sIG51bGwpLCB3Lm9uKEwsIHMpLm9uKFIsIGgpLCBOKCksIGYodikNCiAg
ICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBwLCBnID0gdGhpcywNCiAgICAg
ICAgICAgICAgICB2ID0gRC5vZihnLCBhcmd1bWVudHMpLA0KICAgICAgICAgICAg
ICAgIGQgPSB7fSwNCiAgICAgICAgICAgICAgICB5ID0gMCwNCiAgICAgICAgICAg
ICAgICBtID0gIi56b29tLSIgKyBhby5ldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5p
ZGVudGlmaWVyLA0KICAgICAgICAgICAgICAgIHggPSAidG91Y2htb3ZlIiArIG0s
DQogICAgICAgICAgICAgICAgYiA9ICJ0b3VjaGVuZCIgKyBtLA0KICAgICAgICAg
ICAgICAgIF8gPSBbXSwNCiAgICAgICAgICAgICAgICB3ID0gYW8uc2VsZWN0KGcp
LA0KICAgICAgICAgICAgICAgIE4gPSBXKGcpOw0KICAgICAgICAgICAgdCgpLCBs
KHYpLCB3Lm9uKEwsIG51bGwpLm9uKFIsIHQpDQogICAgICAgIH0NCg0KICAgICAg
ICBmdW5jdGlvbiBwKCkgew0KICAgICAgICAgICAgdmFyIG4gPSBELm9mKHRoaXMs
IGFyZ3VtZW50cyk7DQogICAgICAgICAgICBtID8gY2xlYXJUaW1lb3V0KG0pIDog
KElsLmNhbGwodGhpcyksIHYgPSBlKGQgPSB5IHx8IGFvLm1vdXNlKHRoaXMpKSwg
bChuKSksIG0gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAg
ICAgIG0gPSBudWxsLCBmKG4pDQogICAgICAgICAgICB9LCA1MCksIFMoKSwgaShN
YXRoLnBvdygyLCAuMDAyICogQm8oKSkgKiBrLmspLCB1KGQsIHYpLCBjKG4pDQog
ICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBnKCkgew0KICAgICAgICAgICAg
dmFyIG4gPSBhby5tb3VzZSh0aGlzKSwNCiAgICAgICAgICAgICAgICB0ID0gTWF0
aC5sb2coay5rKSAvIE1hdGguTE4yOw0KICAgICAgICAgICAgbyh0aGlzLCBuLCBl
KG4pLCBhby5ldmVudC5zaGlmdEtleSA/IE1hdGguY2VpbCh0KSAtIDEgOiBNYXRo
LmZsb29yKHQpICsgMSkNCiAgICAgICAgfQ0KICAgICAgICB2YXIgdiwgZCwgeSwg
bSwgTSwgeCwgYiwgXywgdywgayA9IHsNCiAgICAgICAgICAgICAgICB4OiAwLA0K
ICAgICAgICAgICAgICAgIHk6IDAsDQogICAgICAgICAgICAgICAgazogMQ0KICAg
ICAgICAgICAgfSwNCiAgICAgICAgICAgIEUgPSBbOTYwLCA1MDBdLA0KICAgICAg
ICAgICAgQSA9IEpvLA0KICAgICAgICAgICAgQyA9IDI1MCwNCiAgICAgICAgICAg
IHogPSAwLA0KICAgICAgICAgICAgTCA9ICJtb3VzZWRvd24uem9vbSIsDQogICAg
ICAgICAgICBxID0gIm1vdXNlbW92ZS56b29tIiwNCiAgICAgICAgICAgIFQgPSAi
bW91c2V1cC56b29tIiwNCiAgICAgICAgICAgIFIgPSAidG91Y2hzdGFydC56b29t
IiwNCiAgICAgICAgICAgIEQgPSBOKG4sICJ6b29tc3RhcnQiLCAiem9vbSIsICJ6
b29tZW5kIik7DQogICAgICAgIHJldHVybiBXbyB8fCAoV28gPSAib253aGVlbCIg
aW4gZm8gPyAoQm8gPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiAt
YW8uZXZlbnQuZGVsdGFZICogKGFvLmV2ZW50LmRlbHRhTW9kZSA/IDEyMCA6IDEp
DQogICAgICAgIH0sICJ3aGVlbCIpIDogIm9ubW91c2V3aGVlbCIgaW4gZm8gPyAo
Qm8gPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiBhby5ldmVudC53
aGVlbERlbHRhDQogICAgICAgIH0sICJtb3VzZXdoZWVsIikgOiAoQm8gPSBmdW5j
dGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiAtYW8uZXZlbnQuZGV0YWlsDQog
ICAgICAgIH0sICJNb3pNb3VzZVBpeGVsU2Nyb2xsIikpLCBuLmV2ZW50ID0gZnVu
Y3Rpb24obikgew0KICAgICAgICAgICAgbi5lYWNoKGZ1bmN0aW9uKCkgew0KICAg
ICAgICAgICAgICAgIHZhciBuID0gRC5vZih0aGlzLCBhcmd1bWVudHMpLA0KICAg
ICAgICAgICAgICAgICAgICB0ID0gazsNCiAgICAgICAgICAgICAgICBIbCA/IGFv
LnNlbGVjdCh0aGlzKS50cmFuc2l0aW9uKCkuZWFjaCgic3RhcnQuem9vbSIsIGZ1
bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICBrID0gdGhpcy5fX2NoYXJ0
X18gfHwgew0KICAgICAgICAgICAgICAgICAgICAgICAgeDogMCwNCiAgICAgICAg
ICAgICAgICAgICAgICAgIHk6IDAsDQogICAgICAgICAgICAgICAgICAgICAgICBr
OiAxDQogICAgICAgICAgICAgICAgICAgIH0sIGwobikNCiAgICAgICAgICAgICAg
ICB9KS50d2Vlbigiem9vbTp6b29tIiwgZnVuY3Rpb24oKSB7DQogICAgICAgICAg
ICAgICAgICAgIHZhciBlID0gRVswXSwNCiAgICAgICAgICAgICAgICAgICAgICAg
IHIgPSBFWzFdLA0KICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGQgPyBkWzBd
IDogZSAvIDIsDQogICAgICAgICAgICAgICAgICAgICAgICB1ID0gZCA/IGRbMV0g
OiByIC8gMiwNCiAgICAgICAgICAgICAgICAgICAgICAgIG8gPSBhby5pbnRlcnBv
bGF0ZVpvb20oWyhpIC0gay54KSAvIGsuaywgKHUgLSBrLnkpIC8gay5rLCBlIC8g
ay5rXSwgWyhpIC0gdC54KSAvIHQuaywgKHUgLSB0LnkpIC8gdC5rLCBlIC8gdC5r
XSk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih0KSB7DQog
ICAgICAgICAgICAgICAgICAgICAgICB2YXIgciA9IG8odCksDQogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgYSA9IGUgLyByWzJdOw0KICAgICAgICAgICAgICAg
ICAgICAgICAgdGhpcy5fX2NoYXJ0X18gPSBrID0gew0KICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHg6IGkgLSByWzBdICogYSwNCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICB5OiB1IC0gclsxXSAqIGEsDQogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgazogYQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSwgYyhuKQ0K
ICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkuZWFjaCgi
aW50ZXJydXB0Lnpvb20iLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAg
ICAgZihuKQ0KICAgICAgICAgICAgICAgIH0pLmVhY2goImVuZC56b29tIiwgZnVu
Y3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgIGYobikNCiAgICAgICAgICAg
ICAgICB9KSA6ICh0aGlzLl9fY2hhcnRfXyA9IGssIGwobiksIGMobiksIGYobikp
DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LCBuLnRyYW5zbGF0ZSA9IGZ1bmN0
aW9uKHQpIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8g
KGsgPSB7DQogICAgICAgICAgICAgICAgeDogK3RbMF0sDQogICAgICAgICAgICAg
ICAgeTogK3RbMV0sDQogICAgICAgICAgICAgICAgazogay5rDQogICAgICAgICAg
ICB9LCBhKCksIG4pIDogW2sueCwgay55XQ0KICAgICAgICB9LCBuLnNjYWxlID0g
ZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5n
dGggPyAoayA9IHsNCiAgICAgICAgICAgICAgICB4OiBrLngsDQogICAgICAgICAg
ICAgICAgeTogay55LA0KICAgICAgICAgICAgICAgIGs6IG51bGwNCiAgICAgICAg
ICAgIH0sIGkoK3QpLCBhKCksIG4pIDogay5rDQogICAgICAgIH0sIG4uc2NhbGVF
eHRlbnQgPSBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1l
bnRzLmxlbmd0aCA/IChBID0gbnVsbCA9PSB0ID8gSm8gOiBbK3RbMF0sICt0WzFd
XSwgbikgOiBBDQogICAgICAgIH0sIG4uY2VudGVyID0gZnVuY3Rpb24odCkgew0K
ICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoeSA9IHQgJiYg
Wyt0WzBdLCArdFsxXV0sIG4pIDogeQ0KICAgICAgICB9LCBuLnNpemUgPSBmdW5j
dGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/
IChFID0gdCAmJiBbK3RbMF0sICt0WzFdXSwgbikgOiBFDQogICAgICAgIH0sIG4u
ZHVyYXRpb24gPSBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4gYXJn
dW1lbnRzLmxlbmd0aCA/IChDID0gK3QsIG4pIDogQw0KICAgICAgICB9LCBuLngg
PSBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxl
bmd0aCA/IChiID0gdCwgeCA9IHQuY29weSgpLCBrID0gew0KICAgICAgICAgICAg
ICAgIHg6IDAsDQogICAgICAgICAgICAgICAgeTogMCwNCiAgICAgICAgICAgICAg
ICBrOiAxDQogICAgICAgICAgICB9LCBuKSA6IGINCiAgICAgICAgfSwgbi55ID0g
ZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5n
dGggPyAodyA9IHQsIF8gPSB0LmNvcHkoKSwgayA9IHsNCiAgICAgICAgICAgICAg
ICB4OiAwLA0KICAgICAgICAgICAgICAgIHk6IDAsDQogICAgICAgICAgICAgICAg
azogMQ0KICAgICAgICAgICAgfSwgbikgOiB3DQogICAgICAgIH0sIGFvLnJlYmlu
ZChuLCBELCAib24iKQ0KICAgIH07DQogICAgdmFyIEJvLCBXbywgSm8gPSBbMCwg
MSAvIDBdOw0KICAgIGFvLmNvbG9yID0gYW4sIGFuLnByb3RvdHlwZS50b1N0cmlu
ZyA9IGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1cm4gdGhpcy5yZ2IoKSArICIi
DQogICAgfSwgYW8uaHNsID0gbG47DQogICAgdmFyIEdvID0gbG4ucHJvdG90eXBl
ID0gbmV3IGFuOw0KICAgIEdvLmJyaWdodGVyID0gZnVuY3Rpb24obikgew0KICAg
ICAgICByZXR1cm4gbiA9IE1hdGgucG93KC43LCBhcmd1bWVudHMubGVuZ3RoID8g
biA6IDEpLCBuZXcgbG4odGhpcy5oLCB0aGlzLnMsIHRoaXMubCAvIG4pDQogICAg
fSwgR28uZGFya2VyID0gZnVuY3Rpb24obikgew0KICAgICAgICByZXR1cm4gbiA9
IE1hdGgucG93KC43LCBhcmd1bWVudHMubGVuZ3RoID8gbiA6IDEpLCBuZXcgbG4o
dGhpcy5oLCB0aGlzLnMsIG4gKiB0aGlzLmwpDQogICAgfSwgR28ucmdiID0gZnVu
Y3Rpb24oKSB7DQogICAgICAgIHJldHVybiBjbih0aGlzLmgsIHRoaXMucywgdGhp
cy5sKQ0KICAgIH0sIGFvLmhjbCA9IGZuOw0KICAgIHZhciBLbyA9IGZuLnByb3Rv
dHlwZSA9IG5ldyBhbjsNCiAgICBLby5icmlnaHRlciA9IGZ1bmN0aW9uKG4pIHsN
CiAgICAgICAgcmV0dXJuIG5ldyBmbih0aGlzLmgsIHRoaXMuYywgTWF0aC5taW4o
MTAwLCB0aGlzLmwgKyBRbyAqIChhcmd1bWVudHMubGVuZ3RoID8gbiA6IDEpKSkN
CiAgICB9LCBLby5kYXJrZXIgPSBmdW5jdGlvbihuKSB7DQogICAgICAgIHJldHVy
biBuZXcgZm4odGhpcy5oLCB0aGlzLmMsIE1hdGgubWF4KDAsIHRoaXMubCAtIFFv
ICogKGFyZ3VtZW50cy5sZW5ndGggPyBuIDogMSkpKQ0KICAgIH0sIEtvLnJnYiA9
IGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1cm4gc24odGhpcy5oLCB0aGlzLmMs
IHRoaXMubCkucmdiKCkNCiAgICB9LCBhby5sYWIgPSBobjsNCiAgICB2YXIgUW8g
PSAxOCwNCiAgICAgICAgbmEgPSAuOTUwNDcsDQogICAgICAgIHRhID0gMSwNCiAg
ICAgICAgZWEgPSAxLjA4ODgzLA0KICAgICAgICByYSA9IGhuLnByb3RvdHlwZSA9
IG5ldyBhbjsNCiAgICByYS5icmlnaHRlciA9IGZ1bmN0aW9uKG4pIHsNCiAgICAg
ICAgcmV0dXJuIG5ldyBobihNYXRoLm1pbigxMDAsIHRoaXMubCArIFFvICogKGFy
Z3VtZW50cy5sZW5ndGggPyBuIDogMSkpLCB0aGlzLmEsIHRoaXMuYikNCiAgICB9
LCByYS5kYXJrZXIgPSBmdW5jdGlvbihuKSB7DQogICAgICAgIHJldHVybiBuZXcg
aG4oTWF0aC5tYXgoMCwgdGhpcy5sIC0gUW8gKiAoYXJndW1lbnRzLmxlbmd0aCA/
IG4gOiAxKSksIHRoaXMuYSwgdGhpcy5iKQ0KICAgIH0sIHJhLnJnYiA9IGZ1bmN0
aW9uKCkgew0KICAgICAgICByZXR1cm4gcG4odGhpcy5sLCB0aGlzLmEsIHRoaXMu
YikNCiAgICB9LCBhby5yZ2IgPSBtbjsNCiAgICB2YXIgaWEgPSBtbi5wcm90b3R5
cGUgPSBuZXcgYW47DQogICAgaWEuYnJpZ2h0ZXIgPSBmdW5jdGlvbihuKSB7DQog
ICAgICAgIG4gPSBNYXRoLnBvdyguNywgYXJndW1lbnRzLmxlbmd0aCA/IG4gOiAx
KTsNCiAgICAgICAgdmFyIHQgPSB0aGlzLnIsDQogICAgICAgICAgICBlID0gdGhp
cy5nLA0KICAgICAgICAgICAgciA9IHRoaXMuYiwNCiAgICAgICAgICAgIGkgPSAz
MDsNCiAgICAgICAgcmV0dXJuIHQgfHwgZSB8fCByID8gKHQgJiYgaSA+IHQgJiYg
KHQgPSBpKSwgZSAmJiBpID4gZSAmJiAoZSA9IGkpLCByICYmIGkgPiByICYmIChy
ID0gaSksIG5ldyBtbihNYXRoLm1pbigyNTUsIHQgLyBuKSwgTWF0aC5taW4oMjU1
LCBlIC8gbiksIE1hdGgubWluKDI1NSwgciAvIG4pKSkgOiBuZXcgbW4oaSwgaSwg
aSkNCiAgICB9LCBpYS5kYXJrZXIgPSBmdW5jdGlvbihuKSB7DQogICAgICAgIHJl
dHVybiBuID0gTWF0aC5wb3coLjcsIGFyZ3VtZW50cy5sZW5ndGggPyBuIDogMSks
IG5ldyBtbihuICogdGhpcy5yLCBuICogdGhpcy5nLCBuICogdGhpcy5iKQ0KICAg
IH0sIGlhLmhzbCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1cm4gd24odGhp
cy5yLCB0aGlzLmcsIHRoaXMuYikNCiAgICB9LCBpYS50b1N0cmluZyA9IGZ1bmN0
aW9uKCkgew0KICAgICAgICByZXR1cm4gIiMiICsgYm4odGhpcy5yKSArIGJuKHRo
aXMuZykgKyBibih0aGlzLmIpDQogICAgfTsNCiAgICB2YXIgdWEgPSBhby5tYXAo
ew0KICAgICAgICBhbGljZWJsdWU6IDE1NzkyMzgzLA0KICAgICAgICBhbnRpcXVl
d2hpdGU6IDE2NDQ0Mzc1LA0KICAgICAgICBhcXVhOiA2NTUzNSwNCiAgICAgICAg
YXF1YW1hcmluZTogODM4ODU2NCwNCiAgICAgICAgYXp1cmU6IDE1Nzk0MTc1LA0K
ICAgICAgICBiZWlnZTogMTYxMTkyNjAsDQogICAgICAgIGJpc3F1ZTogMTY3NzAy
NDQsDQogICAgICAgIGJsYWNrOiAwLA0KICAgICAgICBibGFuY2hlZGFsbW9uZDog
MTY3NzIwNDUsDQogICAgICAgIGJsdWU6IDI1NSwNCiAgICAgICAgYmx1ZXZpb2xl
dDogOTA1NTIwMiwNCiAgICAgICAgYnJvd246IDEwODI0MjM0LA0KICAgICAgICBi
dXJseXdvb2Q6IDE0NTk2MjMxLA0KICAgICAgICBjYWRldGJsdWU6IDYyNjY1Mjgs
DQogICAgICAgIGNoYXJ0cmV1c2U6IDgzODgzNTIsDQogICAgICAgIGNob2NvbGF0
ZTogMTM3ODk0NzAsDQogICAgICAgIGNvcmFsOiAxNjc0NDI3MiwNCiAgICAgICAg
Y29ybmZsb3dlcmJsdWU6IDY1OTE5ODEsDQogICAgICAgIGNvcm5zaWxrOiAxNjc3
NTM4OCwNCiAgICAgICAgY3JpbXNvbjogMTQ0MjMxMDAsDQogICAgICAgIGN5YW46
IDY1NTM1LA0KICAgICAgICBkYXJrYmx1ZTogMTM5LA0KICAgICAgICBkYXJrY3lh
bjogMzU3MjMsDQogICAgICAgIGRhcmtnb2xkZW5yb2Q6IDEyMDkyOTM5LA0KICAg
ICAgICBkYXJrZ3JheTogMTExMTkwMTcsDQogICAgICAgIGRhcmtncmVlbjogMjU2
MDAsDQogICAgICAgIGRhcmtncmV5OiAxMTExOTAxNywNCiAgICAgICAgZGFya2to
YWtpOiAxMjQzMzI1OSwNCiAgICAgICAgZGFya21hZ2VudGE6IDkxMDk2NDMsDQog
ICAgICAgIGRhcmtvbGl2ZWdyZWVuOiA1NTk3OTk5LA0KICAgICAgICBkYXJrb3Jh
bmdlOiAxNjc0NzUyMCwNCiAgICAgICAgZGFya29yY2hpZDogMTAwNDAwMTIsDQog
ICAgICAgIGRhcmtyZWQ6IDkxMDk1MDQsDQogICAgICAgIGRhcmtzYWxtb246IDE1
MzA4NDEwLA0KICAgICAgICBkYXJrc2VhZ3JlZW46IDk0MTk5MTksDQogICAgICAg
IGRhcmtzbGF0ZWJsdWU6IDQ3MzQzNDcsDQogICAgICAgIGRhcmtzbGF0ZWdyYXk6
IDMxMDA0OTUsDQogICAgICAgIGRhcmtzbGF0ZWdyZXk6IDMxMDA0OTUsDQogICAg
ICAgIGRhcmt0dXJxdW9pc2U6IDUyOTQ1LA0KICAgICAgICBkYXJrdmlvbGV0OiA5
Njk5NTM5LA0KICAgICAgICBkZWVwcGluazogMTY3MTY5NDcsDQogICAgICAgIGRl
ZXBza3libHVlOiA0OTE1MSwNCiAgICAgICAgZGltZ3JheTogNjkwODI2NSwNCiAg
ICAgICAgZGltZ3JleTogNjkwODI2NSwNCiAgICAgICAgZG9kZ2VyYmx1ZTogMjAw
MzE5OSwNCiAgICAgICAgZmlyZWJyaWNrOiAxMTY3NDE0NiwNCiAgICAgICAgZmxv
cmFsd2hpdGU6IDE2Nzc1OTIwLA0KICAgICAgICBmb3Jlc3RncmVlbjogMjI2Mzg0
MiwNCiAgICAgICAgZnVjaHNpYTogMTY3MTE5MzUsDQogICAgICAgIGdhaW5zYm9y
bzogMTQ0NzQ0NjAsDQogICAgICAgIGdob3N0d2hpdGU6IDE2MzE2NjcxLA0KICAg
ICAgICBnb2xkOiAxNjc2NjcyMCwNCiAgICAgICAgZ29sZGVucm9kOiAxNDMyOTEy
MCwNCiAgICAgICAgZ3JheTogODQyMTUwNCwNCiAgICAgICAgZ3JlZW46IDMyNzY4
LA0KICAgICAgICBncmVlbnllbGxvdzogMTE0MDMwNTUsDQogICAgICAgIGdyZXk6
IDg0MjE1MDQsDQogICAgICAgIGhvbmV5ZGV3OiAxNTc5NDE2MCwNCiAgICAgICAg
aG90cGluazogMTY3Mzg3NDAsDQogICAgICAgIGluZGlhbnJlZDogMTM0NTg1MjQs
DQogICAgICAgIGluZGlnbzogNDkxNTMzMCwNCiAgICAgICAgaXZvcnk6IDE2Nzc3
MjAwLA0KICAgICAgICBraGFraTogMTU3ODc2NjAsDQogICAgICAgIGxhdmVuZGVy
OiAxNTEzMjQxMCwNCiAgICAgICAgbGF2ZW5kZXJibHVzaDogMTY3NzMzNjUsDQog
ICAgICAgIGxhd25ncmVlbjogODE5MDk3NiwNCiAgICAgICAgbGVtb25jaGlmZm9u
OiAxNjc3NTg4NSwNCiAgICAgICAgbGlnaHRibHVlOiAxMTM5MzI1NCwNCiAgICAg
ICAgbGlnaHRjb3JhbDogMTU3NjE1MzYsDQogICAgICAgIGxpZ2h0Y3lhbjogMTQ3
NDU1OTksDQogICAgICAgIGxpZ2h0Z29sZGVucm9keWVsbG93OiAxNjQ0ODIxMCwN
CiAgICAgICAgbGlnaHRncmF5OiAxMzg4MjMyMywNCiAgICAgICAgbGlnaHRncmVl
bjogOTQ5ODI1NiwNCiAgICAgICAgbGlnaHRncmV5OiAxMzg4MjMyMywNCiAgICAg
ICAgbGlnaHRwaW5rOiAxNjc1ODQ2NSwNCiAgICAgICAgbGlnaHRzYWxtb246IDE2
NzUyNzYyLA0KICAgICAgICBsaWdodHNlYWdyZWVuOiAyMTQyODkwLA0KICAgICAg
ICBsaWdodHNreWJsdWU6IDg5MDAzNDYsDQogICAgICAgIGxpZ2h0c2xhdGVncmF5
OiA3ODMzNzUzLA0KICAgICAgICBsaWdodHNsYXRlZ3JleTogNzgzMzc1MywNCiAg
ICAgICAgbGlnaHRzdGVlbGJsdWU6IDExNTg0NzM0LA0KICAgICAgICBsaWdodHll
bGxvdzogMTY3NzcxODQsDQogICAgICAgIGxpbWU6IDY1MjgwLA0KICAgICAgICBs
aW1lZ3JlZW46IDMzMjkzMzAsDQogICAgICAgIGxpbmVuOiAxNjQ0NTY3MCwNCiAg
ICAgICAgbWFnZW50YTogMTY3MTE5MzUsDQogICAgICAgIG1hcm9vbjogODM4ODYw
OCwNCiAgICAgICAgbWVkaXVtYXF1YW1hcmluZTogNjczNzMyMiwNCiAgICAgICAg
bWVkaXVtYmx1ZTogMjA1LA0KICAgICAgICBtZWRpdW1vcmNoaWQ6IDEyMjExNjY3
LA0KICAgICAgICBtZWRpdW1wdXJwbGU6IDk2NjI2ODMsDQogICAgICAgIG1lZGl1
bXNlYWdyZWVuOiAzOTc4MDk3LA0KICAgICAgICBtZWRpdW1zbGF0ZWJsdWU6IDgw
ODc3OTAsDQogICAgICAgIG1lZGl1bXNwcmluZ2dyZWVuOiA2NDE1NCwNCiAgICAg
ICAgbWVkaXVtdHVycXVvaXNlOiA0NzcyMzAwLA0KICAgICAgICBtZWRpdW12aW9s
ZXRyZWQ6IDEzMDQ3MTczLA0KICAgICAgICBtaWRuaWdodGJsdWU6IDE2NDQ5MTIs
DQogICAgICAgIG1pbnRjcmVhbTogMTYxMjE4NTAsDQogICAgICAgIG1pc3R5cm9z
ZTogMTY3NzAyNzMsDQogICAgICAgIG1vY2Nhc2luOiAxNjc3MDIyOSwNCiAgICAg
ICAgbmF2YWpvd2hpdGU6IDE2NzY4Njg1LA0KICAgICAgICBuYXZ5OiAxMjgsDQog
ICAgICAgIG9sZGxhY2U6IDE2NjQzNTU4LA0KICAgICAgICBvbGl2ZTogODQyMTM3
NiwNCiAgICAgICAgb2xpdmVkcmFiOiA3MDQ4NzM5LA0KICAgICAgICBvcmFuZ2U6
IDE2NzUzOTIwLA0KICAgICAgICBvcmFuZ2VyZWQ6IDE2NzI5MzQ0LA0KICAgICAg
ICBvcmNoaWQ6IDE0MzE1NzM0LA0KICAgICAgICBwYWxlZ29sZGVucm9kOiAxNTY1
NzEzMCwNCiAgICAgICAgcGFsZWdyZWVuOiAxMDAyNTg4MCwNCiAgICAgICAgcGFs
ZXR1cnF1b2lzZTogMTE1Mjk5NjYsDQogICAgICAgIHBhbGV2aW9sZXRyZWQ6IDE0
MzgxMjAzLA0KICAgICAgICBwYXBheWF3aGlwOiAxNjc3MzA3NywNCiAgICAgICAg
cGVhY2hwdWZmOiAxNjc2NzY3MywNCiAgICAgICAgcGVydTogMTM0Njg5OTEsDQog
ICAgICAgIHBpbms6IDE2NzYxMDM1LA0KICAgICAgICBwbHVtOiAxNDUyNDYzNywN
CiAgICAgICAgcG93ZGVyYmx1ZTogMTE1OTE5MTAsDQogICAgICAgIHB1cnBsZTog
ODM4ODczNiwNCiAgICAgICAgcmViZWNjYXB1cnBsZTogNjY5Nzg4MSwNCiAgICAg
ICAgcmVkOiAxNjcxMTY4MCwNCiAgICAgICAgcm9zeWJyb3duOiAxMjM1NzUxOSwN
CiAgICAgICAgcm95YWxibHVlOiA0Mjg2OTQ1LA0KICAgICAgICBzYWRkbGVicm93
bjogOTEyNzE4NywNCiAgICAgICAgc2FsbW9uOiAxNjQxNjg4MiwNCiAgICAgICAg
c2FuZHlicm93bjogMTYwMzI4NjQsDQogICAgICAgIHNlYWdyZWVuOiAzMDUwMzI3
LA0KICAgICAgICBzZWFzaGVsbDogMTY3NzQ2MzgsDQogICAgICAgIHNpZW5uYTog
MTA1MDY3OTcsDQogICAgICAgIHNpbHZlcjogMTI2MzIyNTYsDQogICAgICAgIHNr
eWJsdWU6IDg5MDAzMzEsDQogICAgICAgIHNsYXRlYmx1ZTogNjk3MDA2MSwNCiAg
ICAgICAgc2xhdGVncmF5OiA3MzcyOTQ0LA0KICAgICAgICBzbGF0ZWdyZXk6IDcz
NzI5NDQsDQogICAgICAgIHNub3c6IDE2Nzc1OTMwLA0KICAgICAgICBzcHJpbmdn
cmVlbjogNjU0MDcsDQogICAgICAgIHN0ZWVsYmx1ZTogNDYyMDk4MCwNCiAgICAg
ICAgdGFuOiAxMzgwODc4MCwNCiAgICAgICAgdGVhbDogMzI4OTYsDQogICAgICAg
IHRoaXN0bGU6IDE0MjA0ODg4LA0KICAgICAgICB0b21hdG86IDE2NzM3MDk1LA0K
ICAgICAgICB0dXJxdW9pc2U6IDQyNTE4NTYsDQogICAgICAgIHZpb2xldDogMTU2
MzEwODYsDQogICAgICAgIHdoZWF0OiAxNjExMzMzMSwNCiAgICAgICAgd2hpdGU6
IDE2Nzc3MjE1LA0KICAgICAgICB3aGl0ZXNtb2tlOiAxNjExOTI4NSwNCiAgICAg
ICAgeWVsbG93OiAxNjc3Njk2MCwNCiAgICAgICAgeWVsbG93Z3JlZW46IDEwMTQ1
MDc0DQogICAgfSk7DQogICAgdWEuZm9yRWFjaChmdW5jdGlvbihuLCB0KSB7DQog
ICAgICAgIHVhLnNldChuLCBNbih0KSkNCiAgICB9KSwgYW8uZnVuY3RvciA9IEVu
LCBhby54aHIgPSBBbihtKSwgYW8uZHN2ID0gZnVuY3Rpb24obiwgdCkgew0KICAg
ICAgICBmdW5jdGlvbiBlKG4sIGUsIHUpIHsNCiAgICAgICAgICAgIGFyZ3VtZW50
cy5sZW5ndGggPCAzICYmICh1ID0gZSwgZSA9IG51bGwpOw0KICAgICAgICAgICAg
dmFyIG8gPSBDbihuLCB0LCBudWxsID09IGUgPyByIDogaShlKSwgdSk7DQogICAg
ICAgICAgICByZXR1cm4gby5yb3cgPSBmdW5jdGlvbihuKSB7DQogICAgICAgICAg
ICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyBvLnJlc3BvbnNlKG51bGwg
PT0gKGUgPSBuKSA/IHIgOiBpKG4pKSA6IGUNCiAgICAgICAgICAgIH0sIG8NCiAg
ICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHIobikgew0KICAgICAgICAgICAg
cmV0dXJuIGUucGFyc2Uobi5yZXNwb25zZVRleHQpDQogICAgICAgIH0NCg0KICAg
ICAgICBmdW5jdGlvbiBpKG4pIHsNCiAgICAgICAgICAgIHJldHVybiBmdW5jdGlv
bih0KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGUucGFyc2UodC5yZXNwb25z
ZVRleHQsIG4pDQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBm
dW5jdGlvbiB1KHQpIHsNCiAgICAgICAgICAgIHJldHVybiB0Lm1hcChvKS5qb2lu
KG4pDQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBvKG4pIHsNCiAgICAg
ICAgICAgIHJldHVybiBhLnRlc3QobikgPyAnIicgKyBuLnJlcGxhY2UoL1wiL2cs
ICciIicpICsgJyInIDogbg0KICAgICAgICB9DQogICAgICAgIHZhciBhID0gbmV3
IFJlZ0V4cCgnWyInICsgbiArICJcbl0iKSwNCiAgICAgICAgICAgIGwgPSBuLmNo
YXJDb2RlQXQoMCk7DQogICAgICAgIHJldHVybiBlLnBhcnNlID0gZnVuY3Rpb24o
biwgdCkgew0KICAgICAgICAgICAgdmFyIHI7DQogICAgICAgICAgICByZXR1cm4g
ZS5wYXJzZVJvd3MobiwgZnVuY3Rpb24obiwgZSkgew0KICAgICAgICAgICAgICAg
IGlmIChyKSByZXR1cm4gcihuLCBlIC0gMSk7DQogICAgICAgICAgICAgICAgdmFy
IGkgPSBuZXcgRnVuY3Rpb24oImQiLCAicmV0dXJuIHsiICsgbi5tYXAoZnVuY3Rp
b24obiwgdCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJp
bmdpZnkobikgKyAiOiBkWyIgKyB0ICsgIl0iDQogICAgICAgICAgICAgICAgfSku
am9pbigiLCIpICsgIn0iKTsNCiAgICAgICAgICAgICAgICByID0gdCA/IGZ1bmN0
aW9uKG4sIGUpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQoaShuKSwg
ZSkNCiAgICAgICAgICAgICAgICB9IDogaQ0KICAgICAgICAgICAgfSkNCiAgICAg
ICAgfSwgZS5wYXJzZVJvd3MgPSBmdW5jdGlvbihuLCB0KSB7DQogICAgICAgICAg
ICBmdW5jdGlvbiBlKCkgew0KICAgICAgICAgICAgICAgIGlmIChmID49IGMpIHJl
dHVybiBvOw0KICAgICAgICAgICAgICAgIGlmIChpKSByZXR1cm4gaSA9ICExLCB1
Ow0KICAgICAgICAgICAgICAgIHZhciB0ID0gZjsNCiAgICAgICAgICAgICAgICBp
ZiAoMzQgPT09IG4uY2hhckNvZGVBdCh0KSkgew0KICAgICAgICAgICAgICAgICAg
ICBmb3IgKHZhciBlID0gdDsgZSsrIDwgYzspDQogICAgICAgICAgICAgICAgICAg
ICAgICBpZiAoMzQgPT09IG4uY2hhckNvZGVBdChlKSkgew0KICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGlmICgzNCAhPT0gbi5jaGFyQ29kZUF0KGUgKyAxKSkg
YnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKytlDQogICAgICAg
ICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGYgPSBlICsg
MjsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSBuLmNoYXJDb2RlQXQoZSAr
IDEpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTMgPT09IHIgPyAoaSA9
ICEwLCAxMCA9PT0gbi5jaGFyQ29kZUF0KGUgKyAyKSAmJiArK2YpIDogMTAgPT09
IHIgJiYgKGkgPSAhMCksIG4uc2xpY2UodCArIDEsIGUpLnJlcGxhY2UoLyIiL2cs
ICciJykNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZm9yICg7
IGMgPiBmOykgew0KICAgICAgICAgICAgICAgICAgICB2YXIgciA9IG4uY2hhckNv
ZGVBdChmKyspLA0KICAgICAgICAgICAgICAgICAgICAgICAgYSA9IDE7DQogICAg
ICAgICAgICAgICAgICAgIGlmICgxMCA9PT0gcikgaSA9ICEwOw0KICAgICAgICAg
ICAgICAgICAgICBlbHNlIGlmICgxMyA9PT0gcikgaSA9ICEwLCAxMCA9PT0gbi5j
aGFyQ29kZUF0KGYpICYmICgrK2YsICsrYSk7DQogICAgICAgICAgICAgICAgICAg
IGVsc2UgaWYgKHIgIT09IGwpIGNvbnRpbnVlOw0KICAgICAgICAgICAgICAgICAg
ICByZXR1cm4gbi5zbGljZSh0LCBmIC0gYSkNCiAgICAgICAgICAgICAgICB9DQog
ICAgICAgICAgICAgICAgcmV0dXJuIG4uc2xpY2UodCkNCiAgICAgICAgICAgIH0N
CiAgICAgICAgICAgIGZvciAodmFyIHIsIGksIHUgPSB7fSwgbyA9IHt9LCBhID0g
W10sIGMgPSBuLmxlbmd0aCwgZiA9IDAsIHMgPSAwOw0KICAgICAgICAgICAgICAg
IChyID0gZSgpKSAhPT0gbzspIHsNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBo
ID0gW107IHIgIT09IHUgJiYgciAhPT0gbzspIGgucHVzaChyKSwgciA9IGUoKTsN
CiAgICAgICAgICAgICAgICB0ICYmIG51bGwgPT0gKGggPSB0KGgsIHMrKykpIHx8
IGEucHVzaChoKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGEN
CiAgICAgICAgfSwgZS5mb3JtYXQgPSBmdW5jdGlvbih0KSB7DQogICAgICAgICAg
ICBpZiAoQXJyYXkuaXNBcnJheSh0WzBdKSkgcmV0dXJuIGUuZm9ybWF0Um93cyh0
KTsNCiAgICAgICAgICAgIHZhciByID0gbmV3IHksDQogICAgICAgICAgICAgICAg
aSA9IFtdOw0KICAgICAgICAgICAgcmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihu
KSB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgdCBpbiBuKSByLmhhcyh0KSB8
fCBpLnB1c2goci5hZGQodCkpDQogICAgICAgICAgICB9KSwgW2kubWFwKG8pLmpv
aW4obildLmNvbmNhdCh0Lm1hcChmdW5jdGlvbih0KSB7DQogICAgICAgICAgICAg
ICAgcmV0dXJuIGkubWFwKGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgICAgICAg
ICAgcmV0dXJuIG8odFtuXSkNCiAgICAgICAgICAgICAgICB9KS5qb2luKG4pDQog
ICAgICAgICAgICB9KSkuam9pbigiXG4iKQ0KICAgICAgICB9LCBlLmZvcm1hdFJv
d3MgPSBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICByZXR1cm4gbi5tYXAodSku
am9pbigiXG4iKQ0KICAgICAgICB9LCBlDQogICAgfSwgYW8uY3N2ID0gYW8uZHN2
KCIsIiwgInRleHQvY3N2IiksIGFvLnRzdiA9IGFvLmRzdigiCSIsICJ0ZXh0L3Rh
Yi1zZXBhcmF0ZWQtdmFsdWVzIik7DQogICAgdmFyIG9hLCBhYSwgbGEsIGNhLCBm
YSA9IHRoaXNbeCh0aGlzLCAicmVxdWVzdEFuaW1hdGlvbkZyYW1lIildIHx8IGZ1
bmN0aW9uKG4pIHsNCiAgICAgICAgc2V0VGltZW91dChuLCAxNykNCiAgICB9Ow0K
ICAgIGFvLnRpbWVyID0gZnVuY3Rpb24oKSB7DQogICAgICAgIHFuLmFwcGx5KHRo
aXMsIGFyZ3VtZW50cykNCiAgICB9LCBhby50aW1lci5mbHVzaCA9IGZ1bmN0aW9u
KCkgew0KICAgICAgICBSbigpLCBEbigpDQogICAgfSwgYW8ucm91bmQgPSBmdW5j
dGlvbihuLCB0KSB7DQogICAgICAgIHJldHVybiB0ID8gTWF0aC5yb3VuZChuICog
KHQgPSBNYXRoLnBvdygxMCwgdCkpKSAvIHQgOiBNYXRoLnJvdW5kKG4pDQogICAg
fTsNCiAgICB2YXIgc2EgPSBbInkiLCAieiIsICJhIiwgImYiLCAicCIsICJuIiwg
Ilx4YjUiLCAibSIsICIiLCAiayIsICJNIiwgIkciLCAiVCIsICJQIiwgIkUiLCAi
WiIsICJZIl0ubWFwKFVuKTsNCiAgICBhby5mb3JtYXRQcmVmaXggPSBmdW5jdGlv
bihuLCB0KSB7DQogICAgICAgIHZhciBlID0gMDsNCiAgICAgICAgcmV0dXJuIChu
ID0gK24pICYmICgwID4gbiAmJiAobiAqPSAtMSksIHQgJiYgKG4gPSBhby5yb3Vu
ZChuLCBQbihuLCB0KSkpLCBlID0gMSArIE1hdGguZmxvb3IoMWUtMTIgKyBNYXRo
LmxvZyhuKSAvIE1hdGguTE4xMCksIGUgPSBNYXRoLm1heCgtMjQsIE1hdGgubWlu
KDI0LCAzICogTWF0aC5mbG9vcigoZSAtIDEpIC8gMykpKSksIHNhWzggKyBlIC8g
M10NCiAgICB9Ow0KICAgIHZhciBoYSA9IC8oPzooW157XSk/KFs8Pj1eXSkpPyhb
K1wtIF0pPyhbJCNdKT8oMCk/KFxkKyk/KCwpPyhcLi0/XGQrKT8oW2EteiVdKT8v
aSwNCiAgICAgICAgcGEgPSBhby5tYXAoew0KICAgICAgICAgICAgYjogZnVuY3Rp
b24obikgew0KICAgICAgICAgICAgICAgIHJldHVybiBuLnRvU3RyaW5nKDIpDQog
ICAgICAgICAgICB9LA0KICAgICAgICAgICAgYzogZnVuY3Rpb24obikgew0KICAg
ICAgICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG4pDQogICAg
ICAgICAgICB9LA0KICAgICAgICAgICAgbzogZnVuY3Rpb24obikgew0KICAgICAg
ICAgICAgICAgIHJldHVybiBuLnRvU3RyaW5nKDgpDQogICAgICAgICAgICB9LA0K
ICAgICAgICAgICAgeDogZnVuY3Rpb24obikgew0KICAgICAgICAgICAgICAgIHJl
dHVybiBuLnRvU3RyaW5nKDE2KQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAg
IFg6IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbi50b1N0
cmluZygxNikudG9VcHBlckNhc2UoKQ0KICAgICAgICAgICAgfSwNCiAgICAgICAg
ICAgIGc6IGZ1bmN0aW9uKG4sIHQpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4g
bi50b1ByZWNpc2lvbih0KQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGU6
IGZ1bmN0aW9uKG4sIHQpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbi50b0V4
cG9uZW50aWFsKHQpDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZjogZnVu
Y3Rpb24obiwgdCkgew0KICAgICAgICAgICAgICAgIHJldHVybiBuLnRvRml4ZWQo
dCkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICByOiBmdW5jdGlvbihuLCB0
KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIChuID0gYW8ucm91bmQobiwgUG4o
biwgdCkpKS50b0ZpeGVkKE1hdGgubWF4KDAsIE1hdGgubWluKDIwLCBQbihuICog
KDEgKyAxZS0xNSksIHQpKSkpDQogICAgICAgICAgICB9DQogICAgICAgIH0pLA0K
ICAgICAgICBnYSA9IGFvLnRpbWUgPSB7fSwNCiAgICAgICAgdmEgPSBEYXRlOw0K
ICAgIEhuLnByb3RvdHlwZSA9IHsNCiAgICAgICAgZ2V0RGF0ZTogZnVuY3Rpb24o
KSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5fLmdldFVUQ0RhdGUoKQ0KICAg
ICAgICB9LA0KICAgICAgICBnZXREYXk6IGZ1bmN0aW9uKCkgew0KICAgICAgICAg
ICAgcmV0dXJuIHRoaXMuXy5nZXRVVENEYXkoKQ0KICAgICAgICB9LA0KICAgICAg
ICBnZXRGdWxsWWVhcjogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICByZXR1cm4g
dGhpcy5fLmdldFVUQ0Z1bGxZZWFyKCkNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0
SG91cnM6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuXy5n
ZXRVVENIb3VycygpDQogICAgICAgIH0sDQogICAgICAgIGdldE1pbGxpc2Vjb25k
czogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5fLmdldFVU
Q01pbGxpc2Vjb25kcygpDQogICAgICAgIH0sDQogICAgICAgIGdldE1pbnV0ZXM6
IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuXy5nZXRVVENN
aW51dGVzKCkNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0TW9udGg6IGZ1bmN0aW9u
KCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuXy5nZXRVVENNb250aCgpDQog
ICAgICAgIH0sDQogICAgICAgIGdldFNlY29uZHM6IGZ1bmN0aW9uKCkgew0KICAg
ICAgICAgICAgcmV0dXJuIHRoaXMuXy5nZXRVVENTZWNvbmRzKCkNCiAgICAgICAg
fSwNCiAgICAgICAgZ2V0VGltZTogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICBy
ZXR1cm4gdGhpcy5fLmdldFRpbWUoKQ0KICAgICAgICB9LA0KICAgICAgICBnZXRU
aW1lem9uZU9mZnNldDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICByZXR1cm4g
MA0KICAgICAgICB9LA0KICAgICAgICB2YWx1ZU9mOiBmdW5jdGlvbigpIHsNCiAg
ICAgICAgICAgIHJldHVybiB0aGlzLl8udmFsdWVPZigpDQogICAgICAgIH0sDQog
ICAgICAgIHNldERhdGU6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgZGEuc2V0
VVRDRGF0ZS5hcHBseSh0aGlzLl8sIGFyZ3VtZW50cykNCiAgICAgICAgfSwNCiAg
ICAgICAgc2V0RGF5OiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIGRhLnNldFVU
Q0RheS5hcHBseSh0aGlzLl8sIGFyZ3VtZW50cykNCiAgICAgICAgfSwNCiAgICAg
ICAgc2V0RnVsbFllYXI6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgZGEuc2V0
VVRDRnVsbFllYXIuYXBwbHkodGhpcy5fLCBhcmd1bWVudHMpDQogICAgICAgIH0s
DQogICAgICAgIHNldEhvdXJzOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIGRh
LnNldFVUQ0hvdXJzLmFwcGx5KHRoaXMuXywgYXJndW1lbnRzKQ0KICAgICAgICB9
LA0KICAgICAgICBzZXRNaWxsaXNlY29uZHM6IGZ1bmN0aW9uKCkgew0KICAgICAg
ICAgICAgZGEuc2V0VVRDTWlsbGlzZWNvbmRzLmFwcGx5KHRoaXMuXywgYXJndW1l
bnRzKQ0KICAgICAgICB9LA0KICAgICAgICBzZXRNaW51dGVzOiBmdW5jdGlvbigp
IHsNCiAgICAgICAgICAgIGRhLnNldFVUQ01pbnV0ZXMuYXBwbHkodGhpcy5fLCBh
cmd1bWVudHMpDQogICAgICAgIH0sDQogICAgICAgIHNldE1vbnRoOiBmdW5jdGlv
bigpIHsNCiAgICAgICAgICAgIGRhLnNldFVUQ01vbnRoLmFwcGx5KHRoaXMuXywg
YXJndW1lbnRzKQ0KICAgICAgICB9LA0KICAgICAgICBzZXRTZWNvbmRzOiBmdW5j
dGlvbigpIHsNCiAgICAgICAgICAgIGRhLnNldFVUQ1NlY29uZHMuYXBwbHkodGhp
cy5fLCBhcmd1bWVudHMpDQogICAgICAgIH0sDQogICAgICAgIHNldFRpbWU6IGZ1
bmN0aW9uKCkgew0KICAgICAgICAgICAgZGEuc2V0VGltZS5hcHBseSh0aGlzLl8s
IGFyZ3VtZW50cykNCiAgICAgICAgfQ0KICAgIH07DQogICAgdmFyIGRhID0gRGF0
ZS5wcm90b3R5cGU7DQogICAgZ2EueWVhciA9IE9uKGZ1bmN0aW9uKG4pIHsNCiAg
ICAgICAgcmV0dXJuIG4gPSBnYS5kYXkobiksIG4uc2V0TW9udGgoMCwgMSksIG4N
CiAgICB9LCBmdW5jdGlvbihuLCB0KSB7DQogICAgICAgIG4uc2V0RnVsbFllYXIo
bi5nZXRGdWxsWWVhcigpICsgdCkNCiAgICB9LCBmdW5jdGlvbihuKSB7DQogICAg
ICAgIHJldHVybiBuLmdldEZ1bGxZZWFyKCkNCiAgICB9KSwgZ2EueWVhcnMgPSBn
YS55ZWFyLnJhbmdlLCBnYS55ZWFycy51dGMgPSBnYS55ZWFyLnV0Yy5yYW5nZSwg
Z2EuZGF5ID0gT24oZnVuY3Rpb24obikgew0KICAgICAgICB2YXIgdCA9IG5ldyB2
YSgyZTMsIDApOw0KICAgICAgICByZXR1cm4gdC5zZXRGdWxsWWVhcihuLmdldEZ1
bGxZZWFyKCksIG4uZ2V0TW9udGgoKSwgbi5nZXREYXRlKCkpLCB0DQogICAgfSwg
ZnVuY3Rpb24obiwgdCkgew0KICAgICAgICBuLnNldERhdGUobi5nZXREYXRlKCkg
KyB0KQ0KICAgIH0sIGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgcmV0dXJuIG4uZ2V0
RGF0ZSgpIC0gMQ0KICAgIH0pLCBnYS5kYXlzID0gZ2EuZGF5LnJhbmdlLCBnYS5k
YXlzLnV0YyA9IGdhLmRheS51dGMucmFuZ2UsIGdhLmRheU9mWWVhciA9IGZ1bmN0
aW9uKG4pIHsNCiAgICAgICAgdmFyIHQgPSBnYS55ZWFyKG4pOw0KICAgICAgICBy
ZXR1cm4gTWF0aC5mbG9vcigobiAtIHQgLSA2ZTQgKiAobi5nZXRUaW1lem9uZU9m
ZnNldCgpIC0gdC5nZXRUaW1lem9uZU9mZnNldCgpKSkgLyA4NjRlNSkNCiAgICB9
LCBbInN1bmRheSIsICJtb25kYXkiLCAidHVlc2RheSIsICJ3ZWRuZXNkYXkiLCAi
dGh1cnNkYXkiLCAiZnJpZGF5IiwgInNhdHVyZGF5Il0uZm9yRWFjaChmdW5jdGlv
bihuLCB0KSB7DQogICAgICAgIHQgPSA3IC0gdDsNCiAgICAgICAgdmFyIGUgPSBn
YVtuXSA9IE9uKGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHJldHVybiAobiA9
IGdhLmRheShuKSkuc2V0RGF0ZShuLmdldERhdGUoKSAtIChuLmdldERheSgpICsg
dCkgJSA3KSwgbg0KICAgICAgICB9LCBmdW5jdGlvbihuLCB0KSB7DQogICAgICAg
ICAgICBuLnNldERhdGUobi5nZXREYXRlKCkgKyA3ICogTWF0aC5mbG9vcih0KSkN
CiAgICAgICAgfSwgZnVuY3Rpb24obikgew0KICAgICAgICAgICAgdmFyIGUgPSBn
YS55ZWFyKG4pLmdldERheSgpOw0KICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxv
b3IoKGdhLmRheU9mWWVhcihuKSArIChlICsgdCkgJSA3KSAvIDcpIC0gKGUgIT09
IHQpDQogICAgICAgIH0pOw0KICAgICAgICBnYVtuICsgInMiXSA9IGUucmFuZ2Us
IGdhW24gKyAicyJdLnV0YyA9IGUudXRjLnJhbmdlLCBnYVtuICsgIk9mWWVhciJd
ID0gZnVuY3Rpb24obikgew0KICAgICAgICAgICAgdmFyIGUgPSBnYS55ZWFyKG4p
LmdldERheSgpOw0KICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKGdhLmRh
eU9mWWVhcihuKSArIChlICsgdCkgJSA3KSAvIDcpDQogICAgICAgIH0NCiAgICB9
KSwgZ2Eud2VlayA9IGdhLnN1bmRheSwgZ2Eud2Vla3MgPSBnYS5zdW5kYXkucmFu
Z2UsIGdhLndlZWtzLnV0YyA9IGdhLnN1bmRheS51dGMucmFuZ2UsIGdhLndlZWtP
ZlllYXIgPSBnYS5zdW5kYXlPZlllYXI7DQogICAgdmFyIHlhID0gew0KICAgICAg
ICAgICAgIi0iOiAiIiwNCiAgICAgICAgICAgIF86ICIgIiwNCiAgICAgICAgICAg
IDA6ICIwIg0KICAgICAgICB9LA0KICAgICAgICBtYSA9IC9eXHMqXGQrLywNCiAg
ICAgICAgTWEgPSAvXiUvOw0KICAgIGFvLmxvY2FsZSA9IGZ1bmN0aW9uKG4pIHsN
CiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIG51bWJlckZvcm1hdDogam4o
biksDQogICAgICAgICAgICB0aW1lRm9ybWF0OiBZbihuKQ0KICAgICAgICB9DQog
ICAgfTsNCiAgICB2YXIgeGEgPSBhby5sb2NhbGUoew0KICAgICAgICBkZWNpbWFs
OiAiLiIsDQogICAgICAgIHRob3VzYW5kczogIiwiLA0KICAgICAgICBncm91cGlu
ZzogWzNdLA0KICAgICAgICBjdXJyZW5jeTogWyIkIiwgIiJdLA0KICAgICAgICBk
YXRlVGltZTogIiVhICViICVlICVYICVZIiwNCiAgICAgICAgZGF0ZTogIiVtLyVk
LyVZIiwNCiAgICAgICAgdGltZTogIiVIOiVNOiVTIiwNCiAgICAgICAgcGVyaW9k
czogWyJBTSIsICJQTSJdLA0KICAgICAgICBkYXlzOiBbIlN1bmRheSIsICJNb25k
YXkiLCAiVHVlc2RheSIsICJXZWRuZXNkYXkiLCAiVGh1cnNkYXkiLCAiRnJpZGF5
IiwgIlNhdHVyZGF5Il0sDQogICAgICAgIHNob3J0RGF5czogWyJTdW4iLCAiTW9u
IiwgIlR1ZSIsICJXZWQiLCAiVGh1IiwgIkZyaSIsICJTYXQiXSwNCiAgICAgICAg
bW9udGhzOiBbIkphbnVhcnkiLCAiRmVicnVhcnkiLCAiTWFyY2giLCAiQXByaWwi
LCAiTWF5IiwgIkp1bmUiLCAiSnVseSIsICJBdWd1c3QiLCAiU2VwdGVtYmVyIiwg
Ik9jdG9iZXIiLCAiTm92ZW1iZXIiLCAiRGVjZW1iZXIiXSwNCiAgICAgICAgc2hv
cnRNb250aHM6IFsiSmFuIiwgIkZlYiIsICJNYXIiLCAiQXByIiwgIk1heSIsICJK
dW4iLCAiSnVsIiwgIkF1ZyIsICJTZXAiLCAiT2N0IiwgIk5vdiIsICJEZWMiXQ0K
ICAgIH0pOw0KICAgIGFvLmZvcm1hdCA9IHhhLm51bWJlckZvcm1hdCwgYW8uZ2Vv
ID0ge30sIGZ0LnByb3RvdHlwZSA9IHsNCiAgICAgICAgczogMCwNCiAgICAgICAg
dDogMCwNCiAgICAgICAgYWRkOiBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICBz
dChuLCB0aGlzLnQsIGJhKSwgc3QoYmEucywgdGhpcy5zLCB0aGlzKSwgdGhpcy5z
ID8gdGhpcy50ICs9IGJhLnQgOiB0aGlzLnMgPSBiYS50DQogICAgICAgIH0sDQog
ICAgICAgIHJlc2V0OiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHRoaXMucyA9
IHRoaXMudCA9IDANCiAgICAgICAgfSwNCiAgICAgICAgdmFsdWVPZjogZnVuY3Rp
b24oKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5zDQogICAgICAgIH0NCiAg
ICB9Ow0KICAgIHZhciBiYSA9IG5ldyBmdDsNCiAgICBhby5nZW8uc3RyZWFtID0g
ZnVuY3Rpb24obiwgdCkgew0KICAgICAgICBuICYmIF9hLmhhc093blByb3BlcnR5
KG4udHlwZSkgPyBfYVtuLnR5cGVdKG4sIHQpIDogaHQobiwgdCkNCiAgICB9Ow0K
ICAgIHZhciBfYSA9IHsNCiAgICAgICAgICAgIEZlYXR1cmU6IGZ1bmN0aW9uKG4s
IHQpIHsNCiAgICAgICAgICAgICAgICBodChuLmdlb21ldHJ5LCB0KQ0KICAgICAg
ICAgICAgfSwNCiAgICAgICAgICAgIEZlYXR1cmVDb2xsZWN0aW9uOiBmdW5jdGlv
bihuLCB0KSB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgZSA9IG4uZmVhdHVy
ZXMsIHIgPSAtMSwgaSA9IGUubGVuZ3RoOyArK3IgPCBpOykgaHQoZVtyXS5nZW9t
ZXRyeSwgdCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgd2Eg
PSB7DQogICAgICAgICAgICBTcGhlcmU6IGZ1bmN0aW9uKG4sIHQpIHsNCiAgICAg
ICAgICAgICAgICB0LnNwaGVyZSgpDQogICAgICAgICAgICB9LA0KICAgICAgICAg
ICAgUG9pbnQ6IGZ1bmN0aW9uKG4sIHQpIHsNCiAgICAgICAgICAgICAgICBuID0g
bi5jb29yZGluYXRlcywgdC5wb2ludChuWzBdLCBuWzFdLCBuWzJdKQ0KICAgICAg
ICAgICAgfSwNCiAgICAgICAgICAgIE11bHRpUG9pbnQ6IGZ1bmN0aW9uKG4sIHQp
IHsNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBlID0gbi5jb29yZGluYXRlcywg
ciA9IC0xLCBpID0gZS5sZW5ndGg7ICsrciA8IGk7KSBuID0gZVtyXSwgdC5wb2lu
dChuWzBdLCBuWzFdLCBuWzJdKQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAg
IExpbmVTdHJpbmc6IGZ1bmN0aW9uKG4sIHQpIHsNCiAgICAgICAgICAgICAgICBw
dChuLmNvb3JkaW5hdGVzLCB0LCAwKQ0KICAgICAgICAgICAgfSwNCiAgICAgICAg
ICAgIE11bHRpTGluZVN0cmluZzogZnVuY3Rpb24obiwgdCkgew0KICAgICAgICAg
ICAgICAgIGZvciAodmFyIGUgPSBuLmNvb3JkaW5hdGVzLCByID0gLTEsIGkgPSBl
Lmxlbmd0aDsgKytyIDwgaTspIHB0KGVbcl0sIHQsIDApDQogICAgICAgICAgICB9
LA0KICAgICAgICAgICAgUG9seWdvbjogZnVuY3Rpb24obiwgdCkgew0KICAgICAg
ICAgICAgICAgIGd0KG4uY29vcmRpbmF0ZXMsIHQpDQogICAgICAgICAgICB9LA0K
ICAgICAgICAgICAgTXVsdGlQb2x5Z29uOiBmdW5jdGlvbihuLCB0KSB7DQogICAg
ICAgICAgICAgICAgZm9yICh2YXIgZSA9IG4uY29vcmRpbmF0ZXMsIHIgPSAtMSwg
aSA9IGUubGVuZ3RoOyArK3IgPCBpOykgZ3QoZVtyXSwgdCkNCiAgICAgICAgICAg
IH0sDQogICAgICAgICAgICBHZW9tZXRyeUNvbGxlY3Rpb246IGZ1bmN0aW9uKG4s
IHQpIHsNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBlID0gbi5nZW9tZXRyaWVz
LCByID0gLTEsIGkgPSBlLmxlbmd0aDsgKytyIDwgaTspIGh0KGVbcl0sIHQpDQog
ICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgYW8uZ2VvLmFyZWEgPSBmdW5j
dGlvbihuKSB7DQogICAgICAgIHJldHVybiBTYSA9IDAsIGFvLmdlby5zdHJlYW0o
biwgTmEpLCBTYQ0KICAgIH07DQogICAgdmFyIFNhLCBrYSA9IG5ldyBmdCwNCiAg
ICAgICAgTmEgPSB7DQogICAgICAgICAgICBzcGhlcmU6IGZ1bmN0aW9uKCkgew0K
ICAgICAgICAgICAgICAgIFNhICs9IDQgKiBGbw0KICAgICAgICAgICAgfSwNCiAg
ICAgICAgICAgIHBvaW50OiBiLA0KICAgICAgICAgICAgbGluZVN0YXJ0OiBiLA0K
ICAgICAgICAgICAgbGluZUVuZDogYiwNCiAgICAgICAgICAgIHBvbHlnb25TdGFy
dDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAga2EucmVzZXQoKSwgTmEu
bGluZVN0YXJ0ID0gdnQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBwb2x5
Z29uRW5kOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICB2YXIgbiA9IDIg
KiBrYTsNCiAgICAgICAgICAgICAgICBTYSArPSAwID4gbiA/IDQgKiBGbyArIG4g
OiBuLCBOYS5saW5lU3RhcnQgPSBOYS5saW5lRW5kID0gTmEucG9pbnQgPSBiDQog
ICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgYW8uZ2VvLmJvdW5kcyA9IGZ1
bmN0aW9uKCkgew0KICAgICAgICBmdW5jdGlvbiBuKG4sIHQpIHsNCiAgICAgICAg
ICAgIE0ucHVzaCh4ID0gW2YgPSBuLCBoID0gbl0pLCBzID4gdCAmJiAocyA9IHQp
LCB0ID4gcCAmJiAocCA9IHQpDQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlv
biB0KHQsIGUpIHsNCiAgICAgICAgICAgIHZhciByID0gZHQoW3QgKiBZbywgZSAq
IFlvXSk7DQogICAgICAgICAgICBpZiAoeSkgew0KICAgICAgICAgICAgICAgIHZh
ciBpID0gbXQoeSwgciksDQogICAgICAgICAgICAgICAgICAgIHUgPSBbaVsxXSwg
LWlbMF0sIDBdLA0KICAgICAgICAgICAgICAgICAgICBvID0gbXQodSwgaSk7DQog
ICAgICAgICAgICAgICAgYnQobyksIG8gPSBfdChvKTsNCiAgICAgICAgICAgICAg
ICB2YXIgbCA9IHQgLSBnLA0KICAgICAgICAgICAgICAgICAgICBjID0gbCA+IDAg
PyAxIDogLTEsDQogICAgICAgICAgICAgICAgICAgIHYgPSBvWzBdICogWm8gKiBj
LA0KICAgICAgICAgICAgICAgICAgICBkID0geG8obCkgPiAxODA7DQogICAgICAg
ICAgICAgICAgaWYgKGQgXiAodiA+IGMgKiBnICYmIGMgKiB0ID4gdikpIHsNCiAg
ICAgICAgICAgICAgICAgICAgdmFyIG0gPSBvWzFdICogWm87DQogICAgICAgICAg
ICAgICAgICAgIG0gPiBwICYmIChwID0gbSkNCiAgICAgICAgICAgICAgICB9IGVs
c2UgaWYgKHYgPSAodiArIDM2MCkgJSAzNjAgLSAxODAsIGQgXiAodiA+IGMgKiBn
ICYmIGMgKiB0ID4gdikpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSAt
b1sxXSAqIFpvOw0KICAgICAgICAgICAgICAgICAgICBzID4gbSAmJiAocyA9IG0p
DQogICAgICAgICAgICAgICAgfSBlbHNlIHMgPiBlICYmIChzID0gZSksIGUgPiBw
ICYmIChwID0gZSk7DQogICAgICAgICAgICAgICAgZCA/IGcgPiB0ID8gYShmLCB0
KSA+IGEoZiwgaCkgJiYgKGggPSB0KSA6IGEodCwgaCkgPiBhKGYsIGgpICYmIChm
ID0gdCkgOiBoID49IGYgPyAoZiA+IHQgJiYgKGYgPSB0KSwgdCA+IGggJiYgKGgg
PSB0KSkgOiB0ID4gZyA/IGEoZiwgdCkgPiBhKGYsIGgpICYmIChoID0gdCkgOiBh
KHQsIGgpID4gYShmLCBoKSAmJiAoZiA9IHQpDQogICAgICAgICAgICB9IGVsc2Ug
bih0LCBlKTsNCiAgICAgICAgICAgIHkgPSByLCBnID0gdA0KICAgICAgICB9DQoN
CiAgICAgICAgZnVuY3Rpb24gZSgpIHsNCiAgICAgICAgICAgIGIucG9pbnQgPSB0
DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiByKCkgew0KICAgICAgICAg
ICAgeFswXSA9IGYsIHhbMV0gPSBoLCBiLnBvaW50ID0gbiwgeSA9IG51bGwNCiAg
ICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGkobiwgZSkgew0KICAgICAgICAg
ICAgaWYgKHkpIHsNCiAgICAgICAgICAgICAgICB2YXIgciA9IG4gLSBnOw0KICAg
ICAgICAgICAgICAgIG0gKz0geG8ocikgPiAxODAgPyByICsgKHIgPiAwID8gMzYw
IDogLTM2MCkgOiByDQogICAgICAgICAgICB9IGVsc2UgdiA9IG4sIGQgPSBlOw0K
ICAgICAgICAgICAgTmEucG9pbnQobiwgZSksIHQobiwgZSkNCiAgICAgICAgfQ0K
DQogICAgICAgIGZ1bmN0aW9uIHUoKSB7DQogICAgICAgICAgICBOYS5saW5lU3Rh
cnQoKQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gbygpIHsNCiAgICAg
ICAgICAgIGkodiwgZCksIE5hLmxpbmVFbmQoKSwgeG8obSkgPiBVbyAmJiAoZiA9
IC0oaCA9IDE4MCkpLCB4WzBdID0gZiwgeFsxXSA9IGgsIHkgPSBudWxsDQogICAg
ICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBhKG4sIHQpIHsNCiAgICAgICAgICAg
IHJldHVybiAodCAtPSBuKSA8IDAgPyB0ICsgMzYwIDogdA0KICAgICAgICB9DQoN
CiAgICAgICAgZnVuY3Rpb24gbChuLCB0KSB7DQogICAgICAgICAgICByZXR1cm4g
blswXSAtIHRbMF0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGMobiwg
dCkgew0KICAgICAgICAgICAgcmV0dXJuIHRbMF0gPD0gdFsxXSA/IHRbMF0gPD0g
biAmJiBuIDw9IHRbMV0gOiBuIDwgdFswXSB8fCB0WzFdIDwgbg0KICAgICAgICB9
DQogICAgICAgIHZhciBmLCBzLCBoLCBwLCBnLCB2LCBkLCB5LCBtLCBNLCB4LCBi
ID0gew0KICAgICAgICAgICAgcG9pbnQ6IG4sDQogICAgICAgICAgICBsaW5lU3Rh
cnQ6IGUsDQogICAgICAgICAgICBsaW5lRW5kOiByLA0KICAgICAgICAgICAgcG9s
eWdvblN0YXJ0OiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBiLnBvaW50
ID0gaSwgYi5saW5lU3RhcnQgPSB1LCBiLmxpbmVFbmQgPSBvLCBtID0gMCwgTmEu
cG9seWdvblN0YXJ0KCkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBwb2x5
Z29uRW5kOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBOYS5wb2x5Z29u
RW5kKCksIGIucG9pbnQgPSBuLCBiLmxpbmVTdGFydCA9IGUsIGIubGluZUVuZCA9
IHIsIDAgPiBrYSA/IChmID0gLShoID0gMTgwKSwgcyA9IC0ocCA9IDkwKSkgOiBt
ID4gVW8gPyBwID0gOTAgOiAtVW8gPiBtICYmIChzID0gLTkwKSwgeFswXSA9IGYs
IHhbMV0gPSBoDQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIHJl
dHVybiBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICBwID0gaCA9IC0oZiA9IHMg
PSAxIC8gMCksIE0gPSBbXSwgYW8uZ2VvLnN0cmVhbShuLCBiKTsNCiAgICAgICAg
ICAgIHZhciB0ID0gTS5sZW5ndGg7DQogICAgICAgICAgICBpZiAodCkgew0KICAg
ICAgICAgICAgICAgIE0uc29ydChsKTsNCiAgICAgICAgICAgICAgICBmb3IgKHZh
ciBlLCByID0gMSwgaSA9IE1bMF0sIHUgPSBbaV07IHQgPiByOyArK3IpIGUgPSBN
W3JdLCBjKGVbMF0sIGkpIHx8IGMoZVsxXSwgaSkgPyAoYShpWzBdLCBlWzFdKSA+
IGEoaVswXSwgaVsxXSkgJiYgKGlbMV0gPSBlWzFdKSwgYShlWzBdLCBpWzFdKSA+
IGEoaVswXSwgaVsxXSkgJiYgKGlbMF0gPSBlWzBdKSkgOiB1LnB1c2goaSA9IGUp
Ow0KICAgICAgICAgICAgICAgIGZvciAodmFyIG8sIGUsIGcgPSAtKDEgLyAwKSwg
dCA9IHUubGVuZ3RoIC0gMSwgciA9IDAsIGkgPSB1W3RdOyB0ID49IHI7IGkgPSBl
LCArK3IpIGUgPSB1W3JdLCAobyA9IGEoaVsxXSwgZVswXSkpID4gZyAmJiAoZyA9
IG8sIGYgPSBlWzBdLCBoID0gaVsxXSkNCiAgICAgICAgICAgIH0NCiAgICAgICAg
ICAgIHJldHVybiBNID0geCA9IG51bGwsIGYgPT09IDEgLyAwIHx8IHMgPT09IDEg
LyAwID8gWw0KICAgICAgICAgICAgICAgIFtOYU4sIE5hTl0sDQogICAgICAgICAg
ICAgICAgW05hTiwgTmFOXQ0KICAgICAgICAgICAgXSA6IFsNCiAgICAgICAgICAg
ICAgICBbZiwgc10sDQogICAgICAgICAgICAgICAgW2gsIHBdDQogICAgICAgICAg
ICBdDQogICAgICAgIH0NCiAgICB9KCksIGFvLmdlby5jZW50cm9pZCA9IGZ1bmN0
aW9uKG4pIHsNCiAgICAgICAgRWEgPSBBYSA9IENhID0gemEgPSBMYSA9IHFhID0g
VGEgPSBSYSA9IERhID0gUGEgPSBVYSA9IDAsIGFvLmdlby5zdHJlYW0obiwgamEp
Ow0KICAgICAgICB2YXIgdCA9IERhLA0KICAgICAgICAgICAgZSA9IFBhLA0KICAg
ICAgICAgICAgciA9IFVhLA0KICAgICAgICAgICAgaSA9IHQgKiB0ICsgZSAqIGUg
KyByICogcjsNCiAgICAgICAgcmV0dXJuIGpvID4gaSAmJiAodCA9IHFhLCBlID0g
VGEsIHIgPSBSYSwgVW8gPiBBYSAmJiAodCA9IENhLCBlID0gemEsIHIgPSBMYSks
IGkgPSB0ICogdCArIGUgKiBlICsgciAqIHIsIGpvID4gaSkgPyBbTmFOLCBOYU5d
IDogW01hdGguYXRhbjIoZSwgdCkgKiBabywgdG4ociAvIE1hdGguc3FydChpKSkg
KiBab10NCiAgICB9Ow0KICAgIHZhciBFYSwgQWEsIENhLCB6YSwgTGEsIHFhLCBU
YSwgUmEsIERhLCBQYSwgVWEsIGphID0gew0KICAgICAgICAgICAgc3BoZXJlOiBi
LA0KICAgICAgICAgICAgcG9pbnQ6IFN0LA0KICAgICAgICAgICAgbGluZVN0YXJ0
OiBOdCwNCiAgICAgICAgICAgIGxpbmVFbmQ6IEV0LA0KICAgICAgICAgICAgcG9s
eWdvblN0YXJ0OiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBqYS5saW5l
U3RhcnQgPSBBdA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHBvbHlnb25F
bmQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIGphLmxpbmVTdGFydCA9
IE50DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIEZhID0gUnQo
enQsIGp0LCBIdCwgWy1GbywgLUZvIC8gMl0pLA0KICAgICAgICBIYSA9IDFlOTsN
CiAgICBhby5nZW8uY2xpcEV4dGVudCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICB2
YXIgbiwgdCwgZSwgciwgaSwgdSwgbyA9IHsNCiAgICAgICAgICAgIHN0cmVhbTog
ZnVuY3Rpb24obikgew0KICAgICAgICAgICAgICAgIHJldHVybiBpICYmIChpLnZh
bGlkID0gITEpLCBpID0gdShuKSwgaS52YWxpZCA9ICEwLCBpDQogICAgICAgICAg
ICB9LA0KICAgICAgICAgICAgZXh0ZW50OiBmdW5jdGlvbihhKSB7DQogICAgICAg
ICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAodSA9IFp0KG4gPSAr
YVswXVswXSwgdCA9ICthWzBdWzFdLCBlID0gK2FbMV1bMF0sIHIgPSArYVsxXVsx
XSksIGkgJiYgKGkudmFsaWQgPSAhMSwgaSA9IG51bGwpLCBvKSA6IFsNCiAgICAg
ICAgICAgICAgICAgICAgW24sIHRdLA0KICAgICAgICAgICAgICAgICAgICBbZSwg
cl0NCiAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICB9DQogICAgICAgIH07
DQogICAgICAgIHJldHVybiBvLmV4dGVudChbDQogICAgICAgICAgICBbMCwgMF0s
DQogICAgICAgICAgICBbOTYwLCA1MDBdDQogICAgICAgIF0pDQogICAgfSwgKGFv
Lmdlby5jb25pY0VxdWFsQXJlYSA9IGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1
cm4gVnQoWHQpDQogICAgfSkucmF3ID0gWHQsIGFvLmdlby5hbGJlcnMgPSBmdW5j
dGlvbigpIHsNCiAgICAgICAgcmV0dXJuIGFvLmdlby5jb25pY0VxdWFsQXJlYSgp
LnJvdGF0ZShbOTYsIDBdKS5jZW50ZXIoWy0uNiwgMzguN10pLnBhcmFsbGVscyhb
MjkuNSwgNDUuNV0pLnNjYWxlKDEwNzApDQogICAgfSwgYW8uZ2VvLmFsYmVyc1Vz
YSA9IGZ1bmN0aW9uKCkgew0KICAgICAgICBmdW5jdGlvbiBuKG4pIHsNCiAgICAg
ICAgICAgIHZhciB1ID0gblswXSwNCiAgICAgICAgICAgICAgICBvID0gblsxXTsN
CiAgICAgICAgICAgIHJldHVybiB0ID0gbnVsbCwgZSh1LCBvKSwgdCB8fCAocih1
LCBvKSwgdCkgfHwgaSh1LCBvKSwgdA0KICAgICAgICB9DQogICAgICAgIHZhciB0
LCBlLCByLCBpLCB1ID0gYW8uZ2VvLmFsYmVycygpLA0KICAgICAgICAgICAgbyA9
IGFvLmdlby5jb25pY0VxdWFsQXJlYSgpLnJvdGF0ZShbMTU0LCAwXSkuY2VudGVy
KFstMiwgNTguNV0pLnBhcmFsbGVscyhbNTUsIDY1XSksDQogICAgICAgICAgICBh
ID0gYW8uZ2VvLmNvbmljRXF1YWxBcmVhKCkucm90YXRlKFsxNTcsIDBdKS5jZW50
ZXIoWy0zLCAxOS45XSkucGFyYWxsZWxzKFs4LCAxOF0pLA0KICAgICAgICAgICAg
bCA9IHsNCiAgICAgICAgICAgICAgICBwb2ludDogZnVuY3Rpb24obiwgZSkgew0K
ICAgICAgICAgICAgICAgICAgICB0ID0gW24sIGVdDQogICAgICAgICAgICAgICAg
fQ0KICAgICAgICAgICAgfTsNCiAgICAgICAgcmV0dXJuIG4uaW52ZXJ0ID0gZnVu
Y3Rpb24obikgew0KICAgICAgICAgICAgdmFyIHQgPSB1LnNjYWxlKCksDQogICAg
ICAgICAgICAgICAgZSA9IHUudHJhbnNsYXRlKCksDQogICAgICAgICAgICAgICAg
ciA9IChuWzBdIC0gZVswXSkgLyB0LA0KICAgICAgICAgICAgICAgIGkgPSAoblsx
XSAtIGVbMV0pIC8gdDsNCiAgICAgICAgICAgIHJldHVybiAoaSA+PSAuMTIgJiYg
LjIzNCA+IGkgJiYgciA+PSAtLjQyNSAmJiAtLjIxNCA+IHIgPyBvIDogaSA+PSAu
MTY2ICYmIC4yMzQgPiBpICYmIHIgPj0gLS4yMTQgJiYgLS4xMTUgPiByID8gYSA6
IHUpLmludmVydChuKQ0KICAgICAgICB9LCBuLnN0cmVhbSA9IGZ1bmN0aW9uKG4p
IHsNCiAgICAgICAgICAgIHZhciB0ID0gdS5zdHJlYW0obiksDQogICAgICAgICAg
ICAgICAgZSA9IG8uc3RyZWFtKG4pLA0KICAgICAgICAgICAgICAgIHIgPSBhLnN0
cmVhbShuKTsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAg
cG9pbnQ6IGZ1bmN0aW9uKG4sIGkpIHsNCiAgICAgICAgICAgICAgICAgICAgdC5w
b2ludChuLCBpKSwgZS5wb2ludChuLCBpKSwgci5wb2ludChuLCBpKQ0KICAgICAg
ICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgc3BoZXJlOiBmdW5jdGlvbigp
IHsNCiAgICAgICAgICAgICAgICAgICAgdC5zcGhlcmUoKSwgZS5zcGhlcmUoKSwg
ci5zcGhlcmUoKQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAg
bGluZVN0YXJ0OiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgdC5s
aW5lU3RhcnQoKSwgZS5saW5lU3RhcnQoKSwgci5saW5lU3RhcnQoKQ0KICAgICAg
ICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgbGluZUVuZDogZnVuY3Rpb24o
KSB7DQogICAgICAgICAgICAgICAgICAgIHQubGluZUVuZCgpLCBlLmxpbmVFbmQo
KSwgci5saW5lRW5kKCkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAg
ICAgIHBvbHlnb25TdGFydDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAg
ICAgIHQucG9seWdvblN0YXJ0KCksIGUucG9seWdvblN0YXJ0KCksIHIucG9seWdv
blN0YXJ0KCkNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHBv
bHlnb25FbmQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICB0LnBv
bHlnb25FbmQoKSwgZS5wb2x5Z29uRW5kKCksIHIucG9seWdvbkVuZCgpDQogICAg
ICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LCBuLnByZWNp
c2lvbiA9IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVu
dHMubGVuZ3RoID8gKHUucHJlY2lzaW9uKHQpLCBvLnByZWNpc2lvbih0KSwgYS5w
cmVjaXNpb24odCksIG4pIDogdS5wcmVjaXNpb24oKQ0KICAgICAgICB9LCBuLnNj
YWxlID0gZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50
cy5sZW5ndGggPyAodS5zY2FsZSh0KSwgby5zY2FsZSguMzUgKiB0KSwgYS5zY2Fs
ZSh0KSwgbi50cmFuc2xhdGUodS50cmFuc2xhdGUoKSkpIDogdS5zY2FsZSgpDQog
ICAgICAgIH0sIG4udHJhbnNsYXRlID0gZnVuY3Rpb24odCkgew0KICAgICAgICAg
ICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gdS50cmFuc2xhdGUoKTsN
CiAgICAgICAgICAgIHZhciBjID0gdS5zY2FsZSgpLA0KICAgICAgICAgICAgICAg
IGYgPSArdFswXSwNCiAgICAgICAgICAgICAgICBzID0gK3RbMV07DQogICAgICAg
ICAgICByZXR1cm4gZSA9IHUudHJhbnNsYXRlKHQpLmNsaXBFeHRlbnQoWw0KICAg
ICAgICAgICAgICAgIFtmIC0gLjQ1NSAqIGMsIHMgLSAuMjM4ICogY10sDQogICAg
ICAgICAgICAgICAgW2YgKyAuNDU1ICogYywgcyArIC4yMzggKiBjXQ0KICAgICAg
ICAgICAgXSkuc3RyZWFtKGwpLnBvaW50LCByID0gby50cmFuc2xhdGUoW2YgLSAu
MzA3ICogYywgcyArIC4yMDEgKiBjXSkuY2xpcEV4dGVudChbDQogICAgICAgICAg
ICAgICAgW2YgLSAuNDI1ICogYyArIFVvLCBzICsgLjEyICogYyArIFVvXSwNCiAg
ICAgICAgICAgICAgICBbZiAtIC4yMTQgKiBjIC0gVW8sIHMgKyAuMjM0ICogYyAt
IFVvXQ0KICAgICAgICAgICAgXSkuc3RyZWFtKGwpLnBvaW50LCBpID0gYS50cmFu
c2xhdGUoW2YgLSAuMjA1ICogYywgcyArIC4yMTIgKiBjXSkuY2xpcEV4dGVudChb
DQogICAgICAgICAgICAgICAgW2YgLSAuMjE0ICogYyArIFVvLCBzICsgLjE2NiAq
IGMgKyBVb10sDQogICAgICAgICAgICAgICAgW2YgLSAuMTE1ICogYyAtIFVvLCBz
ICsgLjIzNCAqIGMgLSBVb10NCiAgICAgICAgICAgIF0pLnN0cmVhbShsKS5wb2lu
dCwgbg0KICAgICAgICB9LCBuLnNjYWxlKDEwNzApDQogICAgfTsNCiAgICB2YXIg
T2EsIElhLCBZYSwgWmEsIFZhLCBYYSwgJGEgPSB7DQogICAgICAgICAgICBwb2lu
dDogYiwNCiAgICAgICAgICAgIGxpbmVTdGFydDogYiwNCiAgICAgICAgICAgIGxp
bmVFbmQ6IGIsDQogICAgICAgICAgICBwb2x5Z29uU3RhcnQ6IGZ1bmN0aW9uKCkg
ew0KICAgICAgICAgICAgICAgIElhID0gMCwgJGEubGluZVN0YXJ0ID0gJHQNCiAg
ICAgICAgICAgIH0sDQogICAgICAgICAgICBwb2x5Z29uRW5kOiBmdW5jdGlvbigp
IHsNCiAgICAgICAgICAgICAgICAkYS5saW5lU3RhcnQgPSAkYS5saW5lRW5kID0g
JGEucG9pbnQgPSBiLCBPYSArPSB4byhJYSAvIDIpDQogICAgICAgICAgICB9DQog
ICAgICAgIH0sDQogICAgICAgIEJhID0gew0KICAgICAgICAgICAgcG9pbnQ6IEJ0
LA0KICAgICAgICAgICAgbGluZVN0YXJ0OiBiLA0KICAgICAgICAgICAgbGluZUVu
ZDogYiwNCiAgICAgICAgICAgIHBvbHlnb25TdGFydDogYiwNCiAgICAgICAgICAg
IHBvbHlnb25FbmQ6IGINCiAgICAgICAgfSwNCiAgICAgICAgV2EgPSB7DQogICAg
ICAgICAgICBwb2ludDogR3QsDQogICAgICAgICAgICBsaW5lU3RhcnQ6IEt0LA0K
ICAgICAgICAgICAgbGluZUVuZDogUXQsDQogICAgICAgICAgICBwb2x5Z29uU3Rh
cnQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIFdhLmxpbmVTdGFydCA9
IG5lDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcG9seWdvbkVuZDogZnVu
Y3Rpb24oKSB7DQogICAgICAgICAgICAgICAgV2EucG9pbnQgPSBHdCwgV2EubGlu
ZVN0YXJ0ID0gS3QsIFdhLmxpbmVFbmQgPSBRdA0KICAgICAgICAgICAgfQ0KICAg
ICAgICB9Ow0KICAgIGFvLmdlby5wYXRoID0gZnVuY3Rpb24oKSB7DQogICAgICAg
IGZ1bmN0aW9uIG4obikgew0KICAgICAgICAgICAgcmV0dXJuIG4gJiYgKCJmdW5j
dGlvbiIgPT0gdHlwZW9mIGEgJiYgdS5wb2ludFJhZGl1cygrYS5hcHBseSh0aGlz
LCBhcmd1bWVudHMpKSwgbyAmJiBvLnZhbGlkIHx8IChvID0gaSh1KSksIGFvLmdl
by5zdHJlYW0obiwgbykpLCB1LnJlc3VsdCgpDQogICAgICAgIH0NCg0KICAgICAg
ICBmdW5jdGlvbiB0KCkgew0KICAgICAgICAgICAgcmV0dXJuIG8gPSBudWxsLCBu
DQogICAgICAgIH0NCiAgICAgICAgdmFyIGUsIHIsIGksIHUsIG8sIGEgPSA0LjU7
DQogICAgICAgIHJldHVybiBuLmFyZWEgPSBmdW5jdGlvbihuKSB7DQogICAgICAg
ICAgICByZXR1cm4gT2EgPSAwLCBhby5nZW8uc3RyZWFtKG4sIGkoJGEpKSwgT2EN
CiAgICAgICAgfSwgbi5jZW50cm9pZCA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAg
ICAgIHJldHVybiBDYSA9IHphID0gTGEgPSBxYSA9IFRhID0gUmEgPSBEYSA9IFBh
ID0gVWEgPSAwLCBhby5nZW8uc3RyZWFtKG4sIGkoV2EpKSwgVWEgPyBbRGEgLyBV
YSwgUGEgLyBVYV0gOiBSYSA/IFtxYSAvIFJhLCBUYSAvIFJhXSA6IExhID8gW0Nh
IC8gTGEsIHphIC8gTGFdIDogW05hTiwgTmFOXQ0KICAgICAgICB9LCBuLmJvdW5k
cyA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHJldHVybiBWYSA9IFhhID0g
LShZYSA9IFphID0gMSAvIDApLCBhby5nZW8uc3RyZWFtKG4sIGkoQmEpKSwgWw0K
ICAgICAgICAgICAgICAgIFtZYSwgWmFdLA0KICAgICAgICAgICAgICAgIFtWYSwg
WGFdDQogICAgICAgICAgICBdDQogICAgICAgIH0sIG4ucHJvamVjdGlvbiA9IGZ1
bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3Ro
ID8gKGkgPSAoZSA9IG4pID8gbi5zdHJlYW0gfHwgcmUobikgOiBtLCB0KCkpIDog
ZQ0KICAgICAgICB9LCBuLmNvbnRleHQgPSBmdW5jdGlvbihuKSB7DQogICAgICAg
ICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh1ID0gbnVsbCA9PSAociA9
IG4pID8gbmV3IFd0IDogbmV3IHRlKG4pLCAiZnVuY3Rpb24iICE9IHR5cGVvZiBh
ICYmIHUucG9pbnRSYWRpdXMoYSksIHQoKSkgOiByDQogICAgICAgIH0sIG4ucG9p
bnRSYWRpdXMgPSBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4gYXJn
dW1lbnRzLmxlbmd0aCA/IChhID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgdCA/IHQg
OiAodS5wb2ludFJhZGl1cygrdCksICt0KSwgbikgOiBhDQogICAgICAgIH0sIG4u
cHJvamVjdGlvbihhby5nZW8uYWxiZXJzVXNhKCkpLmNvbnRleHQobnVsbCkNCiAg
ICB9LCBhby5nZW8udHJhbnNmb3JtID0gZnVuY3Rpb24obikgew0KICAgICAgICBy
ZXR1cm4gew0KICAgICAgICAgICAgc3RyZWFtOiBmdW5jdGlvbih0KSB7DQogICAg
ICAgICAgICAgICAgdmFyIGUgPSBuZXcgaWUodCk7DQogICAgICAgICAgICAgICAg
Zm9yICh2YXIgciBpbiBuKSBlW3JdID0gbltyXTsNCiAgICAgICAgICAgICAgICBy
ZXR1cm4gZQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwgaWUucHJv
dG90eXBlID0gew0KICAgICAgICBwb2ludDogZnVuY3Rpb24obiwgdCkgew0KICAg
ICAgICAgICAgdGhpcy5zdHJlYW0ucG9pbnQobiwgdCkNCiAgICAgICAgfSwNCiAg
ICAgICAgc3BoZXJlOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHRoaXMuc3Ry
ZWFtLnNwaGVyZSgpDQogICAgICAgIH0sDQogICAgICAgIGxpbmVTdGFydDogZnVu
Y3Rpb24oKSB7DQogICAgICAgICAgICB0aGlzLnN0cmVhbS5saW5lU3RhcnQoKQ0K
ICAgICAgICB9LA0KICAgICAgICBsaW5lRW5kOiBmdW5jdGlvbigpIHsNCiAgICAg
ICAgICAgIHRoaXMuc3RyZWFtLmxpbmVFbmQoKQ0KICAgICAgICB9LA0KICAgICAg
ICBwb2x5Z29uU3RhcnQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgdGhpcy5z
dHJlYW0ucG9seWdvblN0YXJ0KCkNCiAgICAgICAgfSwNCiAgICAgICAgcG9seWdv
bkVuZDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICB0aGlzLnN0cmVhbS5wb2x5
Z29uRW5kKCkNCiAgICAgICAgfQ0KICAgIH0sIGFvLmdlby5wcm9qZWN0aW9uID0g
b2UsIGFvLmdlby5wcm9qZWN0aW9uTXV0YXRvciA9IGFlLCAoYW8uZ2VvLmVxdWly
ZWN0YW5ndWxhciA9IGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1cm4gb2UoY2Up
DQogICAgfSkucmF3ID0gY2UuaW52ZXJ0ID0gY2UsIGFvLmdlby5yb3RhdGlvbiA9
IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgZnVuY3Rpb24gdCh0KSB7DQogICAgICAg
ICAgICByZXR1cm4gdCA9IG4odFswXSAqIFlvLCB0WzFdICogWW8pLCB0WzBdICo9
IFpvLCB0WzFdICo9IFpvLCB0DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG4g
PSBzZShuWzBdICUgMzYwICogWW8sIG5bMV0gKiBZbywgbi5sZW5ndGggPiAyID8g
blsyXSAqIFlvIDogMCksIHQuaW52ZXJ0ID0gZnVuY3Rpb24odCkgew0KICAgICAg
ICAgICAgcmV0dXJuIHQgPSBuLmludmVydCh0WzBdICogWW8sIHRbMV0gKiBZbyks
IHRbMF0gKj0gWm8sIHRbMV0gKj0gWm8sIHQNCiAgICAgICAgfSwgdA0KICAgIH0s
IGZlLmludmVydCA9IGNlLCBhby5nZW8uY2lyY2xlID0gZnVuY3Rpb24oKSB7DQog
ICAgICAgIGZ1bmN0aW9uIG4oKSB7DQogICAgICAgICAgICB2YXIgbiA9ICJmdW5j
dGlvbiIgPT0gdHlwZW9mIHIgPyByLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiBy
LA0KICAgICAgICAgICAgICAgIHQgPSBzZSgtblswXSAqIFlvLCAtblsxXSAqIFlv
LCAwKS5pbnZlcnQsDQogICAgICAgICAgICAgICAgaSA9IFtdOw0KICAgICAgICAg
ICAgcmV0dXJuIGUobnVsbCwgbnVsbCwgMSwgew0KICAgICAgICAgICAgICAgIHBv
aW50OiBmdW5jdGlvbihuLCBlKSB7DQogICAgICAgICAgICAgICAgICAgIGkucHVz
aChuID0gdChuLCBlKSksIG5bMF0gKj0gWm8sIG5bMV0gKj0gWm8NCiAgICAgICAg
ICAgICAgICB9DQogICAgICAgICAgICB9KSwgew0KICAgICAgICAgICAgICAgIHR5
cGU6ICJQb2x5Z29uIiwNCiAgICAgICAgICAgICAgICBjb29yZGluYXRlczogW2ld
DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgdmFyIHQsIGUsIHIg
PSBbMCwgMF0sDQogICAgICAgICAgICBpID0gNjsNCiAgICAgICAgcmV0dXJuIG4u
b3JpZ2luID0gZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3Vt
ZW50cy5sZW5ndGggPyAociA9IHQsIG4pIDogcg0KICAgICAgICB9LCBuLmFuZ2xl
ID0gZnVuY3Rpb24ocikgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5s
ZW5ndGggPyAoZSA9IHZlKCh0ID0gK3IpICogWW8sIGkgKiBZbyksIG4pIDogdA0K
ICAgICAgICB9LCBuLnByZWNpc2lvbiA9IGZ1bmN0aW9uKHIpIHsNCiAgICAgICAg
ICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGUgPSB2ZSh0ICogWW8sIChp
ID0gK3IpICogWW8pLCBuKSA6IGkNCiAgICAgICAgfSwgbi5hbmdsZSg5MCkNCiAg
ICB9LCBhby5nZW8uZGlzdGFuY2UgPSBmdW5jdGlvbihuLCB0KSB7DQogICAgICAg
IHZhciBlLCByID0gKHRbMF0gLSBuWzBdKSAqIFlvLA0KICAgICAgICAgICAgaSA9
IG5bMV0gKiBZbywNCiAgICAgICAgICAgIHUgPSB0WzFdICogWW8sDQogICAgICAg
ICAgICBvID0gTWF0aC5zaW4ociksDQogICAgICAgICAgICBhID0gTWF0aC5jb3Mo
ciksDQogICAgICAgICAgICBsID0gTWF0aC5zaW4oaSksDQogICAgICAgICAgICBj
ID0gTWF0aC5jb3MoaSksDQogICAgICAgICAgICBmID0gTWF0aC5zaW4odSksDQog
ICAgICAgICAgICBzID0gTWF0aC5jb3ModSk7DQogICAgICAgIHJldHVybiBNYXRo
LmF0YW4yKE1hdGguc3FydCgoZSA9IHMgKiBvKSAqIGUgKyAoZSA9IGMgKiBmIC0g
bCAqIHMgKiBhKSAqIGUpLCBsICogZiArIGMgKiBzICogYSkNCiAgICB9LCBhby5n
ZW8uZ3JhdGljdWxlID0gZnVuY3Rpb24oKSB7DQogICAgICAgIGZ1bmN0aW9uIG4o
KSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIHR5cGU6
ICJNdWx0aUxpbmVTdHJpbmciLA0KICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVz
OiB0KCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0
aW9uIHQoKSB7DQogICAgICAgICAgICByZXR1cm4gYW8ucmFuZ2UoTWF0aC5jZWls
KHUgLyBkKSAqIGQsIGksIGQpLm1hcChoKS5jb25jYXQoYW8ucmFuZ2UoTWF0aC5j
ZWlsKGMgLyB5KSAqIHksIGwsIHkpLm1hcChwKSkuY29uY2F0KGFvLnJhbmdlKE1h
dGguY2VpbChyIC8gZykgKiBnLCBlLCBnKS5maWx0ZXIoZnVuY3Rpb24obikgew0K
ICAgICAgICAgICAgICAgIHJldHVybiB4byhuICUgZCkgPiBVbw0KICAgICAgICAg
ICAgfSkubWFwKGYpKS5jb25jYXQoYW8ucmFuZ2UoTWF0aC5jZWlsKGEgLyB2KSAq
IHYsIG8sIHYpLmZpbHRlcihmdW5jdGlvbihuKSB7DQogICAgICAgICAgICAgICAg
cmV0dXJuIHhvKG4gJSB5KSA+IFVvDQogICAgICAgICAgICB9KS5tYXAocykpDQog
ICAgICAgIH0NCiAgICAgICAgdmFyIGUsIHIsIGksIHUsIG8sIGEsIGwsIGMsIGYs
IHMsIGgsIHAsIGcgPSAxMCwNCiAgICAgICAgICAgIHYgPSBnLA0KICAgICAgICAg
ICAgZCA9IDkwLA0KICAgICAgICAgICAgeSA9IDM2MCwNCiAgICAgICAgICAgIG0g
PSAyLjU7DQogICAgICAgIHJldHVybiBuLmxpbmVzID0gZnVuY3Rpb24oKSB7DQog
ICAgICAgICAgICByZXR1cm4gdCgpLm1hcChmdW5jdGlvbihuKSB7DQogICAgICAg
ICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIkxp
bmVTdHJpbmciLA0KICAgICAgICAgICAgICAgICAgICBjb29yZGluYXRlczogbg0K
ICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sIG4u
b3V0bGluZSA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAg
ICAgICAgICAgICAgICB0eXBlOiAiUG9seWdvbiIsDQogICAgICAgICAgICAgICAg
Y29vcmRpbmF0ZXM6IFtoKHUpLmNvbmNhdChwKGwpLnNsaWNlKDEpLCBoKGkpLnJl
dmVyc2UoKS5zbGljZSgxKSwgcChjKS5yZXZlcnNlKCkuc2xpY2UoMSkpXQ0KICAg
ICAgICAgICAgfQ0KICAgICAgICB9LCBuLmV4dGVudCA9IGZ1bmN0aW9uKHQpIHsN
CiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gbi5tYWpvckV4
dGVudCh0KS5taW5vckV4dGVudCh0KSA6IG4ubWlub3JFeHRlbnQoKQ0KICAgICAg
ICB9LCBuLm1ham9yRXh0ZW50ID0gZnVuY3Rpb24odCkgew0KICAgICAgICAgICAg
cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAodSA9ICt0WzBdWzBdLCBpID0gK3Rb
MV1bMF0sIGMgPSArdFswXVsxXSwgbCA9ICt0WzFdWzFdLCB1ID4gaSAmJiAodCA9
IHUsIHUgPSBpLCBpID0gdCksIGMgPiBsICYmICh0ID0gYywgYyA9IGwsIGwgPSB0
KSwgbi5wcmVjaXNpb24obSkpIDogWw0KICAgICAgICAgICAgICAgIFt1LCBjXSwN
CiAgICAgICAgICAgICAgICBbaSwgbF0NCiAgICAgICAgICAgIF0NCiAgICAgICAg
fSwgbi5taW5vckV4dGVudCA9IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgIHJl
dHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHIgPSArdFswXVswXSwgZSA9ICt0WzFd
WzBdLCBhID0gK3RbMF1bMV0sIG8gPSArdFsxXVsxXSwgciA+IGUgJiYgKHQgPSBy
LCByID0gZSwgZSA9IHQpLCBhID4gbyAmJiAodCA9IGEsIGEgPSBvLCBvID0gdCks
IG4ucHJlY2lzaW9uKG0pKSA6IFsNCiAgICAgICAgICAgICAgICBbciwgYV0sDQog
ICAgICAgICAgICAgICAgW2UsIG9dDQogICAgICAgICAgICBdDQogICAgICAgIH0s
IG4uc3RlcCA9IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1
bWVudHMubGVuZ3RoID8gbi5tYWpvclN0ZXAodCkubWlub3JTdGVwKHQpIDogbi5t
aW5vclN0ZXAoKQ0KICAgICAgICB9LCBuLm1ham9yU3RlcCA9IGZ1bmN0aW9uKHQp
IHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGQgPSAr
dFswXSwgeSA9ICt0WzFdLCBuKSA6IFtkLCB5XQ0KICAgICAgICB9LCBuLm1pbm9y
U3RlcCA9IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVu
dHMubGVuZ3RoID8gKGcgPSArdFswXSwgdiA9ICt0WzFdLCBuKSA6IFtnLCB2XQ0K
ICAgICAgICB9LCBuLnByZWNpc2lvbiA9IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAg
ICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKG0gPSArdCwgZiA9IHllKGEs
IG8sIDkwKSwgcyA9IG1lKHIsIGUsIG0pLCBoID0geWUoYywgbCwgOTApLCBwID0g
bWUodSwgaSwgbSksIG4pIDogbQ0KICAgICAgICB9LCBuLm1ham9yRXh0ZW50KFsN
CiAgICAgICAgICAgIFstMTgwLCAtOTAgKyBVb10sDQogICAgICAgICAgICBbMTgw
LCA5MCAtIFVvXQ0KICAgICAgICBdKS5taW5vckV4dGVudChbDQogICAgICAgICAg
ICBbLTE4MCwgLTgwIC0gVW9dLA0KICAgICAgICAgICAgWzE4MCwgODAgKyBVb10N
CiAgICAgICAgXSkNCiAgICB9LCBhby5nZW8uZ3JlYXRBcmMgPSBmdW5jdGlvbigp
IHsNCiAgICAgICAgZnVuY3Rpb24gbigpIHsNCiAgICAgICAgICAgIHJldHVybiB7
DQogICAgICAgICAgICAgICAgdHlwZTogIkxpbmVTdHJpbmciLA0KICAgICAgICAg
ICAgICAgIGNvb3JkaW5hdGVzOiBbdCB8fCByLmFwcGx5KHRoaXMsIGFyZ3VtZW50
cyksIGUgfHwgaS5hcHBseSh0aGlzLCBhcmd1bWVudHMpXQ0KICAgICAgICAgICAg
fQ0KICAgICAgICB9DQogICAgICAgIHZhciB0LCBlLCByID0gTWUsDQogICAgICAg
ICAgICBpID0geGU7DQogICAgICAgIHJldHVybiBuLmRpc3RhbmNlID0gZnVuY3Rp
b24oKSB7DQogICAgICAgICAgICByZXR1cm4gYW8uZ2VvLmRpc3RhbmNlKHQgfHwg
ci5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBlIHx8IGkuYXBwbHkodGhpcywgYXJn
dW1lbnRzKSkNCiAgICAgICAgfSwgbi5zb3VyY2UgPSBmdW5jdGlvbihlKSB7DQog
ICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChyID0gZSwgdCA9
ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGUgPyBudWxsIDogZSwgbikgOiByDQogICAg
ICAgIH0sIG4udGFyZ2V0ID0gZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgcmV0
dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoaSA9IHQsIGUgPSAiZnVuY3Rpb24iID09
IHR5cGVvZiB0ID8gbnVsbCA6IHQsIG4pIDogaQ0KICAgICAgICB9LCBuLnByZWNp
c2lvbiA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50
cy5sZW5ndGggPyBuIDogMA0KICAgICAgICB9LCBuDQogICAgfSwgYW8uZ2VvLmlu
dGVycG9sYXRlID0gZnVuY3Rpb24obiwgdCkgew0KICAgICAgICByZXR1cm4gYmUo
blswXSAqIFlvLCBuWzFdICogWW8sIHRbMF0gKiBZbywgdFsxXSAqIFlvKQ0KICAg
IH0sIGFvLmdlby5sZW5ndGggPSBmdW5jdGlvbihuKSB7DQogICAgICAgIHJldHVy
biBKYSA9IDAsIGFvLmdlby5zdHJlYW0obiwgR2EpLCBKYQ0KICAgIH07DQogICAg
dmFyIEphLCBHYSA9IHsNCiAgICAgICAgICAgIHNwaGVyZTogYiwNCiAgICAgICAg
ICAgIHBvaW50OiBiLA0KICAgICAgICAgICAgbGluZVN0YXJ0OiBfZSwNCiAgICAg
ICAgICAgIGxpbmVFbmQ6IGIsDQogICAgICAgICAgICBwb2x5Z29uU3RhcnQ6IGIs
DQogICAgICAgICAgICBwb2x5Z29uRW5kOiBiDQogICAgICAgIH0sDQogICAgICAg
IEthID0gd2UoZnVuY3Rpb24obikgew0KICAgICAgICAgICAgcmV0dXJuIE1hdGgu
c3FydCgyIC8gKDEgKyBuKSkNCiAgICAgICAgfSwgZnVuY3Rpb24obikgew0KICAg
ICAgICAgICAgcmV0dXJuIDIgKiBNYXRoLmFzaW4obiAvIDIpDQogICAgICAgIH0p
Ow0KICAgIChhby5nZW8uYXppbXV0aGFsRXF1YWxBcmVhID0gZnVuY3Rpb24oKSB7
DQogICAgICAgIHJldHVybiBvZShLYSkNCiAgICB9KS5yYXcgPSBLYTsNCiAgICB2
YXIgUWEgPSB3ZShmdW5jdGlvbihuKSB7DQogICAgICAgIHZhciB0ID0gTWF0aC5h
Y29zKG4pOw0KICAgICAgICByZXR1cm4gdCAmJiB0IC8gTWF0aC5zaW4odCkNCiAg
ICB9LCBtKTsNCiAgICAoYW8uZ2VvLmF6aW11dGhhbEVxdWlkaXN0YW50ID0gZnVu
Y3Rpb24oKSB7DQogICAgICAgIHJldHVybiBvZShRYSkNCiAgICB9KS5yYXcgPSBR
YSwgKGFvLmdlby5jb25pY0NvbmZvcm1hbCA9IGZ1bmN0aW9uKCkgew0KICAgICAg
ICByZXR1cm4gVnQoU2UpDQogICAgfSkucmF3ID0gU2UsIChhby5nZW8uY29uaWNF
cXVpZGlzdGFudCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1cm4gVnQoa2Up
DQogICAgfSkucmF3ID0ga2U7DQogICAgdmFyIG5sID0gd2UoZnVuY3Rpb24obikg
ew0KICAgICAgICByZXR1cm4gMSAvIG4NCiAgICB9LCBNYXRoLmF0YW4pOw0KICAg
IChhby5nZW8uZ25vbW9uaWMgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgcmV0dXJu
IG9lKG5sKQ0KICAgIH0pLnJhdyA9IG5sLCBOZS5pbnZlcnQgPSBmdW5jdGlvbihu
LCB0KSB7DQogICAgICAgIHJldHVybiBbbiwgMiAqIE1hdGguYXRhbihNYXRoLmV4
cCh0KSkgLSBJb10NCiAgICB9LCAoYW8uZ2VvLm1lcmNhdG9yID0gZnVuY3Rpb24o
KSB7DQogICAgICAgIHJldHVybiBFZShOZSkNCiAgICB9KS5yYXcgPSBOZTsNCiAg
ICB2YXIgdGwgPSB3ZShmdW5jdGlvbigpIHsNCiAgICAgICAgcmV0dXJuIDENCiAg
ICB9LCBNYXRoLmFzaW4pOw0KICAgIChhby5nZW8ub3J0aG9ncmFwaGljID0gZnVu
Y3Rpb24oKSB7DQogICAgICAgIHJldHVybiBvZSh0bCkNCiAgICB9KS5yYXcgPSB0
bDsNCiAgICB2YXIgZWwgPSB3ZShmdW5jdGlvbihuKSB7DQogICAgICAgIHJldHVy
biAxIC8gKDEgKyBuKQ0KICAgIH0sIGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgcmV0
dXJuIDIgKiBNYXRoLmF0YW4obikNCiAgICB9KTsNCiAgICAoYW8uZ2VvLnN0ZXJl
b2dyYXBoaWMgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgcmV0dXJuIG9lKGVsKQ0K
ICAgIH0pLnJhdyA9IGVsLCBBZS5pbnZlcnQgPSBmdW5jdGlvbihuLCB0KSB7DQog
ICAgICAgIHJldHVybiBbLXQsIDIgKiBNYXRoLmF0YW4oTWF0aC5leHAobikpIC0g
SW9dDQogICAgfSwgKGFvLmdlby50cmFuc3ZlcnNlTWVyY2F0b3IgPSBmdW5jdGlv
bigpIHsNCiAgICAgICAgdmFyIG4gPSBFZShBZSksDQogICAgICAgICAgICB0ID0g
bi5jZW50ZXIsDQogICAgICAgICAgICBlID0gbi5yb3RhdGU7DQogICAgICAgIHJl
dHVybiBuLmNlbnRlciA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHJldHVy
biBuID8gdChbLW5bMV0sIG5bMF1dKSA6IChuID0gdCgpLCBbblsxXSwgLW5bMF1d
KQ0KICAgICAgICB9LCBuLnJvdGF0ZSA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAg
ICAgIHJldHVybiBuID8gZShbblswXSwgblsxXSwgbi5sZW5ndGggPiAyID8gblsy
XSArIDkwIDogOTBdKSA6IChuID0gZSgpLCBbblswXSwgblsxXSwgblsyXSAtIDkw
XSkNCiAgICAgICAgfSwgZShbMCwgMCwgOTBdKQ0KICAgIH0pLnJhdyA9IEFlLCBh
by5nZW9tID0ge30sIGFvLmdlb20uaHVsbCA9IGZ1bmN0aW9uKG4pIHsNCiAgICAg
ICAgZnVuY3Rpb24gdChuKSB7DQogICAgICAgICAgICBpZiAobi5sZW5ndGggPCAz
KSByZXR1cm4gW107DQogICAgICAgICAgICB2YXIgdCwgaSA9IEVuKGUpLA0KICAg
ICAgICAgICAgICAgIHUgPSBFbihyKSwNCiAgICAgICAgICAgICAgICBvID0gbi5s
ZW5ndGgsDQogICAgICAgICAgICAgICAgYSA9IFtdLA0KICAgICAgICAgICAgICAg
IGwgPSBbXTsNCiAgICAgICAgICAgIGZvciAodCA9IDA7IG8gPiB0OyB0KyspIGEu
cHVzaChbK2kuY2FsbCh0aGlzLCBuW3RdLCB0KSwgK3UuY2FsbCh0aGlzLCBuW3Rd
LCB0KSwgdF0pOw0KICAgICAgICAgICAgZm9yIChhLnNvcnQocWUpLCB0ID0gMDsg
byA+IHQ7IHQrKykgbC5wdXNoKFthW3RdWzBdLCAtYVt0XVsxXV0pOw0KICAgICAg
ICAgICAgdmFyIGMgPSBMZShhKSwNCiAgICAgICAgICAgICAgICBmID0gTGUobCks
DQogICAgICAgICAgICAgICAgcyA9IGZbMF0gPT09IGNbMF0sDQogICAgICAgICAg
ICAgICAgaCA9IGZbZi5sZW5ndGggLSAxXSA9PT0gY1tjLmxlbmd0aCAtIDFdLA0K
ICAgICAgICAgICAgICAgIHAgPSBbXTsNCiAgICAgICAgICAgIGZvciAodCA9IGMu
bGVuZ3RoIC0gMTsgdCA+PSAwOyAtLXQpIHAucHVzaChuW2FbY1t0XV1bMl1dKTsN
CiAgICAgICAgICAgIGZvciAodCA9ICtzOyB0IDwgZi5sZW5ndGggLSBoOyArK3Qp
IHAucHVzaChuW2FbZlt0XV1bMl1dKTsNCiAgICAgICAgICAgIHJldHVybiBwDQog
ICAgICAgIH0NCiAgICAgICAgdmFyIGUgPSBDZSwNCiAgICAgICAgICAgIHIgPSB6
ZTsNCiAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyB0KG4pIDogKHQu
eCA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMu
bGVuZ3RoID8gKGUgPSBuLCB0KSA6IGUNCiAgICAgICAgfSwgdC55ID0gZnVuY3Rp
b24obikgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAo
ciA9IG4sIHQpIDogcg0KICAgICAgICB9LCB0KQ0KICAgIH0sIGFvLmdlb20ucG9s
eWdvbiA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgcmV0dXJuIGtvKG4sIHJsKSwg
bg0KICAgIH07DQogICAgdmFyIHJsID0gYW8uZ2VvbS5wb2x5Z29uLnByb3RvdHlw
ZSA9IFtdOw0KICAgIHJsLmFyZWEgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgZm9y
ICh2YXIgbiwgdCA9IC0xLCBlID0gdGhpcy5sZW5ndGgsIHIgPSB0aGlzW2UgLSAx
XSwgaSA9IDA7ICsrdCA8IGU7KSBuID0gciwgciA9IHRoaXNbdF0sIGkgKz0gblsx
XSAqIHJbMF0gLSBuWzBdICogclsxXTsNCiAgICAgICAgcmV0dXJuIC41ICogaQ0K
ICAgIH0sIHJsLmNlbnRyb2lkID0gZnVuY3Rpb24obikgew0KICAgICAgICB2YXIg
dCwgZSwgciA9IC0xLA0KICAgICAgICAgICAgaSA9IHRoaXMubGVuZ3RoLA0KICAg
ICAgICAgICAgdSA9IDAsDQogICAgICAgICAgICBvID0gMCwNCiAgICAgICAgICAg
IGEgPSB0aGlzW2kgLSAxXTsNCiAgICAgICAgZm9yIChhcmd1bWVudHMubGVuZ3Ro
IHx8IChuID0gLTEgLyAoNiAqIHRoaXMuYXJlYSgpKSk7ICsrciA8IGk7KSB0ID0g
YSwgYSA9IHRoaXNbcl0sIGUgPSB0WzBdICogYVsxXSAtIGFbMF0gKiB0WzFdLCB1
ICs9ICh0WzBdICsgYVswXSkgKiBlLCBvICs9ICh0WzFdICsgYVsxXSkgKiBlOw0K
ICAgICAgICByZXR1cm4gW3UgKiBuLCBvICogbl0NCiAgICB9LCBybC5jbGlwID0g
ZnVuY3Rpb24obikgew0KICAgICAgICBmb3IgKHZhciB0LCBlLCByLCBpLCB1LCBv
LCBhID0gRGUobiksIGwgPSAtMSwgYyA9IHRoaXMubGVuZ3RoIC0gRGUodGhpcyks
IGYgPSB0aGlzW2MgLSAxXTsgKytsIDwgYzspIHsNCiAgICAgICAgICAgIGZvciAo
dCA9IG4uc2xpY2UoKSwgbi5sZW5ndGggPSAwLCBpID0gdGhpc1tsXSwgdSA9IHRb
KHIgPSB0Lmxlbmd0aCAtIGEpIC0gMV0sIGUgPSAtMTsgKytlIDwgcjspIG8gPSB0
W2VdLCBUZShvLCBmLCBpKSA/IChUZSh1LCBmLCBpKSB8fCBuLnB1c2goUmUodSwg
bywgZiwgaSkpLCBuLnB1c2gobykpIDogVGUodSwgZiwgaSkgJiYgbi5wdXNoKFJl
KHUsIG8sIGYsIGkpKSwgdSA9IG87DQogICAgICAgICAgICBhICYmIG4ucHVzaChu
WzBdKSwgZiA9IGkNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbg0KICAgIH07
DQogICAgdmFyIGlsLCB1bCwgb2wsIGFsLCBsbCwgY2wgPSBbXSwNCiAgICAgICAg
ZmwgPSBbXTsNCiAgICBZZS5wcm90b3R5cGUucHJlcGFyZSA9IGZ1bmN0aW9uKCkg
ew0KICAgICAgICBmb3IgKHZhciBuLCB0ID0gdGhpcy5lZGdlcywgZSA9IHQubGVu
Z3RoOyBlLS07KSBuID0gdFtlXS5lZGdlLCBuLmIgJiYgbi5hIHx8IHQuc3BsaWNl
KGUsIDEpOw0KICAgICAgICByZXR1cm4gdC5zb3J0KFZlKSwgdC5sZW5ndGgNCiAg
ICB9LCB0ci5wcm90b3R5cGUgPSB7DQogICAgICAgIHN0YXJ0OiBmdW5jdGlvbigp
IHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLmVkZ2UubCA9PT0gdGhpcy5zaXRl
ID8gdGhpcy5lZGdlLmEgOiB0aGlzLmVkZ2UuYg0KICAgICAgICB9LA0KICAgICAg
ICBlbmQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWRn
ZS5sID09PSB0aGlzLnNpdGUgPyB0aGlzLmVkZ2UuYiA6IHRoaXMuZWRnZS5hDQog
ICAgICAgIH0NCiAgICB9LCBlci5wcm90b3R5cGUgPSB7DQogICAgICAgIGluc2Vy
dDogZnVuY3Rpb24obiwgdCkgew0KICAgICAgICAgICAgdmFyIGUsIHIsIGk7DQog
ICAgICAgICAgICBpZiAobikgew0KICAgICAgICAgICAgICAgIGlmICh0LlAgPSBu
LCB0Lk4gPSBuLk4sIG4uTiAmJiAobi5OLlAgPSB0KSwgbi5OID0gdCwgbi5SKSB7
DQogICAgICAgICAgICAgICAgICAgIGZvciAobiA9IG4uUjsgbi5MOykgbiA9IG4u
TDsNCiAgICAgICAgICAgICAgICAgICAgbi5MID0gdA0KICAgICAgICAgICAgICAg
IH0gZWxzZSBuLlIgPSB0Ow0KICAgICAgICAgICAgICAgIGUgPSBuDQogICAgICAg
ICAgICB9IGVsc2UgdGhpcy5fID8gKG4gPSBvcih0aGlzLl8pLCB0LlAgPSBudWxs
LCB0Lk4gPSBuLCBuLlAgPSBuLkwgPSB0LCBlID0gbikgOiAodC5QID0gdC5OID0g
bnVsbCwgdGhpcy5fID0gdCwgZSA9IG51bGwpOw0KICAgICAgICAgICAgZm9yICh0
LkwgPSB0LlIgPSBudWxsLCB0LlUgPSBlLCB0LkMgPSAhMCwgbiA9IHQ7IGUgJiYg
ZS5DOykgciA9IGUuVSwgZSA9PT0gci5MID8gKGkgPSByLlIsIGkgJiYgaS5DID8g
KGUuQyA9IGkuQyA9ICExLCByLkMgPSAhMCwgbiA9IHIpIDogKG4gPT09IGUuUiAm
JiAoaXIodGhpcywgZSksIG4gPSBlLCBlID0gbi5VKSwgZS5DID0gITEsIHIuQyA9
ICEwLCB1cih0aGlzLCByKSkpIDogKGkgPSByLkwsIGkgJiYgaS5DID8gKGUuQyA9
IGkuQyA9ICExLCByLkMgPSAhMCwgbiA9IHIpIDogKG4gPT09IGUuTCAmJiAodXIo
dGhpcywgZSksIG4gPSBlLCBlID0gbi5VKSwgZS5DID0gITEsIHIuQyA9ICEwLCBp
cih0aGlzLCByKSkpLCBlID0gbi5VOw0KICAgICAgICAgICAgdGhpcy5fLkMgPSAh
MQ0KICAgICAgICB9LA0KICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKG4pIHsNCiAg
ICAgICAgICAgIG4uTiAmJiAobi5OLlAgPSBuLlApLCBuLlAgJiYgKG4uUC5OID0g
bi5OKSwgbi5OID0gbi5QID0gbnVsbDsNCiAgICAgICAgICAgIHZhciB0LCBlLCBy
LCBpID0gbi5VLA0KICAgICAgICAgICAgICAgIHUgPSBuLkwsDQogICAgICAgICAg
ICAgICAgbyA9IG4uUjsNCiAgICAgICAgICAgIGlmIChlID0gdSA/IG8gPyBvcihv
KSA6IHUgOiBvLCBpID8gaS5MID09PSBuID8gaS5MID0gZSA6IGkuUiA9IGUgOiB0
aGlzLl8gPSBlLCB1ICYmIG8gPyAociA9IGUuQywgZS5DID0gbi5DLCBlLkwgPSB1
LCB1LlUgPSBlLCBlICE9PSBvID8gKGkgPSBlLlUsIGUuVSA9IG4uVSwgbiA9IGUu
UiwgaS5MID0gbiwgZS5SID0gbywgby5VID0gZSkgOiAoZS5VID0gaSwgaSA9IGUs
IG4gPSBlLlIpKSA6IChyID0gbi5DLCBuID0gZSksIG4gJiYgKG4uVSA9IGkpLCAh
cikgew0KICAgICAgICAgICAgICAgIGlmIChuICYmIG4uQykgcmV0dXJuIHZvaWQo
bi5DID0gITEpOw0KICAgICAgICAgICAgICAgIGRvIHsNCiAgICAgICAgICAgICAg
ICAgICAgaWYgKG4gPT09IHRoaXMuXykgYnJlYWs7DQogICAgICAgICAgICAgICAg
ICAgIGlmIChuID09PSBpLkwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlm
ICh0ID0gaS5SLCB0LkMgJiYgKHQuQyA9ICExLCBpLkMgPSAhMCwgaXIodGhpcywg
aSksIHQgPSBpLlIpLCB0LkwgJiYgdC5MLkMgfHwgdC5SICYmIHQuUi5DKSB7DQog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5SICYmIHQuUi5DIHx8ICh0Lkwu
QyA9ICExLCB0LkMgPSAhMCwgdXIodGhpcywgdCksIHQgPSBpLlIpLCB0LkMgPSBp
LkMsIGkuQyA9IHQuUi5DID0gITEsIGlyKHRoaXMsIGkpLCBuID0gdGhpcy5fOw0K
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAg
ICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodCA9
IGkuTCwgdC5DICYmICh0LkMgPSAhMSwgaS5DID0gITAsIHVyKHRoaXMsIGkpLCB0
ID0gaS5MKSwgdC5MICYmIHQuTC5DIHx8IHQuUiAmJiB0LlIuQykgew0KICAgICAg
ICAgICAgICAgICAgICAgICAgdC5MICYmIHQuTC5DIHx8ICh0LlIuQyA9ICExLCB0
LkMgPSAhMCwgaXIodGhpcywgdCksIHQgPSBpLkwpLCB0LkMgPSBpLkMsIGkuQyA9
IHQuTC5DID0gITEsIHVyKHRoaXMsIGkpLCBuID0gdGhpcy5fOw0KICAgICAgICAg
ICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAg
ICAgICAgICAgICAgICAgICB0LkMgPSAhMCwgbiA9IGksIGkgPSBpLlUNCiAgICAg
ICAgICAgICAgICB9IHdoaWxlICghbi5DKTsNCiAgICAgICAgICAgICAgICBuICYm
IChuLkMgPSAhMSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0sIGFv
Lmdlb20udm9yb25vaSA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgZnVuY3Rpb24g
dChuKSB7DQogICAgICAgICAgICB2YXIgdCA9IG5ldyBBcnJheShuLmxlbmd0aCks
DQogICAgICAgICAgICAgICAgciA9IGFbMF1bMF0sDQogICAgICAgICAgICAgICAg
aSA9IGFbMF1bMV0sDQogICAgICAgICAgICAgICAgdSA9IGFbMV1bMF0sDQogICAg
ICAgICAgICAgICAgbyA9IGFbMV1bMV07DQogICAgICAgICAgICByZXR1cm4gYXIo
ZShuKSwgYSkuY2VsbHMuZm9yRWFjaChmdW5jdGlvbihlLCBhKSB7DQogICAgICAg
ICAgICAgICAgdmFyIGwgPSBlLmVkZ2VzLA0KICAgICAgICAgICAgICAgICAgICBj
ID0gZS5zaXRlLA0KICAgICAgICAgICAgICAgICAgICBmID0gdFthXSA9IGwubGVu
Z3RoID8gbC5tYXAoZnVuY3Rpb24obikgew0KICAgICAgICAgICAgICAgICAgICAg
ICAgdmFyIHQgPSBuLnN0YXJ0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICBy
ZXR1cm4gW3QueCwgdC55XQ0KICAgICAgICAgICAgICAgICAgICB9KSA6IGMueCA+
PSByICYmIGMueCA8PSB1ICYmIGMueSA+PSBpICYmIGMueSA8PSBvID8gWw0KICAg
ICAgICAgICAgICAgICAgICAgICAgW3IsIG9dLA0KICAgICAgICAgICAgICAgICAg
ICAgICAgW3UsIG9dLA0KICAgICAgICAgICAgICAgICAgICAgICAgW3UsIGldLA0K
ICAgICAgICAgICAgICAgICAgICAgICAgW3IsIGldDQogICAgICAgICAgICAgICAg
ICAgIF0gOiBbXTsNCiAgICAgICAgICAgICAgICBmLnBvaW50ID0gblthXQ0KICAg
ICAgICAgICAgfSksIHQNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGUo
bikgew0KICAgICAgICAgICAgcmV0dXJuIG4ubWFwKGZ1bmN0aW9uKG4sIHQpIHsN
CiAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICB4
OiBNYXRoLnJvdW5kKHUobiwgdCkgLyBVbykgKiBVbywNCiAgICAgICAgICAgICAg
ICAgICAgeTogTWF0aC5yb3VuZChvKG4sIHQpIC8gVW8pICogVW8sDQogICAgICAg
ICAgICAgICAgICAgIGk6IHQNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAg
ICB9KQ0KICAgICAgICB9DQogICAgICAgIHZhciByID0gQ2UsDQogICAgICAgICAg
ICBpID0gemUsDQogICAgICAgICAgICB1ID0gciwNCiAgICAgICAgICAgIG8gPSBp
LA0KICAgICAgICAgICAgYSA9IHNsOw0KICAgICAgICByZXR1cm4gbiA/IHQobikg
OiAodC5saW5rcyA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHJldHVybiBh
cihlKG4pKS5lZGdlcy5maWx0ZXIoZnVuY3Rpb24obikgew0KICAgICAgICAgICAg
ICAgIHJldHVybiBuLmwgJiYgbi5yDQogICAgICAgICAgICB9KS5tYXAoZnVuY3Rp
b24odCkgew0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAg
ICAgICAgIHNvdXJjZTogblt0LmwuaV0sDQogICAgICAgICAgICAgICAgICAgIHRh
cmdldDogblt0LnIuaV0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9
KQ0KICAgICAgICB9LCB0LnRyaWFuZ2xlcyA9IGZ1bmN0aW9uKG4pIHsNCiAgICAg
ICAgICAgIHZhciB0ID0gW107DQogICAgICAgICAgICByZXR1cm4gYXIoZShuKSku
Y2VsbHMuZm9yRWFjaChmdW5jdGlvbihlLCByKSB7DQogICAgICAgICAgICAgICAg
Zm9yICh2YXIgaSwgdSwgbyA9IGUuc2l0ZSwgYSA9IGUuZWRnZXMuc29ydChWZSks
IGwgPSAtMSwgYyA9IGEubGVuZ3RoLCBmID0gYVtjIC0gMV0uZWRnZSwgcyA9IGYu
bCA9PT0gbyA/IGYuciA6IGYubDsgKytsIDwgYzspIGkgPSBmLCB1ID0gcywgZiA9
IGFbbF0uZWRnZSwgcyA9IGYubCA9PT0gbyA/IGYuciA6IGYubCwgciA8IHUuaSAm
JiByIDwgcy5pICYmIGNyKG8sIHUsIHMpIDwgMCAmJiB0LnB1c2goW25bcl0sIG5b
dS5pXSwgbltzLmldXSkNCiAgICAgICAgICAgIH0pLCB0DQogICAgICAgIH0sIHQu
eCA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMu
bGVuZ3RoID8gKHUgPSBFbihyID0gbiksIHQpIDogcg0KICAgICAgICB9LCB0Lnkg
PSBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxl
bmd0aCA/IChvID0gRW4oaSA9IG4pLCB0KSA6IGkNCiAgICAgICAgfSwgdC5jbGlw
RXh0ZW50ID0gZnVuY3Rpb24obikgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3Vt
ZW50cy5sZW5ndGggPyAoYSA9IG51bGwgPT0gbiA/IHNsIDogbiwgdCkgOiBhID09
PSBzbCA/IG51bGwgOiBhDQogICAgICAgIH0sIHQuc2l6ZSA9IGZ1bmN0aW9uKG4p
IHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gdC5jbGlw
RXh0ZW50KG4gJiYgWw0KICAgICAgICAgICAgICAgIFswLCAwXSwgbg0KICAgICAg
ICAgICAgXSkgOiBhID09PSBzbCA/IG51bGwgOiBhICYmIGFbMV0NCiAgICAgICAg
fSwgdCkNCiAgICB9Ow0KICAgIHZhciBzbCA9IFsNCiAgICAgICAgWy0xZTYsIC0x
ZTZdLA0KICAgICAgICBbMWU2LCAxZTZdDQogICAgXTsNCiAgICBhby5nZW9tLmRl
bGF1bmF5ID0gZnVuY3Rpb24obikgew0KICAgICAgICByZXR1cm4gYW8uZ2VvbS52
b3Jvbm9pKCkudHJpYW5nbGVzKG4pDQogICAgfSwgYW8uZ2VvbS5xdWFkdHJlZSA9
IGZ1bmN0aW9uKG4sIHQsIGUsIHIsIGkpIHsNCiAgICAgICAgZnVuY3Rpb24gdShu
KSB7DQogICAgICAgICAgICBmdW5jdGlvbiB1KG4sIHQsIGUsIHIsIGksIHUsIG8s
IGEpIHsNCiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGUpICYmICFpc05hTihy
KSkNCiAgICAgICAgICAgICAgICAgICAgaWYgKG4ubGVhZikgew0KICAgICAgICAg
ICAgICAgICAgICAgICAgdmFyIGwgPSBuLngsDQogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgZiA9IG4ueTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChu
dWxsICE9IGwpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhvKGwg
LSBlKSArIHhvKGYgLSByKSA8IC4wMSkgYyhuLCB0LCBlLCByLCBpLCB1LCBvLCBh
KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSBuLnBvaW50Ow0KICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBuLnggPSBuLnkgPSBuLnBvaW50ID0g
bnVsbCwgYyhuLCBzLCBsLCBmLCBpLCB1LCBvLCBhKSwgYyhuLCB0LCBlLCByLCBp
LCB1LCBvLCBhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAg
ICAgICAgICAgICAgICAgICAgIGVsc2Ugbi54ID0gZSwgbi55ID0gciwgbi5wb2lu
dCA9IHQNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGMobiwgdCwgZSwgciwg
aSwgdSwgbywgYSkNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgZnVuY3Rp
b24gYyhuLCB0LCBlLCByLCBpLCBvLCBhLCBsKSB7DQogICAgICAgICAgICAgICAg
dmFyIGMgPSAuNSAqIChpICsgYSksDQogICAgICAgICAgICAgICAgICAgIGYgPSAu
NSAqIChvICsgbCksDQogICAgICAgICAgICAgICAgICAgIHMgPSBlID49IGMsDQog
ICAgICAgICAgICAgICAgICAgIGggPSByID49IGYsDQogICAgICAgICAgICAgICAg
ICAgIHAgPSBoIDw8IDEgfCBzOw0KICAgICAgICAgICAgICAgIG4ubGVhZiA9ICEx
LCBuID0gbi5ub2Rlc1twXSB8fCAobi5ub2Rlc1twXSA9IGhyKCkpLCBzID8gaSA9
IGMgOiBhID0gYywgaCA/IG8gPSBmIDogbCA9IGYsIHUobiwgdCwgZSwgciwgaSwg
bywgYSwgbCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBmLCBzLCBo
LCBwLCBnLCB2LCBkLCB5LCBtLCBNID0gRW4oYSksDQogICAgICAgICAgICAgICAg
eCA9IEVuKGwpOw0KICAgICAgICAgICAgaWYgKG51bGwgIT0gdCkgdiA9IHQsIGQg
PSBlLCB5ID0gciwgbSA9IGk7DQogICAgICAgICAgICBlbHNlIGlmICh5ID0gbSA9
IC0odiA9IGQgPSAxIC8gMCksIHMgPSBbXSwgaCA9IFtdLCBnID0gbi5sZW5ndGgs
IG8pDQogICAgICAgICAgICAgICAgZm9yIChwID0gMDsgZyA+IHA7ICsrcCkgZiA9
IG5bcF0sIGYueCA8IHYgJiYgKHYgPSBmLngpLCBmLnkgPCBkICYmIChkID0gZi55
KSwgZi54ID4geSAmJiAoeSA9IGYueCksIGYueSA+IG0gJiYgKG0gPSBmLnkpLCBz
LnB1c2goZi54KSwgaC5wdXNoKGYueSk7DQogICAgICAgICAgICBlbHNlDQogICAg
ICAgICAgICAgICAgZm9yIChwID0gMDsgZyA+IHA7ICsrcCkgew0KICAgICAgICAg
ICAgICAgICAgICB2YXIgYiA9ICtNKGYgPSBuW3BdLCBwKSwNCiAgICAgICAgICAg
ICAgICAgICAgICAgIF8gPSAreChmLCBwKTsNCiAgICAgICAgICAgICAgICAgICAg
diA+IGIgJiYgKHYgPSBiKSwgZCA+IF8gJiYgKGQgPSBfKSwgYiA+IHkgJiYgKHkg
PSBiKSwgXyA+IG0gJiYgKG0gPSBfKSwgcy5wdXNoKGIpLCBoLnB1c2goXykNCiAg
ICAgICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgdyA9IHkgLSB2LA0KICAg
ICAgICAgICAgICAgIFMgPSBtIC0gZDsNCiAgICAgICAgICAgIHcgPiBTID8gbSA9
IGQgKyB3IDogeSA9IHYgKyBTOw0KICAgICAgICAgICAgdmFyIGsgPSBocigpOw0K
ICAgICAgICAgICAgaWYgKGsuYWRkID0gZnVuY3Rpb24obikgew0KICAgICAgICAg
ICAgICAgICAgICB1KGssIG4sICtNKG4sICsrcCksICt4KG4sIHApLCB2LCBkLCB5
LCBtKQ0KICAgICAgICAgICAgICAgIH0sIGsudmlzaXQgPSBmdW5jdGlvbihuKSB7
DQogICAgICAgICAgICAgICAgICAgIHByKG4sIGssIHYsIGQsIHksIG0pDQogICAg
ICAgICAgICAgICAgfSwgay5maW5kID0gZnVuY3Rpb24obikgew0KICAgICAgICAg
ICAgICAgICAgICByZXR1cm4gZ3IoaywgblswXSwgblsxXSwgdiwgZCwgeSwgbSkN
CiAgICAgICAgICAgICAgICB9LCBwID0gLTEsIG51bGwgPT0gdCkgew0KICAgICAg
ICAgICAgICAgIGZvciAoOyArK3AgPCBnOykgdShrLCBuW3BdLCBzW3BdLCBoW3Bd
LCB2LCBkLCB5LCBtKTsNCiAgICAgICAgICAgICAgICAtLXANCiAgICAgICAgICAg
IH0gZWxzZSBuLmZvckVhY2goay5hZGQpOw0KICAgICAgICAgICAgcmV0dXJuIHMg
PSBoID0gbiA9IGYgPSBudWxsLCBrDQogICAgICAgIH0NCiAgICAgICAgdmFyIG8s
IGEgPSBDZSwNCiAgICAgICAgICAgIGwgPSB6ZTsNCiAgICAgICAgcmV0dXJuIChv
ID0gYXJndW1lbnRzLmxlbmd0aCkgPyAoYSA9IGZyLCBsID0gc3IsIDMgPT09IG8g
JiYgKGkgPSBlLCByID0gdCwgZSA9IHQgPSAwKSwgdShuKSkgOiAodS54ID0gZnVu
Y3Rpb24obikgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgg
PyAoYSA9IG4sIHUpIDogYQ0KICAgICAgICB9LCB1LnkgPSBmdW5jdGlvbihuKSB7
DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChsID0gbiwg
dSkgOiBsDQogICAgICAgIH0sIHUuZXh0ZW50ID0gZnVuY3Rpb24obikgew0KICAg
ICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAobnVsbCA9PSBuID8g
dCA9IGUgPSByID0gaSA9IG51bGwgOiAodCA9ICtuWzBdWzBdLCBlID0gK25bMF1b
MV0sIHIgPSArblsxXVswXSwgaSA9ICtuWzFdWzFdKSwgdSkgOiBudWxsID09IHQg
PyBudWxsIDogWw0KICAgICAgICAgICAgICAgIFt0LCBlXSwNCiAgICAgICAgICAg
ICAgICBbciwgaV0NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwgdS5zaXplID0g
ZnVuY3Rpb24obikgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5n
dGggPyAobnVsbCA9PSBuID8gdCA9IGUgPSByID0gaSA9IG51bGwgOiAodCA9IGUg
PSAwLCByID0gK25bMF0sIGkgPSArblsxXSksIHUpIDogbnVsbCA9PSB0ID8gbnVs
bCA6IFtyIC0gdCwgaSAtIGVdDQogICAgICAgIH0sIHUpDQogICAgfSwgYW8uaW50
ZXJwb2xhdGVSZ2IgPSB2ciwgYW8uaW50ZXJwb2xhdGVPYmplY3QgPSBkciwgYW8u
aW50ZXJwb2xhdGVOdW1iZXIgPSB5ciwgYW8uaW50ZXJwb2xhdGVTdHJpbmcgPSBt
cjsNCiAgICB2YXIgaGwgPSAvWy0rXT8oPzpcZCtcLj9cZCp8XC4/XGQrKSg/Oltl
RV1bLStdP1xkKyk/L2csDQogICAgICAgIHBsID0gbmV3IFJlZ0V4cChobC5zb3Vy
Y2UsICJnIik7DQogICAgYW8uaW50ZXJwb2xhdGUgPSBNciwgYW8uaW50ZXJwb2xh
dG9ycyA9IFtmdW5jdGlvbihuLCB0KSB7DQogICAgICAgIHZhciBlID0gdHlwZW9m
IHQ7DQogICAgICAgIHJldHVybiAoInN0cmluZyIgPT09IGUgPyB1YS5oYXModC50
b0xvd2VyQ2FzZSgpKSB8fCAvXigjfHJnYlwofGhzbFwoKS9pLnRlc3QodCkgPyB2
ciA6IG1yIDogdCBpbnN0YW5jZW9mIGFuID8gdnIgOiBBcnJheS5pc0FycmF5KHQp
ID8geHIgOiAib2JqZWN0IiA9PT0gZSAmJiBpc05hTih0KSA/IGRyIDogeXIpKG4s
IHQpDQogICAgfV0sIGFvLmludGVycG9sYXRlQXJyYXkgPSB4cjsNCiAgICB2YXIg
Z2wgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiBtDQogICAgICAg
IH0sDQogICAgICAgIHZsID0gYW8ubWFwKHsNCiAgICAgICAgICAgIGxpbmVhcjog
Z2wsDQogICAgICAgICAgICBwb2x5OiBFciwNCiAgICAgICAgICAgIHF1YWQ6IGZ1
bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiBTcg0KICAgICAgICAg
ICAgfSwNCiAgICAgICAgICAgIGN1YmljOiBmdW5jdGlvbigpIHsNCiAgICAgICAg
ICAgICAgICByZXR1cm4ga3INCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBz
aW46IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiBBcg0KICAg
ICAgICAgICAgfSwNCiAgICAgICAgICAgIGV4cDogZnVuY3Rpb24oKSB7DQogICAg
ICAgICAgICAgICAgcmV0dXJuIENyDQogICAgICAgICAgICB9LA0KICAgICAgICAg
ICAgY2lyY2xlOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4g
enINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBlbGFzdGljOiBMciwNCiAg
ICAgICAgICAgIGJhY2s6IHFyLA0KICAgICAgICAgICAgYm91bmNlOiBmdW5jdGlv
bigpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gVHINCiAgICAgICAgICAgIH0N
CiAgICAgICAgfSksDQogICAgICAgIGRsID0gYW8ubWFwKHsNCiAgICAgICAgICAg
ICJpbiI6IG0sDQogICAgICAgICAgICBvdXQ6IF9yLA0KICAgICAgICAgICAgImlu
LW91dCI6IHdyLA0KICAgICAgICAgICAgIm91dC1pbiI6IGZ1bmN0aW9uKG4pIHsN
CiAgICAgICAgICAgICAgICByZXR1cm4gd3IoX3IobikpDQogICAgICAgICAgICB9
DQogICAgICAgIH0pOw0KICAgIGFvLmVhc2UgPSBmdW5jdGlvbihuKSB7DQogICAg
ICAgIHZhciB0ID0gbi5pbmRleE9mKCItIiksDQogICAgICAgICAgICBlID0gdCA+
PSAwID8gbi5zbGljZSgwLCB0KSA6IG4sDQogICAgICAgICAgICByID0gdCA+PSAw
ID8gbi5zbGljZSh0ICsgMSkgOiAiaW4iOw0KICAgICAgICByZXR1cm4gZSA9IHZs
LmdldChlKSB8fCBnbCwgciA9IGRsLmdldChyKSB8fCBtLCBicihyKGUuYXBwbHko
bnVsbCwgbG8uY2FsbChhcmd1bWVudHMsIDEpKSkpDQogICAgfSwgYW8uaW50ZXJw
b2xhdGVIY2wgPSBSciwgYW8uaW50ZXJwb2xhdGVIc2wgPSBEciwgYW8uaW50ZXJw
b2xhdGVMYWIgPSBQciwgYW8uaW50ZXJwb2xhdGVSb3VuZCA9IFVyLCBhby50cmFu
c2Zvcm0gPSBmdW5jdGlvbihuKSB7DQogICAgICAgIHZhciB0ID0gZm8uY3JlYXRl
RWxlbWVudE5TKGFvLm5zLnByZWZpeC5zdmcsICJnIik7DQogICAgICAgIHJldHVy
biAoYW8udHJhbnNmb3JtID0gZnVuY3Rpb24obikgew0KICAgICAgICAgICAgaWYg
KG51bGwgIT0gbikgew0KICAgICAgICAgICAgICAgIHQuc2V0QXR0cmlidXRlKCJ0
cmFuc2Zvcm0iLCBuKTsNCiAgICAgICAgICAgICAgICB2YXIgZSA9IHQudHJhbnNm
b3JtLmJhc2VWYWwuY29uc29saWRhdGUoKQ0KICAgICAgICAgICAgfQ0KICAgICAg
ICAgICAgcmV0dXJuIG5ldyBqcihlID8gZS5tYXRyaXggOiB5bCkNCiAgICAgICAg
fSkobikNCiAgICB9LCBqci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigp
IHsNCiAgICAgICAgcmV0dXJuICJ0cmFuc2xhdGUoIiArIHRoaXMudHJhbnNsYXRl
ICsgIilyb3RhdGUoIiArIHRoaXMucm90YXRlICsgIilza2V3WCgiICsgdGhpcy5z
a2V3ICsgIilzY2FsZSgiICsgdGhpcy5zY2FsZSArICIpIg0KICAgIH07DQogICAg
dmFyIHlsID0gew0KICAgICAgICBhOiAxLA0KICAgICAgICBiOiAwLA0KICAgICAg
ICBjOiAwLA0KICAgICAgICBkOiAxLA0KICAgICAgICBlOiAwLA0KICAgICAgICBm
OiAwDQogICAgfTsNCiAgICBhby5pbnRlcnBvbGF0ZVRyYW5zZm9ybSA9ICRyLCBh
by5sYXlvdXQgPSB7fSwgYW8ubGF5b3V0LmJ1bmRsZSA9IGZ1bmN0aW9uKCkgew0K
ICAgICAgICByZXR1cm4gZnVuY3Rpb24obikgew0KICAgICAgICAgICAgZm9yICh2
YXIgdCA9IFtdLCBlID0gLTEsIHIgPSBuLmxlbmd0aDsgKytlIDwgcjspIHQucHVz
aChKcihuW2VdKSk7DQogICAgICAgICAgICByZXR1cm4gdA0KICAgICAgICB9DQog
ICAgfSwgYW8ubGF5b3V0LmNob3JkID0gZnVuY3Rpb24oKSB7DQogICAgICAgIGZ1
bmN0aW9uIG4oKSB7DQogICAgICAgICAgICB2YXIgbiwgYywgcywgaCwgcCwgZyA9
IHt9LA0KICAgICAgICAgICAgICAgIHYgPSBbXSwNCiAgICAgICAgICAgICAgICBk
ID0gYW8ucmFuZ2UodSksDQogICAgICAgICAgICAgICAgeSA9IFtdOw0KICAgICAg
ICAgICAgZm9yIChlID0gW10sIHIgPSBbXSwgbiA9IDAsIGggPSAtMTsgKytoIDwg
dTspIHsNCiAgICAgICAgICAgICAgICBmb3IgKGMgPSAwLCBwID0gLTE7ICsrcCA8
IHU7KSBjICs9IGlbaF1bcF07DQogICAgICAgICAgICAgICAgdi5wdXNoKGMpLCB5
LnB1c2goYW8ucmFuZ2UodSkpLCBuICs9IGMNCiAgICAgICAgICAgIH0NCiAgICAg
ICAgICAgIGZvciAobyAmJiBkLnNvcnQoZnVuY3Rpb24obiwgdCkgew0KICAgICAg
ICAgICAgICAgICAgICByZXR1cm4gbyh2W25dLCB2W3RdKQ0KICAgICAgICAgICAg
ICAgIH0pLCBhICYmIHkuZm9yRWFjaChmdW5jdGlvbihuLCB0KSB7DQogICAgICAg
ICAgICAgICAgICAgIG4uc29ydChmdW5jdGlvbihuLCBlKSB7DQogICAgICAgICAg
ICAgICAgICAgICAgICByZXR1cm4gYShpW3RdW25dLCBpW3RdW2VdKQ0KICAgICAg
ICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0pLCBuID0gKEhvIC0g
ZiAqIHUpIC8gbiwgYyA9IDAsIGggPSAtMTsgKytoIDwgdTspIHsNCiAgICAgICAg
ICAgICAgICBmb3IgKHMgPSBjLCBwID0gLTE7ICsrcCA8IHU7KSB7DQogICAgICAg
ICAgICAgICAgICAgIHZhciBtID0gZFtoXSwNCiAgICAgICAgICAgICAgICAgICAg
ICAgIE0gPSB5W21dW3BdLA0KICAgICAgICAgICAgICAgICAgICAgICAgeCA9IGlb
bV1bTV0sDQogICAgICAgICAgICAgICAgICAgICAgICBiID0gYywNCiAgICAgICAg
ICAgICAgICAgICAgICAgIF8gPSBjICs9IHggKiBuOw0KICAgICAgICAgICAgICAg
ICAgICBnW20gKyAiLSIgKyBNXSA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAg
IGluZGV4OiBtLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3ViaW5kZXg6IE0s
DQogICAgICAgICAgICAgICAgICAgICAgICBzdGFydEFuZ2xlOiBiLA0KICAgICAg
ICAgICAgICAgICAgICAgICAgZW5kQW5nbGU6IF8sDQogICAgICAgICAgICAgICAg
ICAgICAgICB2YWx1ZTogeA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAg
ICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJbbV0gPSB7DQogICAgICAgICAg
ICAgICAgICAgIGluZGV4OiBtLA0KICAgICAgICAgICAgICAgICAgICBzdGFydEFu
Z2xlOiBzLA0KICAgICAgICAgICAgICAgICAgICBlbmRBbmdsZTogYywNCiAgICAg
ICAgICAgICAgICAgICAgdmFsdWU6IHZbbV0NCiAgICAgICAgICAgICAgICB9LCBj
ICs9IGYNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZvciAoaCA9IC0xOyAr
K2ggPCB1OykNCiAgICAgICAgICAgICAgICBmb3IgKHAgPSBoIC0gMTsgKytwIDwg
dTspIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHcgPSBnW2ggKyAiLSIgKyBw
XSwNCiAgICAgICAgICAgICAgICAgICAgICAgIFMgPSBnW3AgKyAiLSIgKyBoXTsN
CiAgICAgICAgICAgICAgICAgICAgKHcudmFsdWUgfHwgUy52YWx1ZSkgJiYgZS5w
dXNoKHcudmFsdWUgPCBTLnZhbHVlID8gew0KICAgICAgICAgICAgICAgICAgICAg
ICAgc291cmNlOiBTLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB3
DQogICAgICAgICAgICAgICAgICAgIH0gOiB7DQogICAgICAgICAgICAgICAgICAg
ICAgICBzb3VyY2U6IHcsDQogICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6
IFMNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9DQog
ICAgICAgICAgICBsICYmIHQoKQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rp
b24gdCgpIHsNCiAgICAgICAgICAgIGUuc29ydChmdW5jdGlvbihuLCB0KSB7DQog
ICAgICAgICAgICAgICAgcmV0dXJuIGwoKG4uc291cmNlLnZhbHVlICsgbi50YXJn
ZXQudmFsdWUpIC8gMiwgKHQuc291cmNlLnZhbHVlICsgdC50YXJnZXQudmFsdWUp
IC8gMikNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgICAgdmFyIGUs
IHIsIGksIHUsIG8sIGEsIGwsIGMgPSB7fSwNCiAgICAgICAgICAgIGYgPSAwOw0K
ICAgICAgICByZXR1cm4gYy5tYXRyaXggPSBmdW5jdGlvbihuKSB7DQogICAgICAg
ICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh1ID0gKGkgPSBuKSAmJiBp
Lmxlbmd0aCwgZSA9IHIgPSBudWxsLCBjKSA6IGkNCiAgICAgICAgfSwgYy5wYWRk
aW5nID0gZnVuY3Rpb24obikgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50
cy5sZW5ndGggPyAoZiA9IG4sIGUgPSByID0gbnVsbCwgYykgOiBmDQogICAgICAg
IH0sIGMuc29ydEdyb3VwcyA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHJl
dHVybiBhcmd1bWVudHMubGVuZ3RoID8gKG8gPSBuLCBlID0gciA9IG51bGwsIGMp
IDogbw0KICAgICAgICB9LCBjLnNvcnRTdWJncm91cHMgPSBmdW5jdGlvbihuKSB7
DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChhID0gbiwg
ZSA9IG51bGwsIGMpIDogYQ0KICAgICAgICB9LCBjLnNvcnRDaG9yZHMgPSBmdW5j
dGlvbihuKSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/
IChsID0gbiwgZSAmJiB0KCksIGMpIDogbA0KICAgICAgICB9LCBjLmNob3JkcyA9
IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgcmV0dXJuIGUgfHwgbigpLCBlDQog
ICAgICAgIH0sIGMuZ3JvdXBzID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICBy
ZXR1cm4gciB8fCBuKCksIHINCiAgICAgICAgfSwgYw0KICAgIH0sIGFvLmxheW91
dC5mb3JjZSA9IGZ1bmN0aW9uKCkgew0KICAgICAgICBmdW5jdGlvbiBuKG4pIHsN
CiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih0LCBlLCByLCBpKSB7DQogICAg
ICAgICAgICAgICAgaWYgKHQucG9pbnQgIT09IG4pIHsNCiAgICAgICAgICAgICAg
ICAgICAgdmFyIHUgPSB0LmN4IC0gbi54LA0KICAgICAgICAgICAgICAgICAgICAg
ICAgbyA9IHQuY3kgLSBuLnksDQogICAgICAgICAgICAgICAgICAgICAgICBhID0g
aSAtIGUsDQogICAgICAgICAgICAgICAgICAgICAgICBsID0gdSAqIHUgKyBvICog
bzsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGwgPiBhICogYSAvIHkpIHsNCiAg
ICAgICAgICAgICAgICAgICAgICAgIGlmICh2ID4gbCkgew0KICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHZhciBjID0gdC5jaGFyZ2UgLyBsOw0KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIG4ucHggLT0gdSAqIGMsIG4ucHkgLT0gbyAqIGMN
CiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAg
ICAgIHJldHVybiAhMA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAg
ICAgICAgICAgIGlmICh0LnBvaW50ICYmIGwgJiYgdiA+IGwpIHsNCiAgICAgICAg
ICAgICAgICAgICAgICAgIHZhciBjID0gdC5wb2ludENoYXJnZSAvIGw7DQogICAg
ICAgICAgICAgICAgICAgICAgICBuLnB4IC09IHUgKiBjLCBuLnB5IC09IG8gKiBj
DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAg
ICAgICAgICAgICAgcmV0dXJuICF0LmNoYXJnZQ0KICAgICAgICAgICAgfQ0KICAg
ICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gdChuKSB7DQogICAgICAgICAgICBu
LnB4ID0gYW8uZXZlbnQueCwgbi5weSA9IGFvLmV2ZW50LnksIGwucmVzdW1lKCkN
CiAgICAgICAgfQ0KICAgICAgICB2YXIgZSwgciwgaSwgdSwgbywgYSwgbCA9IHt9
LA0KICAgICAgICAgICAgYyA9IGFvLmRpc3BhdGNoKCJzdGFydCIsICJ0aWNrIiwg
ImVuZCIpLA0KICAgICAgICAgICAgZiA9IFsxLCAxXSwNCiAgICAgICAgICAgIHMg
PSAuOSwNCiAgICAgICAgICAgIGggPSBtbCwNCiAgICAgICAgICAgIHAgPSBNbCwN
CiAgICAgICAgICAgIGcgPSAtMzAsDQogICAgICAgICAgICB2ID0geGwsDQogICAg
ICAgICAgICBkID0gLjEsDQogICAgICAgICAgICB5ID0gLjY0LA0KICAgICAgICAg
ICAgTSA9IFtdLA0KICAgICAgICAgICAgeCA9IFtdOw0KICAgICAgICByZXR1cm4g
bC50aWNrID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICBpZiAoKGkgKj0gLjk5
KSA8IC4wMDUpIHJldHVybiBlID0gbnVsbCwgYy5lbmQoew0KICAgICAgICAgICAg
ICAgIHR5cGU6ICJlbmQiLA0KICAgICAgICAgICAgICAgIGFscGhhOiBpID0gMA0K
ICAgICAgICAgICAgfSksICEwOw0KICAgICAgICAgICAgdmFyIHQsIHIsIGwsIGgs
IHAsIHYsIHksIG0sIGIsIF8gPSBNLmxlbmd0aCwNCiAgICAgICAgICAgICAgICB3
ID0geC5sZW5ndGg7DQogICAgICAgICAgICBmb3IgKHIgPSAwOyB3ID4gcjsgKyty
KSBsID0geFtyXSwgaCA9IGwuc291cmNlLCBwID0gbC50YXJnZXQsIG0gPSBwLngg
LSBoLngsIGIgPSBwLnkgLSBoLnksICh2ID0gbSAqIG0gKyBiICogYikgJiYgKHYg
PSBpICogb1tyXSAqICgodiA9IE1hdGguc3FydCh2KSkgLSB1W3JdKSAvIHYsIG0g
Kj0gdiwgYiAqPSB2LCBwLnggLT0gbSAqICh5ID0gaC53ZWlnaHQgKyBwLndlaWdo
dCA/IGgud2VpZ2h0IC8gKGgud2VpZ2h0ICsgcC53ZWlnaHQpIDogLjUpLCBwLnkg
LT0gYiAqIHksIGgueCArPSBtICogKHkgPSAxIC0geSksIGgueSArPSBiICogeSk7
DQogICAgICAgICAgICBpZiAoKHkgPSBpICogZCkgJiYgKG0gPSBmWzBdIC8gMiwg
YiA9IGZbMV0gLyAyLCByID0gLTEsIHkpKQ0KICAgICAgICAgICAgICAgIGZvciAo
OyArK3IgPCBfOykgbCA9IE1bcl0sIGwueCArPSAobSAtIGwueCkgKiB5LCBsLnkg
Kz0gKGIgLSBsLnkpICogeTsNCiAgICAgICAgICAgIGlmIChnKQ0KICAgICAgICAg
ICAgICAgIGZvciAocmkodCA9IGFvLmdlb20ucXVhZHRyZWUoTSksIGksIGEpLCBy
ID0gLTE7ICsrciA8IF87KShsID0gTVtyXSkuZml4ZWQgfHwgdC52aXNpdChuKGwp
KTsNCiAgICAgICAgICAgIGZvciAociA9IC0xOyArK3IgPCBfOykgbCA9IE1bcl0s
IGwuZml4ZWQgPyAobC54ID0gbC5weCwgbC55ID0gbC5weSkgOiAobC54IC09IChs
LnB4IC0gKGwucHggPSBsLngpKSAqIHMsIGwueSAtPSAobC5weSAtIChsLnB5ID0g
bC55KSkgKiBzKTsNCiAgICAgICAgICAgIGMudGljayh7DQogICAgICAgICAgICAg
ICAgdHlwZTogInRpY2siLA0KICAgICAgICAgICAgICAgIGFscGhhOiBpDQogICAg
ICAgICAgICB9KQ0KICAgICAgICB9LCBsLm5vZGVzID0gZnVuY3Rpb24obikgew0K
ICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoTSA9IG4sIGwp
IDogTQ0KICAgICAgICB9LCBsLmxpbmtzID0gZnVuY3Rpb24obikgew0KICAgICAg
ICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoeCA9IG4sIGwpIDogeA0K
ICAgICAgICB9LCBsLnNpemUgPSBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICBy
ZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChmID0gbiwgbCkgOiBmDQogICAgICAg
IH0sIGwubGlua0Rpc3RhbmNlID0gZnVuY3Rpb24obikgew0KICAgICAgICAgICAg
cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoaCA9ICJmdW5jdGlvbiIgPT0gdHlw
ZW9mIG4gPyBuIDogK24sIGwpIDogaA0KICAgICAgICB9LCBsLmRpc3RhbmNlID0g
bC5saW5rRGlzdGFuY2UsIGwubGlua1N0cmVuZ3RoID0gZnVuY3Rpb24obikgew0K
ICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAocCA9ICJmdW5j
dGlvbiIgPT0gdHlwZW9mIG4gPyBuIDogK24sIGwpIDogcA0KICAgICAgICB9LCBs
LmZyaWN0aW9uID0gZnVuY3Rpb24obikgew0KICAgICAgICAgICAgcmV0dXJuIGFy
Z3VtZW50cy5sZW5ndGggPyAocyA9ICtuLCBsKSA6IHMNCiAgICAgICAgfSwgbC5j
aGFyZ2UgPSBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1l
bnRzLmxlbmd0aCA/IChnID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgbiA/IG4gOiAr
biwgbCkgOiBnDQogICAgICAgIH0sIGwuY2hhcmdlRGlzdGFuY2UgPSBmdW5jdGlv
bihuKSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh2
ID0gbiAqIG4sIGwpIDogTWF0aC5zcXJ0KHYpDQogICAgICAgIH0sIGwuZ3Jhdml0
eSA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMu
bGVuZ3RoID8gKGQgPSArbiwgbCkgOiBkDQogICAgICAgIH0sIGwudGhldGEgPSBm
dW5jdGlvbihuKSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0
aCA/ICh5ID0gbiAqIG4sIGwpIDogTWF0aC5zcXJ0KHkpDQogICAgICAgIH0sIGwu
YWxwaGEgPSBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1l
bnRzLmxlbmd0aCA/IChuID0gK24sIGkgPyBuID4gMCA/IGkgPSBuIDogKGUuYyA9
IG51bGwsIGUudCA9IE5hTiwgZSA9IG51bGwsIGMuZW5kKHsNCiAgICAgICAgICAg
ICAgICB0eXBlOiAiZW5kIiwNCiAgICAgICAgICAgICAgICBhbHBoYTogaSA9IDAN
CiAgICAgICAgICAgIH0pKSA6IG4gPiAwICYmIChjLnN0YXJ0KHsNCiAgICAgICAg
ICAgICAgICB0eXBlOiAic3RhcnQiLA0KICAgICAgICAgICAgICAgIGFscGhhOiBp
ID0gbg0KICAgICAgICAgICAgfSksIGUgPSBxbihsLnRpY2spKSwgbCkgOiBpDQog
ICAgICAgIH0sIGwuc3RhcnQgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIGZ1
bmN0aW9uIG4obiwgcikgew0KICAgICAgICAgICAgICAgIGlmICghZSkgew0KICAg
ICAgICAgICAgICAgICAgICBmb3IgKGUgPSBuZXcgQXJyYXkoaSksIGwgPSAwOyBp
ID4gbDsgKytsKSBlW2xdID0gW107DQogICAgICAgICAgICAgICAgICAgIGZvciAo
bCA9IDA7IGMgPiBsOyArK2wpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZh
ciB1ID0geFtsXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVbdS5zb3VyY2Uu
aW5kZXhdLnB1c2godS50YXJnZXQpLCBlW3UudGFyZ2V0LmluZGV4XS5wdXNoKHUu
c291cmNlKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAg
fQ0KICAgICAgICAgICAgICAgIGZvciAodmFyIG8sIGEgPSBlW3RdLCBsID0gLTEs
IGYgPSBhLmxlbmd0aDsgKytsIDwgZjspDQogICAgICAgICAgICAgICAgICAgIGlm
ICghaXNOYU4obyA9IGFbbF1bbl0pKSByZXR1cm4gbzsNCiAgICAgICAgICAgICAg
ICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIHINCiAgICAgICAgICAgIH0NCiAgICAg
ICAgICAgIHZhciB0LCBlLCByLCBpID0gTS5sZW5ndGgsDQogICAgICAgICAgICAg
ICAgYyA9IHgubGVuZ3RoLA0KICAgICAgICAgICAgICAgIHMgPSBmWzBdLA0KICAg
ICAgICAgICAgICAgIHYgPSBmWzFdOw0KICAgICAgICAgICAgZm9yICh0ID0gMDsg
aSA+IHQ7ICsrdCkociA9IE1bdF0pLmluZGV4ID0gdCwgci53ZWlnaHQgPSAwOw0K
ICAgICAgICAgICAgZm9yICh0ID0gMDsgYyA+IHQ7ICsrdCkgciA9IHhbdF0sICJu
dW1iZXIiID09IHR5cGVvZiByLnNvdXJjZSAmJiAoci5zb3VyY2UgPSBNW3Iuc291
cmNlXSksICJudW1iZXIiID09IHR5cGVvZiByLnRhcmdldCAmJiAoci50YXJnZXQg
PSBNW3IudGFyZ2V0XSksICsrci5zb3VyY2Uud2VpZ2h0LCArK3IudGFyZ2V0Lndl
aWdodDsNCiAgICAgICAgICAgIGZvciAodCA9IDA7IGkgPiB0OyArK3QpIHIgPSBN
W3RdLCBpc05hTihyLngpICYmIChyLnggPSBuKCJ4IiwgcykpLCBpc05hTihyLnkp
ICYmIChyLnkgPSBuKCJ5IiwgdikpLCBpc05hTihyLnB4KSAmJiAoci5weCA9IHIu
eCksIGlzTmFOKHIucHkpICYmIChyLnB5ID0gci55KTsNCiAgICAgICAgICAgIGlm
ICh1ID0gW10sICJmdW5jdGlvbiIgPT0gdHlwZW9mIGgpDQogICAgICAgICAgICAg
ICAgZm9yICh0ID0gMDsgYyA+IHQ7ICsrdCkgdVt0XSA9ICtoLmNhbGwodGhpcywg
eFt0XSwgdCk7DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgZm9y
ICh0ID0gMDsgYyA+IHQ7ICsrdCkgdVt0XSA9IGg7DQogICAgICAgICAgICBpZiAo
byA9IFtdLCAiZnVuY3Rpb24iID09IHR5cGVvZiBwKQ0KICAgICAgICAgICAgICAg
IGZvciAodCA9IDA7IGMgPiB0OyArK3QpIG9bdF0gPSArcC5jYWxsKHRoaXMsIHhb
dF0sIHQpOw0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIGZvciAo
dCA9IDA7IGMgPiB0OyArK3QpIG9bdF0gPSBwOw0KICAgICAgICAgICAgaWYgKGEg
PSBbXSwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZykNCiAgICAgICAgICAgICAgICBm
b3IgKHQgPSAwOyBpID4gdDsgKyt0KSBhW3RdID0gK2cuY2FsbCh0aGlzLCBNW3Rd
LCB0KTsNCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICBmb3IgKHQg
PSAwOyBpID4gdDsgKyt0KSBhW3RdID0gZzsNCiAgICAgICAgICAgIHJldHVybiBs
LnJlc3VtZSgpDQogICAgICAgIH0sIGwucmVzdW1lID0gZnVuY3Rpb24oKSB7DQog
ICAgICAgICAgICByZXR1cm4gbC5hbHBoYSguMSkNCiAgICAgICAgfSwgbC5zdG9w
ID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICByZXR1cm4gbC5hbHBoYSgwKQ0K
ICAgICAgICB9LCBsLmRyYWcgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJl
dHVybiByIHx8IChyID0gYW8uYmVoYXZpb3IuZHJhZygpLm9yaWdpbihtKS5vbigi
ZHJhZ3N0YXJ0LmZvcmNlIiwgUXIpLm9uKCJkcmFnLmZvcmNlIiwgdCkub24oImRy
YWdlbmQuZm9yY2UiLCBuaSkpLCBhcmd1bWVudHMubGVuZ3RoID8gdm9pZCB0aGlz
Lm9uKCJtb3VzZW92ZXIuZm9yY2UiLCB0aSkub24oIm1vdXNlb3V0LmZvcmNlIiwg
ZWkpLmNhbGwocikgOiByDQogICAgICAgIH0sIGFvLnJlYmluZChsLCBjLCAib24i
KQ0KICAgIH07DQogICAgdmFyIG1sID0gMjAsDQogICAgICAgIE1sID0gMSwNCiAg
ICAgICAgeGwgPSAxIC8gMDsNCiAgICBhby5sYXlvdXQuaGllcmFyY2h5ID0gZnVu
Y3Rpb24oKSB7DQogICAgICAgIGZ1bmN0aW9uIG4oaSkgew0KICAgICAgICAgICAg
dmFyIHUsIG8gPSBbaV0sDQogICAgICAgICAgICAgICAgYSA9IFtdOw0KICAgICAg
ICAgICAgZm9yIChpLmRlcHRoID0gMDsgbnVsbCAhPSAodSA9IG8ucG9wKCkpOykN
CiAgICAgICAgICAgICAgICBpZiAoYS5wdXNoKHUpLCAoYyA9IGUuY2FsbChuLCB1
LCB1LmRlcHRoKSkgJiYgKGwgPSBjLmxlbmd0aCkpIHsNCiAgICAgICAgICAgICAg
ICAgICAgZm9yICh2YXIgbCwgYywgZjsgLS1sID49IDA7KSBvLnB1c2goZiA9IGNb
bF0pLCBmLnBhcmVudCA9IHUsIGYuZGVwdGggPSB1LmRlcHRoICsgMTsNCiAgICAg
ICAgICAgICAgICAgICAgciAmJiAodS52YWx1ZSA9IDApLCB1LmNoaWxkcmVuID0g
Yw0KICAgICAgICAgICAgICAgIH0gZWxzZSByICYmICh1LnZhbHVlID0gK3IuY2Fs
bChuLCB1LCB1LmRlcHRoKSB8fCAwKSwgZGVsZXRlIHUuY2hpbGRyZW47DQogICAg
ICAgICAgICByZXR1cm4gb2koaSwgZnVuY3Rpb24obikgew0KICAgICAgICAgICAg
ICAgIHZhciBlLCBpOw0KICAgICAgICAgICAgICAgIHQgJiYgKGUgPSBuLmNoaWxk
cmVuKSAmJiBlLnNvcnQodCksIHIgJiYgKGkgPSBuLnBhcmVudCkgJiYgKGkudmFs
dWUgKz0gbi52YWx1ZSkNCiAgICAgICAgICAgIH0pLCBhDQogICAgICAgIH0NCiAg
ICAgICAgdmFyIHQgPSBjaSwNCiAgICAgICAgICAgIGUgPSBhaSwNCiAgICAgICAg
ICAgIHIgPSBsaTsNCiAgICAgICAgcmV0dXJuIG4uc29ydCA9IGZ1bmN0aW9uKGUp
IHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHQgPSBl
LCBuKSA6IHQNCiAgICAgICAgfSwgbi5jaGlsZHJlbiA9IGZ1bmN0aW9uKHQpIHsN
CiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGUgPSB0LCBu
KSA6IGUNCiAgICAgICAgfSwgbi52YWx1ZSA9IGZ1bmN0aW9uKHQpIHsNCiAgICAg
ICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHIgPSB0LCBuKSA6IHIN
CiAgICAgICAgfSwgbi5yZXZhbHVlID0gZnVuY3Rpb24odCkgew0KICAgICAgICAg
ICAgcmV0dXJuIHIgJiYgKHVpKHQsIGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAg
ICAgICBuLmNoaWxkcmVuICYmIChuLnZhbHVlID0gMCkNCiAgICAgICAgICAgIH0p
LCBvaSh0LCBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICAgICAgdmFyIGU7DQog
ICAgICAgICAgICAgICAgdC5jaGlsZHJlbiB8fCAodC52YWx1ZSA9ICtyLmNhbGwo
biwgdCwgdC5kZXB0aCkgfHwgMCksIChlID0gdC5wYXJlbnQpICYmIChlLnZhbHVl
ICs9IHQudmFsdWUpDQogICAgICAgICAgICB9KSksIHQNCiAgICAgICAgfSwgbg0K
ICAgIH0sIGFvLmxheW91dC5wYXJ0aXRpb24gPSBmdW5jdGlvbigpIHsNCiAgICAg
ICAgZnVuY3Rpb24gbih0LCBlLCByLCBpKSB7DQogICAgICAgICAgICB2YXIgdSA9
IHQuY2hpbGRyZW47DQogICAgICAgICAgICBpZiAodC54ID0gZSwgdC55ID0gdC5k
ZXB0aCAqIGksIHQuZHggPSByLCB0LmR5ID0gaSwgdSAmJiAobyA9IHUubGVuZ3Ro
KSkgew0KICAgICAgICAgICAgICAgIHZhciBvLCBhLCBsLCBjID0gLTE7DQogICAg
ICAgICAgICAgICAgZm9yIChyID0gdC52YWx1ZSA/IHIgLyB0LnZhbHVlIDogMDsg
KytjIDwgbzspIG4oYSA9IHVbY10sIGUsIGwgPSBhLnZhbHVlICogciwgaSksIGUg
Kz0gbA0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rp
b24gdChuKSB7DQogICAgICAgICAgICB2YXIgZSA9IG4uY2hpbGRyZW4sDQogICAg
ICAgICAgICAgICAgciA9IDA7DQogICAgICAgICAgICBpZiAoZSAmJiAoaSA9IGUu
bGVuZ3RoKSkNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpLCB1ID0gLTE7ICsr
dSA8IGk7KSByID0gTWF0aC5tYXgociwgdChlW3VdKSk7DQogICAgICAgICAgICBy
ZXR1cm4gMSArIHINCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGUoZSwg
dSkgew0KICAgICAgICAgICAgdmFyIG8gPSByLmNhbGwodGhpcywgZSwgdSk7DQog
ICAgICAgICAgICByZXR1cm4gbihvWzBdLCAwLCBpWzBdLCBpWzFdIC8gdChvWzBd
KSksIG8NCiAgICAgICAgfQ0KICAgICAgICB2YXIgciA9IGFvLmxheW91dC5oaWVy
YXJjaHkoKSwNCiAgICAgICAgICAgIGkgPSBbMSwgMV07DQogICAgICAgIHJldHVy
biBlLnNpemUgPSBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICByZXR1cm4gYXJn
dW1lbnRzLmxlbmd0aCA/IChpID0gbiwgZSkgOiBpDQogICAgICAgIH0sIGlpKGUs
IHIpDQogICAgfSwgYW8ubGF5b3V0LnBpZSA9IGZ1bmN0aW9uKCkgew0KICAgICAg
ICBmdW5jdGlvbiBuKG8pIHsNCiAgICAgICAgICAgIHZhciBhLCBsID0gby5sZW5n
dGgsDQogICAgICAgICAgICAgICAgYyA9IG8ubWFwKGZ1bmN0aW9uKGUsIHIpIHsN
CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICt0LmNhbGwobiwgZSwgcikNCiAg
ICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBmID0gKygiZnVuY3Rp
b24iID09IHR5cGVvZiByID8gci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogciks
DQogICAgICAgICAgICAgICAgcyA9ICgiZnVuY3Rpb24iID09IHR5cGVvZiBpID8g
aS5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogaSkgLSBmLA0KICAgICAgICAgICAg
ICAgIGggPSBNYXRoLm1pbihNYXRoLmFicyhzKSAvIGwsICsoImZ1bmN0aW9uIiA9
PSB0eXBlb2YgdSA/IHUuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IHUpKSwNCiAg
ICAgICAgICAgICAgICBwID0gaCAqICgwID4gcyA/IC0xIDogMSksDQogICAgICAg
ICAgICAgICAgZyA9IGFvLnN1bShjKSwNCiAgICAgICAgICAgICAgICB2ID0gZyA/
IChzIC0gbCAqIHApIC8gZyA6IDAsDQogICAgICAgICAgICAgICAgZCA9IGFvLnJh
bmdlKGwpLA0KICAgICAgICAgICAgICAgIHkgPSBbXTsNCiAgICAgICAgICAgIHJl
dHVybiBudWxsICE9IGUgJiYgZC5zb3J0KGUgPT09IGJsID8gZnVuY3Rpb24obiwg
dCkgew0KICAgICAgICAgICAgICAgIHJldHVybiBjW3RdIC0gY1tuXQ0KICAgICAg
ICAgICAgfSA6IGZ1bmN0aW9uKG4sIHQpIHsNCiAgICAgICAgICAgICAgICByZXR1
cm4gZShvW25dLCBvW3RdKQ0KICAgICAgICAgICAgfSksIGQuZm9yRWFjaChmdW5j
dGlvbihuKSB7DQogICAgICAgICAgICAgICAgeVtuXSA9IHsNCiAgICAgICAgICAg
ICAgICAgICAgZGF0YTogb1tuXSwNCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6
IGEgPSBjW25dLA0KICAgICAgICAgICAgICAgICAgICBzdGFydEFuZ2xlOiBmLA0K
ICAgICAgICAgICAgICAgICAgICBlbmRBbmdsZTogZiArPSBhICogdiArIHAsDQog
ICAgICAgICAgICAgICAgICAgIHBhZEFuZ2xlOiBoDQogICAgICAgICAgICAgICAg
fQ0KICAgICAgICAgICAgfSksIHkNCiAgICAgICAgfQ0KICAgICAgICB2YXIgdCA9
IE51bWJlciwNCiAgICAgICAgICAgIGUgPSBibCwNCiAgICAgICAgICAgIHIgPSAw
LA0KICAgICAgICAgICAgaSA9IEhvLA0KICAgICAgICAgICAgdSA9IDA7DQogICAg
ICAgIHJldHVybiBuLnZhbHVlID0gZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAg
cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAodCA9IGUsIG4pIDogdA0KICAgICAg
ICB9LCBuLnNvcnQgPSBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4g
YXJndW1lbnRzLmxlbmd0aCA/IChlID0gdCwgbikgOiBlDQogICAgICAgIH0sIG4u
c3RhcnRBbmdsZSA9IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgIHJldHVybiBh
cmd1bWVudHMubGVuZ3RoID8gKHIgPSB0LCBuKSA6IHINCiAgICAgICAgfSwgbi5l
bmRBbmdsZSA9IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1
bWVudHMubGVuZ3RoID8gKGkgPSB0LCBuKSA6IGkNCiAgICAgICAgfSwgbi5wYWRB
bmdsZSA9IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVu
dHMubGVuZ3RoID8gKHUgPSB0LCBuKSA6IHUNCiAgICAgICAgfSwgbg0KICAgIH07
DQogICAgdmFyIGJsID0ge307DQogICAgYW8ubGF5b3V0LnN0YWNrID0gZnVuY3Rp
b24oKSB7DQogICAgICAgIGZ1bmN0aW9uIG4oYSwgbCkgew0KICAgICAgICAgICAg
aWYgKCEoaCA9IGEubGVuZ3RoKSkgcmV0dXJuIGE7DQogICAgICAgICAgICB2YXIg
YyA9IGEubWFwKGZ1bmN0aW9uKGUsIHIpIHsNCiAgICAgICAgICAgICAgICAgICAg
cmV0dXJuIHQuY2FsbChuLCBlLCByKQ0KICAgICAgICAgICAgICAgIH0pLA0KICAg
ICAgICAgICAgICAgIGYgPSBjLm1hcChmdW5jdGlvbih0KSB7DQogICAgICAgICAg
ICAgICAgICAgIHJldHVybiB0Lm1hcChmdW5jdGlvbih0LCBlKSB7DQogICAgICAg
ICAgICAgICAgICAgICAgICByZXR1cm4gW3UuY2FsbChuLCB0LCBlKSwgby5jYWxs
KG4sIHQsIGUpXQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAg
ICAgIH0pLA0KICAgICAgICAgICAgICAgIHMgPSBlLmNhbGwobiwgZiwgbCk7DQog
ICAgICAgICAgICBjID0gYW8ucGVybXV0ZShjLCBzKSwgZiA9IGFvLnBlcm11dGUo
Ziwgcyk7DQogICAgICAgICAgICB2YXIgaCwgcCwgZywgdiwgZCA9IHIuY2FsbChu
LCBmLCBsKSwNCiAgICAgICAgICAgICAgICB5ID0gY1swXS5sZW5ndGg7DQogICAg
ICAgICAgICBmb3IgKGcgPSAwOyB5ID4gZzsgKytnKQ0KICAgICAgICAgICAgICAg
IGZvciAoaS5jYWxsKG4sIGNbMF1bZ10sIHYgPSBkW2ddLCBmWzBdW2ddWzFdKSwg
cCA9IDE7IGggPiBwOyArK3ApIGkuY2FsbChuLCBjW3BdW2ddLCB2ICs9IGZbcCAt
IDFdW2ddWzFdLCBmW3BdW2ddWzFdKTsNCiAgICAgICAgICAgIHJldHVybiBhDQog
ICAgICAgIH0NCiAgICAgICAgdmFyIHQgPSBtLA0KICAgICAgICAgICAgZSA9IGdp
LA0KICAgICAgICAgICAgciA9IHZpLA0KICAgICAgICAgICAgaSA9IHBpLA0KICAg
ICAgICAgICAgdSA9IHNpLA0KICAgICAgICAgICAgbyA9IGhpOw0KICAgICAgICBy
ZXR1cm4gbi52YWx1ZXMgPSBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICByZXR1
cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh0ID0gZSwgbikgOiB0DQogICAgICAgIH0s
IG4ub3JkZXIgPSBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4gYXJn
dW1lbnRzLmxlbmd0aCA/IChlID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgdCA/IHQg
OiBfbC5nZXQodCkgfHwgZ2ksIG4pIDogZQ0KICAgICAgICB9LCBuLm9mZnNldCA9
IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVu
Z3RoID8gKHIgPSAiZnVuY3Rpb24iID09IHR5cGVvZiB0ID8gdCA6IHdsLmdldCh0
KSB8fCB2aSwgbikgOiByDQogICAgICAgIH0sIG4ueCA9IGZ1bmN0aW9uKHQpIHsN
CiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHUgPSB0LCBu
KSA6IHUNCiAgICAgICAgfSwgbi55ID0gZnVuY3Rpb24odCkgew0KICAgICAgICAg
ICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAobyA9IHQsIG4pIDogbw0KICAg
ICAgICB9LCBuLm91dCA9IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgIHJldHVy
biBhcmd1bWVudHMubGVuZ3RoID8gKGkgPSB0LCBuKSA6IGkNCiAgICAgICAgfSwg
bg0KICAgIH07DQogICAgdmFyIF9sID0gYW8ubWFwKHsNCiAgICAgICAgICAgICJp
bnNpZGUtb3V0IjogZnVuY3Rpb24obikgew0KICAgICAgICAgICAgICAgIHZhciB0
LCBlLCByID0gbi5sZW5ndGgsDQogICAgICAgICAgICAgICAgICAgIGkgPSBuLm1h
cChkaSksDQogICAgICAgICAgICAgICAgICAgIHUgPSBuLm1hcCh5aSksDQogICAg
ICAgICAgICAgICAgICAgIG8gPSBhby5yYW5nZShyKS5zb3J0KGZ1bmN0aW9uKG4s
IHQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpW25dIC0gaVt0
XQ0KICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAg
YSA9IDAsDQogICAgICAgICAgICAgICAgICAgIGwgPSAwLA0KICAgICAgICAgICAg
ICAgICAgICBjID0gW10sDQogICAgICAgICAgICAgICAgICAgIGYgPSBbXTsNCiAg
ICAgICAgICAgICAgICBmb3IgKHQgPSAwOyByID4gdDsgKyt0KSBlID0gb1t0XSwg
bCA+IGEgPyAoYSArPSB1W2VdLCBjLnB1c2goZSkpIDogKGwgKz0gdVtlXSwgZi5w
dXNoKGUpKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZi5yZXZlcnNlKCkuY29u
Y2F0KGMpDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcmV2ZXJzZTogZnVu
Y3Rpb24obikgew0KICAgICAgICAgICAgICAgIHJldHVybiBhby5yYW5nZShuLmxl
bmd0aCkucmV2ZXJzZSgpDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImRl
ZmF1bHQiOiBnaQ0KICAgICAgICB9KSwNCiAgICAgICAgd2wgPSBhby5tYXAoew0K
ICAgICAgICAgICAgc2lsaG91ZXR0ZTogZnVuY3Rpb24obikgew0KICAgICAgICAg
ICAgICAgIHZhciB0LCBlLCByLCBpID0gbi5sZW5ndGgsDQogICAgICAgICAgICAg
ICAgICAgIHUgPSBuWzBdLmxlbmd0aCwNCiAgICAgICAgICAgICAgICAgICAgbyA9
IFtdLA0KICAgICAgICAgICAgICAgICAgICBhID0gMCwNCiAgICAgICAgICAgICAg
ICAgICAgbCA9IFtdOw0KICAgICAgICAgICAgICAgIGZvciAoZSA9IDA7IHUgPiBl
OyArK2UpIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh0ID0gMCwgciA9IDA7
IGkgPiB0OyB0KyspIHIgKz0gblt0XVtlXVsxXTsNCiAgICAgICAgICAgICAgICAg
ICAgciA+IGEgJiYgKGEgPSByKSwgby5wdXNoKHIpDQogICAgICAgICAgICAgICAg
fQ0KICAgICAgICAgICAgICAgIGZvciAoZSA9IDA7IHUgPiBlOyArK2UpIGxbZV0g
PSAoYSAtIG9bZV0pIC8gMjsNCiAgICAgICAgICAgICAgICByZXR1cm4gbA0KICAg
ICAgICAgICAgfSwNCiAgICAgICAgICAgIHdpZ2dsZTogZnVuY3Rpb24obikgew0K
ICAgICAgICAgICAgICAgIHZhciB0LCBlLCByLCBpLCB1LCBvLCBhLCBsLCBjLCBm
ID0gbi5sZW5ndGgsDQogICAgICAgICAgICAgICAgICAgIHMgPSBuWzBdLA0KICAg
ICAgICAgICAgICAgICAgICBoID0gcy5sZW5ndGgsDQogICAgICAgICAgICAgICAg
ICAgIHAgPSBbXTsNCiAgICAgICAgICAgICAgICBmb3IgKHBbMF0gPSBsID0gYyA9
IDAsIGUgPSAxOyBoID4gZTsgKytlKSB7DQogICAgICAgICAgICAgICAgICAgIGZv
ciAodCA9IDAsIGkgPSAwOyBmID4gdDsgKyt0KSBpICs9IG5bdF1bZV1bMV07DQog
ICAgICAgICAgICAgICAgICAgIGZvciAodCA9IDAsIHUgPSAwLCBhID0gc1tlXVsw
XSAtIHNbZSAtIDFdWzBdOyBmID4gdDsgKyt0KSB7DQogICAgICAgICAgICAgICAg
ICAgICAgICBmb3IgKHIgPSAwLCBvID0gKG5bdF1bZV1bMV0gLSBuW3RdW2UgLSAx
XVsxXSkgLyAoMiAqIGEpOyB0ID4gcjsgKytyKSBvICs9IChuW3JdW2VdWzFdIC0g
bltyXVtlIC0gMV1bMV0pIC8gYTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHUg
Kz0gbyAqIG5bdF1bZV1bMV0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAg
ICAgICAgICAgICAgICBwW2VdID0gbCAtPSBpID8gdSAvIGkgKiBhIDogMCwgYyA+
IGwgJiYgKGMgPSBsKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAg
ICBmb3IgKGUgPSAwOyBoID4gZTsgKytlKSBwW2VdIC09IGM7DQogICAgICAgICAg
ICAgICAgcmV0dXJuIHANCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBleHBh
bmQ6IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgICAgICB2YXIgdCwgZSwgciwg
aSA9IG4ubGVuZ3RoLA0KICAgICAgICAgICAgICAgICAgICB1ID0gblswXS5sZW5n
dGgsDQogICAgICAgICAgICAgICAgICAgIG8gPSAxIC8gaSwNCiAgICAgICAgICAg
ICAgICAgICAgYSA9IFtdOw0KICAgICAgICAgICAgICAgIGZvciAoZSA9IDA7IHUg
PiBlOyArK2UpIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh0ID0gMCwgciA9
IDA7IGkgPiB0OyB0KyspIHIgKz0gblt0XVtlXVsxXTsNCiAgICAgICAgICAgICAg
ICAgICAgaWYgKHIpDQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHQgPSAw
OyBpID4gdDsgdCsrKSBuW3RdW2VdWzFdIC89IHI7DQogICAgICAgICAgICAgICAg
ICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodCA9IDA7IGkg
PiB0OyB0KyspIG5bdF1bZV1bMV0gPSBvDQogICAgICAgICAgICAgICAgfQ0KICAg
ICAgICAgICAgICAgIGZvciAoZSA9IDA7IHUgPiBlOyArK2UpIGFbZV0gPSAwOw0K
ICAgICAgICAgICAgICAgIHJldHVybiBhDQogICAgICAgICAgICB9LA0KICAgICAg
ICAgICAgemVybzogdmkNCiAgICAgICAgfSk7DQogICAgYW8ubGF5b3V0Lmhpc3Rv
Z3JhbSA9IGZ1bmN0aW9uKCkgew0KICAgICAgICBmdW5jdGlvbiBuKG4sIHUpIHsN
CiAgICAgICAgICAgIGZvciAodmFyIG8sIGEsIGwgPSBbXSwgYyA9IG4ubWFwKGUs
IHRoaXMpLCBmID0gci5jYWxsKHRoaXMsIGMsIHUpLCBzID0gaS5jYWxsKHRoaXMs
IGYsIGMsIHUpLCB1ID0gLTEsIGggPSBjLmxlbmd0aCwgcCA9IHMubGVuZ3RoIC0g
MSwgZyA9IHQgPyAxIDogMSAvIGg7ICsrdSA8IHA7KSBvID0gbFt1XSA9IFtdLCBv
LmR4ID0gc1t1ICsgMV0gLSAoby54ID0gc1t1XSksIG8ueSA9IDA7DQogICAgICAg
ICAgICBpZiAocCA+IDApDQogICAgICAgICAgICAgICAgZm9yICh1ID0gLTE7ICsr
dSA8IGg7KSBhID0gY1t1XSwgYSA+PSBmWzBdICYmIGEgPD0gZlsxXSAmJiAobyA9
IGxbYW8uYmlzZWN0KHMsIGEsIDEsIHApIC0gMV0sIG8ueSArPSBnLCBvLnB1c2go
blt1XSkpOw0KICAgICAgICAgICAgcmV0dXJuIGwNCiAgICAgICAgfQ0KICAgICAg
ICB2YXIgdCA9ICEwLA0KICAgICAgICAgICAgZSA9IE51bWJlciwNCiAgICAgICAg
ICAgIHIgPSBiaSwNCiAgICAgICAgICAgIGkgPSBNaTsNCiAgICAgICAgcmV0dXJu
IG4udmFsdWUgPSBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4gYXJn
dW1lbnRzLmxlbmd0aCA/IChlID0gdCwgbikgOiBlDQogICAgICAgIH0sIG4ucmFu
Z2UgPSBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRz
Lmxlbmd0aCA/IChyID0gRW4odCksIG4pIDogcg0KICAgICAgICB9LCBuLmJpbnMg
PSBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxl
bmd0aCA/IChpID0gIm51bWJlciIgPT0gdHlwZW9mIHQgPyBmdW5jdGlvbihuKSB7
DQogICAgICAgICAgICAgICAgcmV0dXJuIHhpKG4sIHQpDQogICAgICAgICAgICB9
IDogRW4odCksIG4pIDogaQ0KICAgICAgICB9LCBuLmZyZXF1ZW5jeSA9IGZ1bmN0
aW9uKGUpIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8g
KHQgPSAhIWUsIG4pIDogdA0KICAgICAgICB9LCBuDQogICAgfSwgYW8ubGF5b3V0
LnBhY2sgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgZnVuY3Rpb24gbihuLCB1KSB7
DQogICAgICAgICAgICB2YXIgbyA9IGUuY2FsbCh0aGlzLCBuLCB1KSwNCiAgICAg
ICAgICAgICAgICBhID0gb1swXSwNCiAgICAgICAgICAgICAgICBsID0gaVswXSwN
CiAgICAgICAgICAgICAgICBjID0gaVsxXSwNCiAgICAgICAgICAgICAgICBmID0g
bnVsbCA9PSB0ID8gTWF0aC5zcXJ0IDogImZ1bmN0aW9uIiA9PSB0eXBlb2YgdCA/
IHQgOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQN
CiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgaWYgKGEueCA9IGEueSA9
IDAsIG9pKGEsIGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgICAgICAgICAgbi5y
ID0gK2Yobi52YWx1ZSkNCiAgICAgICAgICAgICAgICB9KSwgb2koYSwgTmkpLCBy
KSB7DQogICAgICAgICAgICAgICAgdmFyIHMgPSByICogKHQgPyAxIDogTWF0aC5t
YXgoMiAqIGEuciAvIGwsIDIgKiBhLnIgLyBjKSkgLyAyOw0KICAgICAgICAgICAg
ICAgIG9pKGEsIGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgICAgICAgICAgbi5y
ICs9IHMNCiAgICAgICAgICAgICAgICB9KSwgb2koYSwgTmkpLCBvaShhLCBmdW5j
dGlvbihuKSB7DQogICAgICAgICAgICAgICAgICAgIG4uciAtPSBzDQogICAgICAg
ICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBD
aShhLCBsIC8gMiwgYyAvIDIsIHQgPyAxIDogMSAvIE1hdGgubWF4KDIgKiBhLnIg
LyBsLCAyICogYS5yIC8gYykpLCBvDQogICAgICAgIH0NCiAgICAgICAgdmFyIHQs
IGUgPSBhby5sYXlvdXQuaGllcmFyY2h5KCkuc29ydChfaSksDQogICAgICAgICAg
ICByID0gMCwNCiAgICAgICAgICAgIGkgPSBbMSwgMV07DQogICAgICAgIHJldHVy
biBuLnNpemUgPSBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4gYXJn
dW1lbnRzLmxlbmd0aCA/IChpID0gdCwgbikgOiBpDQogICAgICAgIH0sIG4ucmFk
aXVzID0gZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50
cy5sZW5ndGggPyAodCA9IG51bGwgPT0gZSB8fCAiZnVuY3Rpb24iID09IHR5cGVv
ZiBlID8gZSA6ICtlLCBuKSA6IHQNCiAgICAgICAgfSwgbi5wYWRkaW5nID0gZnVu
Y3Rpb24odCkgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgg
PyAociA9ICt0LCBuKSA6IHINCiAgICAgICAgfSwgaWkobiwgZSkNCiAgICB9LCBh
by5sYXlvdXQudHJlZSA9IGZ1bmN0aW9uKCkgew0KICAgICAgICBmdW5jdGlvbiBu
KG4sIGkpIHsNCiAgICAgICAgICAgIHZhciBmID0gby5jYWxsKHRoaXMsIG4sIGkp
LA0KICAgICAgICAgICAgICAgIHMgPSBmWzBdLA0KICAgICAgICAgICAgICAgIGgg
PSB0KHMpOw0KICAgICAgICAgICAgaWYgKG9pKGgsIGUpLCBoLnBhcmVudC5tID0g
LWgueiwgdWkoaCwgciksIGMpIHVpKHMsIHUpOw0KICAgICAgICAgICAgZWxzZSB7
DQogICAgICAgICAgICAgICAgdmFyIHAgPSBzLA0KICAgICAgICAgICAgICAgICAg
ICBnID0gcywNCiAgICAgICAgICAgICAgICAgICAgdiA9IHM7DQogICAgICAgICAg
ICAgICAgdWkocywgZnVuY3Rpb24obikgew0KICAgICAgICAgICAgICAgICAgICBu
LnggPCBwLnggJiYgKHAgPSBuKSwgbi54ID4gZy54ICYmIChnID0gbiksIG4uZGVw
dGggPiB2LmRlcHRoICYmICh2ID0gbikNCiAgICAgICAgICAgICAgICB9KTsNCiAg
ICAgICAgICAgICAgICB2YXIgZCA9IGEocCwgZykgLyAyIC0gcC54LA0KICAgICAg
ICAgICAgICAgICAgICB5ID0gbFswXSAvIChnLnggKyBhKGcsIHApIC8gMiArIGQp
LA0KICAgICAgICAgICAgICAgICAgICBtID0gbFsxXSAvICh2LmRlcHRoIHx8IDEp
Ow0KICAgICAgICAgICAgICAgIHVpKHMsIGZ1bmN0aW9uKG4pIHsNCiAgICAgICAg
ICAgICAgICAgICAgbi54ID0gKG4ueCArIGQpICogeSwgbi55ID0gbi5kZXB0aCAq
IG0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAg
ICAgcmV0dXJuIGYNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHQobikg
ew0KICAgICAgICAgICAgZm9yICh2YXIgdCwgZSA9IHsNCiAgICAgICAgICAgICAg
ICAgICAgQTogbnVsbCwNCiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtu
XQ0KICAgICAgICAgICAgICAgIH0sIHIgPSBbZV07IG51bGwgIT0gKHQgPSByLnBv
cCgpKTspDQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSwgdSA9IHQuY2hpbGRy
ZW4sIG8gPSAwLCBhID0gdS5sZW5ndGg7IGEgPiBvOyArK28pIHIucHVzaCgodVtv
XSA9IGkgPSB7DQogICAgICAgICAgICAgICAgICAgIF86IHVbb10sDQogICAgICAg
ICAgICAgICAgICAgIHBhcmVudDogdCwNCiAgICAgICAgICAgICAgICAgICAgY2hp
bGRyZW46IChpID0gdVtvXS5jaGlsZHJlbikgJiYgaS5zbGljZSgpIHx8IFtdLA0K
ICAgICAgICAgICAgICAgICAgICBBOiBudWxsLA0KICAgICAgICAgICAgICAgICAg
ICBhOiBudWxsLA0KICAgICAgICAgICAgICAgICAgICB6OiAwLA0KICAgICAgICAg
ICAgICAgICAgICBtOiAwLA0KICAgICAgICAgICAgICAgICAgICBjOiAwLA0KICAg
ICAgICAgICAgICAgICAgICBzOiAwLA0KICAgICAgICAgICAgICAgICAgICB0OiBu
dWxsLA0KICAgICAgICAgICAgICAgICAgICBpOiBvDQogICAgICAgICAgICAgICAg
fSkuYSA9IGkpOw0KICAgICAgICAgICAgcmV0dXJuIGUuY2hpbGRyZW5bMF0NCiAg
ICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGUobikgew0KICAgICAgICAgICAg
dmFyIHQgPSBuLmNoaWxkcmVuLA0KICAgICAgICAgICAgICAgIGUgPSBuLnBhcmVu
dC5jaGlsZHJlbiwNCiAgICAgICAgICAgICAgICByID0gbi5pID8gZVtuLmkgLSAx
XSA6IG51bGw7DQogICAgICAgICAgICBpZiAodC5sZW5ndGgpIHsNCiAgICAgICAg
ICAgICAgICBEaShuKTsNCiAgICAgICAgICAgICAgICB2YXIgdSA9ICh0WzBdLnog
KyB0W3QubGVuZ3RoIC0gMV0ueikgLyAyOw0KICAgICAgICAgICAgICAgIHIgPyAo
bi56ID0gci56ICsgYShuLl8sIHIuXyksIG4ubSA9IG4ueiAtIHUpIDogbi56ID0g
dQ0KICAgICAgICAgICAgfSBlbHNlIHIgJiYgKG4ueiA9IHIueiArIGEobi5fLCBy
Ll8pKTsNCiAgICAgICAgICAgIG4ucGFyZW50LkEgPSBpKG4sIHIsIG4ucGFyZW50
LkEgfHwgZVswXSkNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHIobikg
ew0KICAgICAgICAgICAgbi5fLnggPSBuLnogKyBuLnBhcmVudC5tLCBuLm0gKz0g
bi5wYXJlbnQubQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gaShuLCB0
LCBlKSB7DQogICAgICAgICAgICBpZiAodCkgew0KICAgICAgICAgICAgICAgIGZv
ciAodmFyIHIsIGkgPSBuLCB1ID0gbiwgbyA9IHQsIGwgPSBpLnBhcmVudC5jaGls
ZHJlblswXSwgYyA9IGkubSwgZiA9IHUubSwgcyA9IG8ubSwgaCA9IGwubTsgbyA9
IFRpKG8pLCBpID0gcWkoaSksIG8gJiYgaTspIGwgPSBxaShsKSwgdSA9IFRpKHUp
LCB1LmEgPSBuLCByID0gby56ICsgcyAtIGkueiAtIGMgKyBhKG8uXywgaS5fKSwg
ciA+IDAgJiYgKFJpKFBpKG8sIG4sIGUpLCBuLCByKSwgYyArPSByLCBmICs9IHIp
LCBzICs9IG8ubSwgYyArPSBpLm0sIGggKz0gbC5tLCBmICs9IHUubTsNCiAgICAg
ICAgICAgICAgICBvICYmICFUaSh1KSAmJiAodS50ID0gbywgdS5tICs9IHMgLSBm
KSwgaSAmJiAhcWkobCkgJiYgKGwudCA9IGksIGwubSArPSBjIC0gaCwgZSA9IG4p
DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZQ0KICAgICAgICB9
DQoNCiAgICAgICAgZnVuY3Rpb24gdShuKSB7DQogICAgICAgICAgICBuLnggKj0g
bFswXSwgbi55ID0gbi5kZXB0aCAqIGxbMV0NCiAgICAgICAgfQ0KICAgICAgICB2
YXIgbyA9IGFvLmxheW91dC5oaWVyYXJjaHkoKS5zb3J0KG51bGwpLnZhbHVlKG51
bGwpLA0KICAgICAgICAgICAgYSA9IExpLA0KICAgICAgICAgICAgbCA9IFsxLCAx
XSwNCiAgICAgICAgICAgIGMgPSBudWxsOw0KICAgICAgICByZXR1cm4gbi5zZXBh
cmF0aW9uID0gZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3Vt
ZW50cy5sZW5ndGggPyAoYSA9IHQsIG4pIDogYQ0KICAgICAgICB9LCBuLnNpemUg
PSBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxl
bmd0aCA/IChjID0gbnVsbCA9PSAobCA9IHQpID8gdSA6IG51bGwsIG4pIDogYyA/
IG51bGwgOiBsDQogICAgICAgIH0sIG4ubm9kZVNpemUgPSBmdW5jdGlvbih0KSB7
DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChjID0gbnVs
bCA9PSAobCA9IHQpID8gbnVsbCA6IHUsIG4pIDogYyA/IGwgOiBudWxsDQogICAg
ICAgIH0sIGlpKG4sIG8pDQogICAgfSwgYW8ubGF5b3V0LmNsdXN0ZXIgPSBmdW5j
dGlvbigpIHsNCiAgICAgICAgZnVuY3Rpb24gbihuLCB1KSB7DQogICAgICAgICAg
ICB2YXIgbywgYSA9IHQuY2FsbCh0aGlzLCBuLCB1KSwNCiAgICAgICAgICAgICAg
ICBsID0gYVswXSwNCiAgICAgICAgICAgICAgICBjID0gMDsNCiAgICAgICAgICAg
IG9pKGwsIGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgICAgICB2YXIgdCA9IG4u
Y2hpbGRyZW47DQogICAgICAgICAgICAgICAgdCAmJiB0Lmxlbmd0aCA/IChuLngg
PSBqaSh0KSwgbi55ID0gVWkodCkpIDogKG4ueCA9IG8gPyBjICs9IGUobiwgbykg
OiAwLCBuLnkgPSAwLCBvID0gbikNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAg
ICAgdmFyIGYgPSBGaShsKSwNCiAgICAgICAgICAgICAgICBzID0gSGkobCksDQog
ICAgICAgICAgICAgICAgaCA9IGYueCAtIGUoZiwgcykgLyAyLA0KICAgICAgICAg
ICAgICAgIHAgPSBzLnggKyBlKHMsIGYpIC8gMjsNCiAgICAgICAgICAgIHJldHVy
biBvaShsLCBpID8gZnVuY3Rpb24obikgew0KICAgICAgICAgICAgICAgIG4ueCA9
IChuLnggLSBsLngpICogclswXSwgbi55ID0gKGwueSAtIG4ueSkgKiByWzFdDQog
ICAgICAgICAgICB9IDogZnVuY3Rpb24obikgew0KICAgICAgICAgICAgICAgIG4u
eCA9IChuLnggLSBoKSAvIChwIC0gaCkgKiByWzBdLCBuLnkgPSAoMSAtIChsLnkg
PyBuLnkgLyBsLnkgOiAxKSkgKiByWzFdDQogICAgICAgICAgICB9KSwgYQ0KICAg
ICAgICB9DQogICAgICAgIHZhciB0ID0gYW8ubGF5b3V0LmhpZXJhcmNoeSgpLnNv
cnQobnVsbCkudmFsdWUobnVsbCksDQogICAgICAgICAgICBlID0gTGksDQogICAg
ICAgICAgICByID0gWzEsIDFdLA0KICAgICAgICAgICAgaSA9ICExOw0KICAgICAg
ICByZXR1cm4gbi5zZXBhcmF0aW9uID0gZnVuY3Rpb24odCkgew0KICAgICAgICAg
ICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoZSA9IHQsIG4pIDogZQ0KICAg
ICAgICB9LCBuLnNpemUgPSBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1
cm4gYXJndW1lbnRzLmxlbmd0aCA/IChpID0gbnVsbCA9PSAociA9IHQpLCBuKSA6
IGkgPyBudWxsIDogcg0KICAgICAgICB9LCBuLm5vZGVTaXplID0gZnVuY3Rpb24o
dCkgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoaSA9
IG51bGwgIT0gKHIgPSB0KSwgbikgOiBpID8gciA6IG51bGwNCiAgICAgICAgfSwg
aWkobiwgdCkNCiAgICB9LCBhby5sYXlvdXQudHJlZW1hcCA9IGZ1bmN0aW9uKCkg
ew0KICAgICAgICBmdW5jdGlvbiBuKG4sIHQpIHsNCiAgICAgICAgICAgIGZvciAo
dmFyIGUsIHIsIGkgPSAtMSwgdSA9IG4ubGVuZ3RoOyArK2kgPCB1OykgciA9IChl
ID0gbltpXSkudmFsdWUgKiAoMCA+IHQgPyAwIDogdCksIGUuYXJlYSA9IGlzTmFO
KHIpIHx8IDAgPj0gciA/IDAgOiByDQogICAgICAgIH0NCg0KICAgICAgICBmdW5j
dGlvbiB0KGUpIHsNCiAgICAgICAgICAgIHZhciB1ID0gZS5jaGlsZHJlbjsNCiAg
ICAgICAgICAgIGlmICh1ICYmIHUubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAg
dmFyIG8sIGEsIGwsIGMgPSBzKGUpLA0KICAgICAgICAgICAgICAgICAgICBmID0g
W10sDQogICAgICAgICAgICAgICAgICAgIGggPSB1LnNsaWNlKCksDQogICAgICAg
ICAgICAgICAgICAgIGcgPSAxIC8gMCwNCiAgICAgICAgICAgICAgICAgICAgdiA9
ICJzbGljZSIgPT09IHAgPyBjLmR4IDogImRpY2UiID09PSBwID8gYy5keSA6ICJz
bGljZS1kaWNlIiA9PT0gcCA/IDEgJiBlLmRlcHRoID8gYy5keSA6IGMuZHggOiBN
YXRoLm1pbihjLmR4LCBjLmR5KTsNCiAgICAgICAgICAgICAgICBmb3IgKG4oaCwg
Yy5keCAqIGMuZHkgLyBlLnZhbHVlKSwgZi5hcmVhID0gMDsNCiAgICAgICAgICAg
ICAgICAgICAgKGwgPSBoLmxlbmd0aCkgPiAwOykgZi5wdXNoKG8gPSBoW2wgLSAx
XSksIGYuYXJlYSArPSBvLmFyZWEsICJzcXVhcmlmeSIgIT09IHAgfHwgKGEgPSBy
KGYsIHYpKSA8PSBnID8gKGgucG9wKCksIGcgPSBhKSA6IChmLmFyZWEgLT0gZi5w
b3AoKS5hcmVhLCBpKGYsIHYsIGMsICExKSwgdiA9IE1hdGgubWluKGMuZHgsIGMu
ZHkpLCBmLmxlbmd0aCA9IGYuYXJlYSA9IDAsIGcgPSAxIC8gMCk7DQogICAgICAg
ICAgICAgICAgZi5sZW5ndGggJiYgKGkoZiwgdiwgYywgITApLCBmLmxlbmd0aCA9
IGYuYXJlYSA9IDApLCB1LmZvckVhY2godCkNCiAgICAgICAgICAgIH0NCiAgICAg
ICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGUodCkgew0KICAgICAgICAgICAgdmFy
IHIgPSB0LmNoaWxkcmVuOw0KICAgICAgICAgICAgaWYgKHIgJiYgci5sZW5ndGgp
IHsNCiAgICAgICAgICAgICAgICB2YXIgdSwgbyA9IHModCksDQogICAgICAgICAg
ICAgICAgICAgIGEgPSByLnNsaWNlKCksDQogICAgICAgICAgICAgICAgICAgIGwg
PSBbXTsNCiAgICAgICAgICAgICAgICBmb3IgKG4oYSwgby5keCAqIG8uZHkgLyB0
LnZhbHVlKSwgbC5hcmVhID0gMDsgdSA9IGEucG9wKCk7KSBsLnB1c2godSksIGwu
YXJlYSArPSB1LmFyZWEsIG51bGwgIT0gdS56ICYmIChpKGwsIHUueiA/IG8uZHgg
OiBvLmR5LCBvLCAhYS5sZW5ndGgpLCBsLmxlbmd0aCA9IGwuYXJlYSA9IDApOw0K
ICAgICAgICAgICAgICAgIHIuZm9yRWFjaChlKQ0KICAgICAgICAgICAgfQ0KICAg
ICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gcihuLCB0KSB7DQogICAgICAgICAg
ICBmb3IgKHZhciBlLCByID0gbi5hcmVhLCBpID0gMCwgdSA9IDEgLyAwLCBvID0g
LTEsIGEgPSBuLmxlbmd0aDsgKytvIDwgYTspKGUgPSBuW29dLmFyZWEpICYmICh1
ID4gZSAmJiAodSA9IGUpLCBlID4gaSAmJiAoaSA9IGUpKTsNCiAgICAgICAgICAg
IHJldHVybiByICo9IHIsIHQgKj0gdCwgciA/IE1hdGgubWF4KHQgKiBpICogZyAv
IHIsIHIgLyAodCAqIHUgKiBnKSkgOiAxIC8gMA0KICAgICAgICB9DQoNCiAgICAg
ICAgZnVuY3Rpb24gaShuLCB0LCBlLCByKSB7DQogICAgICAgICAgICB2YXIgaSwg
dSA9IC0xLA0KICAgICAgICAgICAgICAgIG8gPSBuLmxlbmd0aCwNCiAgICAgICAg
ICAgICAgICBhID0gZS54LA0KICAgICAgICAgICAgICAgIGMgPSBlLnksDQogICAg
ICAgICAgICAgICAgZiA9IHQgPyBsKG4uYXJlYSAvIHQpIDogMDsNCiAgICAgICAg
ICAgIGlmICh0ID09IGUuZHgpIHsNCiAgICAgICAgICAgICAgICBmb3IgKChyIHx8
IGYgPiBlLmR5KSAmJiAoZiA9IGUuZHkpOyArK3UgPCBvOykgaSA9IG5bdV0sIGku
eCA9IGEsIGkueSA9IGMsIGkuZHkgPSBmLCBhICs9IGkuZHggPSBNYXRoLm1pbihl
LnggKyBlLmR4IC0gYSwgZiA/IGwoaS5hcmVhIC8gZikgOiAwKTsNCiAgICAgICAg
ICAgICAgICBpLnogPSAhMCwgaS5keCArPSBlLnggKyBlLmR4IC0gYSwgZS55ICs9
IGYsIGUuZHkgLT0gZg0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAg
ICAgICBmb3IgKChyIHx8IGYgPiBlLmR4KSAmJiAoZiA9IGUuZHgpOyArK3UgPCBv
OykgaSA9IG5bdV0sIGkueCA9IGEsIGkueSA9IGMsIGkuZHggPSBmLCBjICs9IGku
ZHkgPSBNYXRoLm1pbihlLnkgKyBlLmR5IC0gYywgZiA/IGwoaS5hcmVhIC8gZikg
OiAwKTsNCiAgICAgICAgICAgICAgICBpLnogPSAhMSwgaS5keSArPSBlLnkgKyBl
LmR5IC0gYywgZS54ICs9IGYsIGUuZHggLT0gZg0KICAgICAgICAgICAgfQ0KICAg
ICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gdShyKSB7DQogICAgICAgICAgICB2
YXIgaSA9IG8gfHwgYShyKSwNCiAgICAgICAgICAgICAgICB1ID0gaVswXTsNCiAg
ICAgICAgICAgIHJldHVybiB1LnggPSB1LnkgPSAwLCB1LnZhbHVlID8gKHUuZHgg
PSBjWzBdLCB1LmR5ID0gY1sxXSkgOiB1LmR4ID0gdS5keSA9IDAsIG8gJiYgYS5y
ZXZhbHVlKHUpLCBuKFt1XSwgdS5keCAqIHUuZHkgLyB1LnZhbHVlKSwgKG8gPyBl
IDogdCkodSksIGggJiYgKG8gPSBpKSwgaQ0KICAgICAgICB9DQogICAgICAgIHZh
ciBvLCBhID0gYW8ubGF5b3V0LmhpZXJhcmNoeSgpLA0KICAgICAgICAgICAgbCA9
IE1hdGgucm91bmQsDQogICAgICAgICAgICBjID0gWzEsIDFdLA0KICAgICAgICAg
ICAgZiA9IG51bGwsDQogICAgICAgICAgICBzID0gT2ksDQogICAgICAgICAgICBo
ID0gITEsDQogICAgICAgICAgICBwID0gInNxdWFyaWZ5IiwNCiAgICAgICAgICAg
IGcgPSAuNSAqICgxICsgTWF0aC5zcXJ0KDUpKTsNCiAgICAgICAgcmV0dXJuIHUu
c2l6ZSA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVu
dHMubGVuZ3RoID8gKGMgPSBuLCB1KSA6IGMNCiAgICAgICAgfSwgdS5wYWRkaW5n
ID0gZnVuY3Rpb24obikgew0KICAgICAgICAgICAgZnVuY3Rpb24gdCh0KSB7DQog
ICAgICAgICAgICAgICAgdmFyIGUgPSBuLmNhbGwodSwgdCwgdC5kZXB0aCk7DQog
ICAgICAgICAgICAgICAgcmV0dXJuIG51bGwgPT0gZSA/IE9pKHQpIDogSWkodCwg
Im51bWJlciIgPT0gdHlwZW9mIGUgPyBbZSwgZSwgZSwgZV0gOiBlKQ0KICAgICAg
ICAgICAgfQ0KDQogICAgICAgICAgICBmdW5jdGlvbiBlKHQpIHsNCiAgICAgICAg
ICAgICAgICByZXR1cm4gSWkodCwgbikNCiAgICAgICAgICAgIH0NCiAgICAgICAg
ICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGY7DQogICAgICAgICAg
ICB2YXIgcjsNCiAgICAgICAgICAgIHJldHVybiBzID0gbnVsbCA9PSAoZiA9IG4p
ID8gT2kgOiAiZnVuY3Rpb24iID09IChyID0gdHlwZW9mIG4pID8gdCA6ICJudW1i
ZXIiID09PSByID8gKG4gPSBbbiwgbiwgbiwgbl0sIGUpIDogZSwgdQ0KICAgICAg
ICB9LCB1LnJvdW5kID0gZnVuY3Rpb24obikgew0KICAgICAgICAgICAgcmV0dXJu
IGFyZ3VtZW50cy5sZW5ndGggPyAobCA9IG4gPyBNYXRoLnJvdW5kIDogTnVtYmVy
LCB1KSA6IGwgIT0gTnVtYmVyDQogICAgICAgIH0sIHUuc3RpY2t5ID0gZnVuY3Rp
b24obikgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAo
aCA9IG4sIG8gPSBudWxsLCB1KSA6IGgNCiAgICAgICAgfSwgdS5yYXRpbyA9IGZ1
bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3Ro
ID8gKGcgPSBuLCB1KSA6IGcNCiAgICAgICAgfSwgdS5tb2RlID0gZnVuY3Rpb24o
bikgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAocCA9
IG4gKyAiIiwgdSkgOiBwDQogICAgICAgIH0sIGlpKHUsIGEpDQogICAgfSwgYW8u
cmFuZG9tID0gew0KICAgICAgICBub3JtYWw6IGZ1bmN0aW9uKG4sIHQpIHsNCiAg
ICAgICAgICAgIHZhciBlID0gYXJndW1lbnRzLmxlbmd0aDsNCiAgICAgICAgICAg
IHJldHVybiAyID4gZSAmJiAodCA9IDEpLCAxID4gZSAmJiAobiA9IDApLA0KICAg
ICAgICAgICAgICAgIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICB2
YXIgZSwgciwgaTsNCiAgICAgICAgICAgICAgICAgICAgZG8gZSA9IDIgKiBNYXRo
LnJhbmRvbSgpIC0gMSwgciA9IDIgKiBNYXRoLnJhbmRvbSgpIC0gMSwgaSA9IGUg
KiBlICsgciAqIHI7IHdoaWxlICghaSB8fCBpID4gMSk7DQogICAgICAgICAgICAg
ICAgICAgIHJldHVybiBuICsgdCAqIGUgKiBNYXRoLnNxcnQoLTIgKiBNYXRoLmxv
ZyhpKSAvIGkpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAg
ICBsb2dOb3JtYWw6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgdmFyIG4gPSBh
by5yYW5kb20ubm9ybWFsLmFwcGx5KGFvLCBhcmd1bWVudHMpOw0KICAgICAgICAg
ICAgcmV0dXJuIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiBN
YXRoLmV4cChuKCkpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAg
IGJhdGVzOiBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICB2YXIgdCA9IGFvLnJh
bmRvbS5pcndpbkhhbGwobik7DQogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24o
KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHQoKSAvIG4NCiAgICAgICAgICAg
IH0NCiAgICAgICAgfSwNCiAgICAgICAgaXJ3aW5IYWxsOiBmdW5jdGlvbihuKSB7
DQogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAg
ICAgZm9yICh2YXIgdCA9IDAsIGUgPSAwOyBuID4gZTsgZSsrKSB0ICs9IE1hdGgu
cmFuZG9tKCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHQNCiAgICAgICAgICAg
IH0NCiAgICAgICAgfQ0KICAgIH0sIGFvLnNjYWxlID0ge307DQogICAgdmFyIFNs
ID0gew0KICAgICAgICBmbG9vcjogbSwNCiAgICAgICAgY2VpbDogbQ0KICAgIH07
DQogICAgYW8uc2NhbGUubGluZWFyID0gZnVuY3Rpb24oKSB7DQogICAgICAgIHJl
dHVybiBXaShbMCwgMV0sIFswLCAxXSwgTXIsICExKQ0KICAgIH07DQogICAgdmFy
IGtsID0gew0KICAgICAgICBzOiAxLA0KICAgICAgICBnOiAxLA0KICAgICAgICBw
OiAxLA0KICAgICAgICByOiAxLA0KICAgICAgICBlOiAxDQogICAgfTsNCiAgICBh
by5zY2FsZS5sb2cgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgcmV0dXJuIHJ1KGFv
LnNjYWxlLmxpbmVhcigpLmRvbWFpbihbMCwgMV0pLCAxMCwgITAsIFsxLCAxMF0p
DQogICAgfTsNCiAgICB2YXIgTmwgPSBhby5mb3JtYXQoIi4wZSIpLA0KICAgICAg
ICBFbCA9IHsNCiAgICAgICAgICAgIGZsb29yOiBmdW5jdGlvbihuKSB7DQogICAg
ICAgICAgICAgICAgcmV0dXJuIC1NYXRoLmNlaWwoLW4pDQogICAgICAgICAgICB9
LA0KICAgICAgICAgICAgY2VpbDogZnVuY3Rpb24obikgew0KICAgICAgICAgICAg
ICAgIHJldHVybiAtTWF0aC5mbG9vcigtbikNCiAgICAgICAgICAgIH0NCiAgICAg
ICAgfTsNCiAgICBhby5zY2FsZS5wb3cgPSBmdW5jdGlvbigpIHsNCiAgICAgICAg
cmV0dXJuIGl1KGFvLnNjYWxlLmxpbmVhcigpLCAxLCBbMCwgMV0pDQogICAgfSwg
YW8uc2NhbGUuc3FydCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1cm4gYW8u
c2NhbGUucG93KCkuZXhwb25lbnQoLjUpDQogICAgfSwgYW8uc2NhbGUub3JkaW5h
bCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1cm4gb3UoW10sIHsNCiAgICAg
ICAgICAgIHQ6ICJyYW5nZSIsDQogICAgICAgICAgICBhOiBbDQogICAgICAgICAg
ICAgICAgW10NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSkNCiAgICB9LCBhby5z
Y2FsZS5jYXRlZ29yeTEwID0gZnVuY3Rpb24oKSB7DQogICAgICAgIHJldHVybiBh
by5zY2FsZS5vcmRpbmFsKCkucmFuZ2UoQWwpDQogICAgfSwgYW8uc2NhbGUuY2F0
ZWdvcnkyMCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1cm4gYW8uc2NhbGUu
b3JkaW5hbCgpLnJhbmdlKENsKQ0KICAgIH0sIGFvLnNjYWxlLmNhdGVnb3J5MjBi
ID0gZnVuY3Rpb24oKSB7DQogICAgICAgIHJldHVybiBhby5zY2FsZS5vcmRpbmFs
KCkucmFuZ2UoemwpDQogICAgfSwgYW8uc2NhbGUuY2F0ZWdvcnkyMGMgPSBmdW5j
dGlvbigpIHsNCiAgICAgICAgcmV0dXJuIGFvLnNjYWxlLm9yZGluYWwoKS5yYW5n
ZShMbCkNCiAgICB9Ow0KICAgIHZhciBBbCA9IFsyMDYyMjYwLCAxNjc0NDIwNiwg
MjkyNDU4OCwgMTQwMzQ3MjgsIDk3MjU4ODUsIDkxOTcxMzEsIDE0OTA3MzMwLCA4
MzU1NzExLCAxMjM2OTE4NiwgMTU1NjE3NV0ubWFwKHhuKSwNCiAgICAgICAgQ2wg
PSBbMjA2MjI2MCwgMTE0NTQ0NDAsIDE2NzQ0MjA2LCAxNjc1OTY3MiwgMjkyNDU4
OCwgMTAwMTg2OTgsIDE0MDM0NzI4LCAxNjc1MDc0MiwgOTcyNTg4NSwgMTI5NTU4
NjEsIDkxOTcxMzEsIDEyODg1MTQwLCAxNDkwNzMzMCwgMTYyMzQxOTQsIDgzNTU3
MTEsIDEzMDkyODA3LCAxMjM2OTE4NiwgMTQ0MDg1ODksIDE1NTYxNzUsIDEwNDEw
NzI1XS5tYXAoeG4pLA0KICAgICAgICB6bCA9IFszNzUwNzc3LCA1Mzk1NjE5LCA3
MDQwNzE5LCAxMDI2NDI4NiwgNjUxOTA5NywgOTIxNjU5NCwgMTE5MTUxMTUsIDEz
NTU2NjM2LCA5MjAyOTkzLCAxMjQyNjgwOSwgMTUxODY1MTQsIDE1MTkwOTMyLCA4
NjY2MTY5LCAxMTM1NjQ5MCwgMTQwNDk2NDMsIDE1MTc3MzcyLCA4MDc3NjgzLCAx
MDgzNDMyNCwgMTM1Mjg1MDksIDE0NTg5NjU0XS5tYXAoeG4pLA0KICAgICAgICBM
bCA9IFszMjQ0NzMzLCA3MDU3MTEwLCAxMDQwNjYyNSwgMTMwMzI0MzEsIDE1MDk1
MDUzLCAxNjYxNjc2NCwgMTY2MjUyNTksIDE2NjM0MDE4LCAzMjUzMDc2LCA3NjUy
NDcwLCAxMDYwNzAwMywgMTMxMDE1MDQsIDc2OTUyODEsIDEwMzk0MzEyLCAxMjM2
OTM3MiwgMTQzNDI4OTEsIDY1MTM1MDcsIDk4Njg5NTAsIDEyNDM0ODc3LCAxNDI3
NzA4MV0ubWFwKHhuKTsNCiAgICBhby5zY2FsZS5xdWFudGlsZSA9IGZ1bmN0aW9u
KCkgew0KICAgICAgICByZXR1cm4gYXUoW10sIFtdKQ0KICAgIH0sIGFvLnNjYWxl
LnF1YW50aXplID0gZnVuY3Rpb24oKSB7DQogICAgICAgIHJldHVybiBsdSgwLCAx
LCBbMCwgMV0pDQogICAgfSwgYW8uc2NhbGUudGhyZXNob2xkID0gZnVuY3Rpb24o
KSB7DQogICAgICAgIHJldHVybiBjdShbLjVdLCBbMCwgMV0pDQogICAgfSwgYW8u
c2NhbGUuaWRlbnRpdHkgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgcmV0dXJuIGZ1
KFswLCAxXSkNCiAgICB9LCBhby5zdmcgPSB7fSwgYW8uc3ZnLmFyYyA9IGZ1bmN0
aW9uKCkgew0KICAgICAgICBmdW5jdGlvbiBuKCkgew0KICAgICAgICAgICAgdmFy
IG4gPSBNYXRoLm1heCgwLCArZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSwNCiAg
ICAgICAgICAgICAgICBjID0gTWF0aC5tYXgoMCwgK3IuYXBwbHkodGhpcywgYXJn
dW1lbnRzKSksDQogICAgICAgICAgICAgICAgZiA9IG8uYXBwbHkodGhpcywgYXJn
dW1lbnRzKSAtIElvLA0KICAgICAgICAgICAgICAgIHMgPSBhLmFwcGx5KHRoaXMs
IGFyZ3VtZW50cykgLSBJbywNCiAgICAgICAgICAgICAgICBoID0gTWF0aC5hYnMo
cyAtIGYpLA0KICAgICAgICAgICAgICAgIHAgPSBmID4gcyA/IDAgOiAxOw0KICAg
ICAgICAgICAgaWYgKG4gPiBjICYmIChnID0gYywgYyA9IG4sIG4gPSBnKSwgaCA+
PSBPbykgcmV0dXJuIHQoYywgcCkgKyAobiA/IHQobiwgMSAtIHApIDogIiIpICsg
IloiOw0KICAgICAgICAgICAgdmFyIGcsIHYsIGQsIHksIG0sIE0sIHgsIGIsIF8s
IHcsIFMsIGssIE4gPSAwLA0KICAgICAgICAgICAgICAgIEUgPSAwLA0KICAgICAg
ICAgICAgICAgIEEgPSBbXTsNCiAgICAgICAgICAgIGlmICgoeSA9ICgrbC5hcHBs
eSh0aGlzLCBhcmd1bWVudHMpIHx8IDApIC8gMikgJiYgKGQgPSB1ID09PSBxbCA/
IE1hdGguc3FydChuICogbiArIGMgKiBjKSA6ICt1LmFwcGx5KHRoaXMsIGFyZ3Vt
ZW50cyksIHAgfHwgKEUgKj0gLTEpLCBjICYmIChFID0gdG4oZCAvIGMgKiBNYXRo
LnNpbih5KSkpLCBuICYmIChOID0gdG4oZCAvIG4gKiBNYXRoLnNpbih5KSkpKSwg
Yykgew0KICAgICAgICAgICAgICAgIG0gPSBjICogTWF0aC5jb3MoZiArIEUpLCBN
ID0gYyAqIE1hdGguc2luKGYgKyBFKSwgeCA9IGMgKiBNYXRoLmNvcyhzIC0gRSks
IGIgPSBjICogTWF0aC5zaW4ocyAtIEUpOw0KICAgICAgICAgICAgICAgIHZhciBD
ID0gTWF0aC5hYnMocyAtIGYgLSAyICogRSkgPD0gRm8gPyAwIDogMTsNCiAgICAg
ICAgICAgICAgICBpZiAoRSAmJiB5dShtLCBNLCB4LCBiKSA9PT0gcCBeIEMpIHsN
CiAgICAgICAgICAgICAgICAgICAgdmFyIHogPSAoZiArIHMpIC8gMjsNCiAgICAg
ICAgICAgICAgICAgICAgbSA9IGMgKiBNYXRoLmNvcyh6KSwgTSA9IGMgKiBNYXRo
LnNpbih6KSwgeCA9IGIgPSBudWxsDQogICAgICAgICAgICAgICAgfQ0KICAgICAg
ICAgICAgfSBlbHNlIG0gPSBNID0gMDsNCiAgICAgICAgICAgIGlmIChuKSB7DQog
ICAgICAgICAgICAgICAgXyA9IG4gKiBNYXRoLmNvcyhzIC0gTiksIHcgPSBuICog
TWF0aC5zaW4ocyAtIE4pLCBTID0gbiAqIE1hdGguY29zKGYgKyBOKSwgayA9IG4g
KiBNYXRoLnNpbihmICsgTik7DQogICAgICAgICAgICAgICAgdmFyIEwgPSBNYXRo
LmFicyhmIC0gcyArIDIgKiBOKSA8PSBGbyA/IDAgOiAxOw0KICAgICAgICAgICAg
ICAgIGlmIChOICYmIHl1KF8sIHcsIFMsIGspID09PSAxIC0gcCBeIEwpIHsNCiAg
ICAgICAgICAgICAgICAgICAgdmFyIHEgPSAoZiArIHMpIC8gMjsNCiAgICAgICAg
ICAgICAgICAgICAgXyA9IG4gKiBNYXRoLmNvcyhxKSwgdyA9IG4gKiBNYXRoLnNp
bihxKSwgUyA9IGsgPSBudWxsDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAg
ICAgfSBlbHNlIF8gPSB3ID0gMDsNCiAgICAgICAgICAgIGlmIChoID4gVW8gJiYg
KGcgPSBNYXRoLm1pbihNYXRoLmFicyhjIC0gbikgLyAyLCAraS5hcHBseSh0aGlz
LCBhcmd1bWVudHMpKSkgPiAuMDAxKSB7DQogICAgICAgICAgICAgICAgdiA9IGMg
PiBuIF4gcCA/IDAgOiAxOw0KICAgICAgICAgICAgICAgIHZhciBUID0gZywNCiAg
ICAgICAgICAgICAgICAgICAgUiA9IGc7DQogICAgICAgICAgICAgICAgaWYgKEZv
ID4gaCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgRCA9IG51bGwgPT0gUyA/
IFtfLCB3XSA6IG51bGwgPT0geCA/IFttLCBNXSA6IFJlKFttLCBNXSwgW1MsIGtd
LCBbeCwgYl0sIFtfLCB3XSksDQogICAgICAgICAgICAgICAgICAgICAgICBQID0g
bSAtIERbMF0sDQogICAgICAgICAgICAgICAgICAgICAgICBVID0gTSAtIERbMV0s
DQogICAgICAgICAgICAgICAgICAgICAgICBqID0geCAtIERbMF0sDQogICAgICAg
ICAgICAgICAgICAgICAgICBGID0gYiAtIERbMV0sDQogICAgICAgICAgICAgICAg
ICAgICAgICBIID0gMSAvIE1hdGguc2luKE1hdGguYWNvcygoUCAqIGogKyBVICog
RikgLyAoTWF0aC5zcXJ0KFAgKiBQICsgVSAqIFUpICogTWF0aC5zcXJ0KGogKiBq
ICsgRiAqIEYpKSkgLyAyKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIE8gPSBN
YXRoLnNxcnQoRFswXSAqIERbMF0gKyBEWzFdICogRFsxXSk7DQogICAgICAgICAg
ICAgICAgICAgIFIgPSBNYXRoLm1pbihnLCAobiAtIE8pIC8gKEggLSAxKSksIFQg
PSBNYXRoLm1pbihnLCAoYyAtIE8pIC8gKEggKyAxKSkNCiAgICAgICAgICAgICAg
ICB9DQogICAgICAgICAgICAgICAgaWYgKG51bGwgIT0geCkgew0KICAgICAgICAg
ICAgICAgICAgICB2YXIgSSA9IG11KG51bGwgPT0gUyA/IFtfLCB3XSA6IFtTLCBr
XSwgW20sIE1dLCBjLCBULCBwKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIFkg
PSBtdShbeCwgYl0sIFtfLCB3XSwgYywgVCwgcCk7DQogICAgICAgICAgICAgICAg
ICAgIGcgPT09IFQgPyBBLnB1c2goIk0iLCBJWzBdLCAiQSIsIFQsICIsIiwgVCwg
IiAwIDAsIiwgdiwgIiAiLCBJWzFdLCAiQSIsIGMsICIsIiwgYywgIiAwICIsIDEg
LSBwIF4geXUoSVsxXVswXSwgSVsxXVsxXSwgWVsxXVswXSwgWVsxXVsxXSksICIs
IiwgcCwgIiAiLCBZWzFdLCAiQSIsIFQsICIsIiwgVCwgIiAwIDAsIiwgdiwgIiAi
LCBZWzBdKSA6IEEucHVzaCgiTSIsIElbMF0sICJBIiwgVCwgIiwiLCBULCAiIDAg
MSwiLCB2LCAiICIsIFlbMF0pDQogICAgICAgICAgICAgICAgfSBlbHNlIEEucHVz
aCgiTSIsIG0sICIsIiwgTSk7DQogICAgICAgICAgICAgICAgaWYgKG51bGwgIT0g
Uykgew0KICAgICAgICAgICAgICAgICAgICB2YXIgWiA9IG11KFttLCBNXSwgW1Ms
IGtdLCBuLCAtUiwgcCksDQogICAgICAgICAgICAgICAgICAgICAgICBWID0gbXUo
W18sIHddLCBudWxsID09IHggPyBbbSwgTV0gOiBbeCwgYl0sIG4sIC1SLCBwKTsN
CiAgICAgICAgICAgICAgICAgICAgZyA9PT0gUiA/IEEucHVzaCgiTCIsIFZbMF0s
ICJBIiwgUiwgIiwiLCBSLCAiIDAgMCwiLCB2LCAiICIsIFZbMV0sICJBIiwgbiwg
IiwiLCBuLCAiIDAgIiwgcCBeIHl1KFZbMV1bMF0sIFZbMV1bMV0sIFpbMV1bMF0s
IFpbMV1bMV0pLCAiLCIsIDEgLSBwLCAiICIsIFpbMV0sICJBIiwgUiwgIiwiLCBS
LCAiIDAgMCwiLCB2LCAiICIsIFpbMF0pIDogQS5wdXNoKCJMIiwgVlswXSwgIkEi
LCBSLCAiLCIsIFIsICIgMCAwLCIsIHYsICIgIiwgWlswXSkNCiAgICAgICAgICAg
ICAgICB9IGVsc2UgQS5wdXNoKCJMIiwgXywgIiwiLCB3KQ0KICAgICAgICAgICAg
fSBlbHNlIEEucHVzaCgiTSIsIG0sICIsIiwgTSksIG51bGwgIT0geCAmJiBBLnB1
c2goIkEiLCBjLCAiLCIsIGMsICIgMCAiLCBDLCAiLCIsIHAsICIgIiwgeCwgIiwi
LCBiKSwgQS5wdXNoKCJMIiwgXywgIiwiLCB3KSwgbnVsbCAhPSBTICYmIEEucHVz
aCgiQSIsIG4sICIsIiwgbiwgIiAwICIsIEwsICIsIiwgMSAtIHAsICIgIiwgUywg
IiwiLCBrKTsNCiAgICAgICAgICAgIHJldHVybiBBLnB1c2goIloiKSwgQS5qb2lu
KCIiKQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gdChuLCB0KSB7DQog
ICAgICAgICAgICByZXR1cm4gIk0wLCIgKyBuICsgIkEiICsgbiArICIsIiArIG4g
KyAiIDAgMSwiICsgdCArICIgMCwiICsgLW4gKyAiQSIgKyBuICsgIiwiICsgbiAr
ICIgMCAxLCIgKyB0ICsgIiAwLCIgKyBuDQogICAgICAgIH0NCiAgICAgICAgdmFy
IGUgPSBodSwNCiAgICAgICAgICAgIHIgPSBwdSwNCiAgICAgICAgICAgIGkgPSBz
dSwNCiAgICAgICAgICAgIHUgPSBxbCwNCiAgICAgICAgICAgIG8gPSBndSwNCiAg
ICAgICAgICAgIGEgPSB2dSwNCiAgICAgICAgICAgIGwgPSBkdTsNCiAgICAgICAg
cmV0dXJuIG4uaW5uZXJSYWRpdXMgPSBmdW5jdGlvbih0KSB7DQogICAgICAgICAg
ICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChlID0gRW4odCksIG4pIDogZQ0K
ICAgICAgICB9LCBuLm91dGVyUmFkaXVzID0gZnVuY3Rpb24odCkgew0KICAgICAg
ICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAociA9IEVuKHQpLCBuKSA6
IHINCiAgICAgICAgfSwgbi5jb3JuZXJSYWRpdXMgPSBmdW5jdGlvbih0KSB7DQog
ICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChpID0gRW4odCks
IG4pIDogaQ0KICAgICAgICB9LCBuLnBhZFJhZGl1cyA9IGZ1bmN0aW9uKHQpIHsN
CiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHUgPSB0ID09
IHFsID8gcWwgOiBFbih0KSwgbikgOiB1DQogICAgICAgIH0sIG4uc3RhcnRBbmds
ZSA9IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMu
bGVuZ3RoID8gKG8gPSBFbih0KSwgbikgOiBvDQogICAgICAgIH0sIG4uZW5kQW5n
bGUgPSBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRz
Lmxlbmd0aCA/IChhID0gRW4odCksIG4pIDogYQ0KICAgICAgICB9LCBuLnBhZEFu
Z2xlID0gZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50
cy5sZW5ndGggPyAobCA9IEVuKHQpLCBuKSA6IGwNCiAgICAgICAgfSwgbi5jZW50
cm9pZCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgdmFyIG4gPSAoK2UuYXBw
bHkodGhpcywgYXJndW1lbnRzKSArICtyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykp
IC8gMiwNCiAgICAgICAgICAgICAgICB0ID0gKCtvLmFwcGx5KHRoaXMsIGFyZ3Vt
ZW50cykgKyArYS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSAvIDIgLSBJbzsNCiAg
ICAgICAgICAgIHJldHVybiBbTWF0aC5jb3ModCkgKiBuLCBNYXRoLnNpbih0KSAq
IG5dDQogICAgICAgIH0sIG4NCiAgICB9Ow0KICAgIHZhciBxbCA9ICJhdXRvIjsN
CiAgICBhby5zdmcubGluZSA9IGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1cm4g
TXUobSkNCiAgICB9Ow0KICAgIHZhciBUbCA9IGFvLm1hcCh7DQogICAgICAgIGxp
bmVhcjogeHUsDQogICAgICAgICJsaW5lYXItY2xvc2VkIjogYnUsDQogICAgICAg
IHN0ZXA6IF91LA0KICAgICAgICAic3RlcC1iZWZvcmUiOiB3dSwNCiAgICAgICAg
InN0ZXAtYWZ0ZXIiOiBTdSwNCiAgICAgICAgYmFzaXM6IHp1LA0KICAgICAgICAi
YmFzaXMtb3BlbiI6IEx1LA0KICAgICAgICAiYmFzaXMtY2xvc2VkIjogcXUsDQog
ICAgICAgIGJ1bmRsZTogVHUsDQogICAgICAgIGNhcmRpbmFsOiBFdSwNCiAgICAg
ICAgImNhcmRpbmFsLW9wZW4iOiBrdSwNCiAgICAgICAgImNhcmRpbmFsLWNsb3Nl
ZCI6IE51LA0KICAgICAgICBtb25vdG9uZTogRnUNCiAgICB9KTsNCiAgICBUbC5m
b3JFYWNoKGZ1bmN0aW9uKG4sIHQpIHsNCiAgICAgICAgdC5rZXkgPSBuLCB0LmNs
b3NlZCA9IC8tY2xvc2VkJC8udGVzdChuKQ0KICAgIH0pOw0KICAgIHZhciBSbCA9
IFswLCAyIC8gMywgMSAvIDMsIDBdLA0KICAgICAgICBEbCA9IFswLCAxIC8gMywg
MiAvIDMsIDBdLA0KICAgICAgICBQbCA9IFswLCAxIC8gNiwgMiAvIDMsIDEgLyA2
XTsNCiAgICBhby5zdmcubGluZS5yYWRpYWwgPSBmdW5jdGlvbigpIHsNCiAgICAg
ICAgdmFyIG4gPSBNdShIdSk7DQogICAgICAgIHJldHVybiBuLnJhZGl1cyA9IG4u
eCwgZGVsZXRlIG4ueCwgbi5hbmdsZSA9IG4ueSwgZGVsZXRlIG4ueSwgbg0KICAg
IH0sIHd1LnJldmVyc2UgPSBTdSwgU3UucmV2ZXJzZSA9IHd1LCBhby5zdmcuYXJl
YSA9IGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1cm4gT3UobSkNCiAgICB9LCBh
by5zdmcuYXJlYS5yYWRpYWwgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgdmFyIG4g
PSBPdShIdSk7DQogICAgICAgIHJldHVybiBuLnJhZGl1cyA9IG4ueCwgZGVsZXRl
IG4ueCwgbi5pbm5lclJhZGl1cyA9IG4ueDAsIGRlbGV0ZSBuLngwLCBuLm91dGVy
UmFkaXVzID0gbi54MSwgZGVsZXRlIG4ueDEsIG4uYW5nbGUgPSBuLnksIGRlbGV0
ZSBuLnksIG4uc3RhcnRBbmdsZSA9IG4ueTAsIGRlbGV0ZSBuLnkwLCBuLmVuZEFu
Z2xlID0gbi55MSwgZGVsZXRlIG4ueTEsIG4NCiAgICB9LCBhby5zdmcuY2hvcmQg
PSBmdW5jdGlvbigpIHsNCiAgICAgICAgZnVuY3Rpb24gbihuLCBhKSB7DQogICAg
ICAgICAgICB2YXIgbCA9IHQodGhpcywgdSwgbiwgYSksDQogICAgICAgICAgICAg
ICAgYyA9IHQodGhpcywgbywgbiwgYSk7DQogICAgICAgICAgICByZXR1cm4gIk0i
ICsgbC5wMCArIHIobC5yLCBsLnAxLCBsLmExIC0gbC5hMCkgKyAoZShsLCBjKSA/
IGkobC5yLCBsLnAxLCBsLnIsIGwucDApIDogaShsLnIsIGwucDEsIGMuciwgYy5w
MCkgKyByKGMuciwgYy5wMSwgYy5hMSAtIGMuYTApICsgaShjLnIsIGMucDEsIGwu
ciwgbC5wMCkpICsgIloiDQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiB0
KG4sIHQsIGUsIHIpIHsNCiAgICAgICAgICAgIHZhciBpID0gdC5jYWxsKG4sIGUs
IHIpLA0KICAgICAgICAgICAgICAgIHUgPSBhLmNhbGwobiwgaSwgciksDQogICAg
ICAgICAgICAgICAgbyA9IGwuY2FsbChuLCBpLCByKSAtIElvLA0KICAgICAgICAg
ICAgICAgIGYgPSBjLmNhbGwobiwgaSwgcikgLSBJbzsNCiAgICAgICAgICAgIHJl
dHVybiB7DQogICAgICAgICAgICAgICAgcjogdSwNCiAgICAgICAgICAgICAgICBh
MDogbywNCiAgICAgICAgICAgICAgICBhMTogZiwNCiAgICAgICAgICAgICAgICBw
MDogW3UgKiBNYXRoLmNvcyhvKSwgdSAqIE1hdGguc2luKG8pXSwNCiAgICAgICAg
ICAgICAgICBwMTogW3UgKiBNYXRoLmNvcyhmKSwgdSAqIE1hdGguc2luKGYpXQ0K
ICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gZShu
LCB0KSB7DQogICAgICAgICAgICByZXR1cm4gbi5hMCA9PSB0LmEwICYmIG4uYTEg
PT0gdC5hMQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gcihuLCB0LCBl
KSB7DQogICAgICAgICAgICByZXR1cm4gIkEiICsgbiArICIsIiArIG4gKyAiIDAg
IiArICsoZSA+IEZvKSArICIsMSAiICsgdA0KICAgICAgICB9DQoNCiAgICAgICAg
ZnVuY3Rpb24gaShuLCB0LCBlLCByKSB7DQogICAgICAgICAgICByZXR1cm4gIlEg
MCwwICIgKyByDQogICAgICAgIH0NCiAgICAgICAgdmFyIHUgPSBNZSwNCiAgICAg
ICAgICAgIG8gPSB4ZSwNCiAgICAgICAgICAgIGEgPSBJdSwNCiAgICAgICAgICAg
IGwgPSBndSwNCiAgICAgICAgICAgIGMgPSB2dTsNCiAgICAgICAgcmV0dXJuIG4u
cmFkaXVzID0gZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3Vt
ZW50cy5sZW5ndGggPyAoYSA9IEVuKHQpLCBuKSA6IGENCiAgICAgICAgfSwgbi5z
b3VyY2UgPSBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1l
bnRzLmxlbmd0aCA/ICh1ID0gRW4odCksIG4pIDogdQ0KICAgICAgICB9LCBuLnRh
cmdldCA9IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVu
dHMubGVuZ3RoID8gKG8gPSBFbih0KSwgbikgOiBvDQogICAgICAgIH0sIG4uc3Rh
cnRBbmdsZSA9IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1
bWVudHMubGVuZ3RoID8gKGwgPSBFbih0KSwgbikgOiBsDQogICAgICAgIH0sIG4u
ZW5kQW5nbGUgPSBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4gYXJn
dW1lbnRzLmxlbmd0aCA/IChjID0gRW4odCksIG4pIDogYw0KICAgICAgICB9LCBu
DQogICAgfSwgYW8uc3ZnLmRpYWdvbmFsID0gZnVuY3Rpb24oKSB7DQogICAgICAg
IGZ1bmN0aW9uIG4obiwgaSkgew0KICAgICAgICAgICAgdmFyIHUgPSB0LmNhbGwo
dGhpcywgbiwgaSksDQogICAgICAgICAgICAgICAgbyA9IGUuY2FsbCh0aGlzLCBu
LCBpKSwNCiAgICAgICAgICAgICAgICBhID0gKHUueSArIG8ueSkgLyAyLA0KICAg
ICAgICAgICAgICAgIGwgPSBbdSwgew0KICAgICAgICAgICAgICAgICAgICB4OiB1
LngsDQogICAgICAgICAgICAgICAgICAgIHk6IGENCiAgICAgICAgICAgICAgICB9
LCB7DQogICAgICAgICAgICAgICAgICAgIHg6IG8ueCwNCiAgICAgICAgICAgICAg
ICAgICAgeTogYQ0KICAgICAgICAgICAgICAgIH0sIG9dOw0KICAgICAgICAgICAg
cmV0dXJuIGwgPSBsLm1hcChyKSwgIk0iICsgbFswXSArICJDIiArIGxbMV0gKyAi
ICIgKyBsWzJdICsgIiAiICsgbFszXQ0KICAgICAgICB9DQogICAgICAgIHZhciB0
ID0gTWUsDQogICAgICAgICAgICBlID0geGUsDQogICAgICAgICAgICByID0gWXU7
DQogICAgICAgIHJldHVybiBuLnNvdXJjZSA9IGZ1bmN0aW9uKGUpIHsNCiAgICAg
ICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHQgPSBFbihlKSwgbikg
OiB0DQogICAgICAgIH0sIG4udGFyZ2V0ID0gZnVuY3Rpb24odCkgew0KICAgICAg
ICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoZSA9IEVuKHQpLCBuKSA6
IGUNCiAgICAgICAgfSwgbi5wcm9qZWN0aW9uID0gZnVuY3Rpb24odCkgew0KICAg
ICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAociA9IHQsIG4pIDog
cg0KICAgICAgICB9LCBuDQogICAgfSwgYW8uc3ZnLmRpYWdvbmFsLnJhZGlhbCA9
IGZ1bmN0aW9uKCkgew0KICAgICAgICB2YXIgbiA9IGFvLnN2Zy5kaWFnb25hbCgp
LA0KICAgICAgICAgICAgdCA9IFl1LA0KICAgICAgICAgICAgZSA9IG4ucHJvamVj
dGlvbjsNCiAgICAgICAgcmV0dXJuIG4ucHJvamVjdGlvbiA9IGZ1bmN0aW9uKG4p
IHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gZShadSh0
ID0gbikpIDogdA0KICAgICAgICB9LCBuDQogICAgfSwgYW8uc3ZnLnN5bWJvbCA9
IGZ1bmN0aW9uKCkgew0KICAgICAgICBmdW5jdGlvbiBuKG4sIHIpIHsNCiAgICAg
ICAgICAgIHJldHVybiAoVWwuZ2V0KHQuY2FsbCh0aGlzLCBuLCByKSkgfHwgJHUp
KGUuY2FsbCh0aGlzLCBuLCByKSkNCiAgICAgICAgfQ0KICAgICAgICB2YXIgdCA9
IFh1LA0KICAgICAgICAgICAgZSA9IFZ1Ow0KICAgICAgICByZXR1cm4gbi50eXBl
ID0gZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5s
ZW5ndGggPyAodCA9IEVuKGUpLCBuKSA6IHQNCiAgICAgICAgfSwgbi5zaXplID0g
ZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5n
dGggPyAoZSA9IEVuKHQpLCBuKSA6IGUNCiAgICAgICAgfSwgbg0KICAgIH07DQog
ICAgdmFyIFVsID0gYW8ubWFwKHsNCiAgICAgICAgY2lyY2xlOiAkdSwNCiAgICAg
ICAgY3Jvc3M6IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHZhciB0ID0gTWF0
aC5zcXJ0KG4gLyA1KSAvIDI7DQogICAgICAgICAgICByZXR1cm4gIk0iICsgLTMg
KiB0ICsgIiwiICsgLXQgKyAiSCIgKyAtdCArICJWIiArIC0zICogdCArICJIIiAr
IHQgKyAiViIgKyAtdCArICJIIiArIDMgKiB0ICsgIlYiICsgdCArICJIIiArIHQg
KyAiViIgKyAzICogdCArICJIIiArIC10ICsgIlYiICsgdCArICJIIiArIC0zICog
dCArICJaIg0KICAgICAgICB9LA0KICAgICAgICBkaWFtb25kOiBmdW5jdGlvbihu
KSB7DQogICAgICAgICAgICB2YXIgdCA9IE1hdGguc3FydChuIC8gKDIgKiBGbCkp
LA0KICAgICAgICAgICAgICAgIGUgPSB0ICogRmw7DQogICAgICAgICAgICByZXR1
cm4gIk0wLCIgKyAtdCArICJMIiArIGUgKyAiLDAgMCwiICsgdCArICIgIiArIC1l
ICsgIiwwWiINCiAgICAgICAgfSwNCiAgICAgICAgc3F1YXJlOiBmdW5jdGlvbihu
KSB7DQogICAgICAgICAgICB2YXIgdCA9IE1hdGguc3FydChuKSAvIDI7DQogICAg
ICAgICAgICByZXR1cm4gIk0iICsgLXQgKyAiLCIgKyAtdCArICJMIiArIHQgKyAi
LCIgKyAtdCArICIgIiArIHQgKyAiLCIgKyB0ICsgIiAiICsgLXQgKyAiLCIgKyB0
ICsgIloiDQogICAgICAgIH0sDQogICAgICAgICJ0cmlhbmdsZS1kb3duIjogZnVu
Y3Rpb24obikgew0KICAgICAgICAgICAgdmFyIHQgPSBNYXRoLnNxcnQobiAvIGps
KSwNCiAgICAgICAgICAgICAgICBlID0gdCAqIGpsIC8gMjsNCiAgICAgICAgICAg
IHJldHVybiAiTTAsIiArIGUgKyAiTCIgKyB0ICsgIiwiICsgLWUgKyAiICIgKyAt
dCArICIsIiArIC1lICsgIloiDQogICAgICAgIH0sDQogICAgICAgICJ0cmlhbmds
ZS11cCI6IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgIHZhciB0ID0gTWF0aC5z
cXJ0KG4gLyBqbCksDQogICAgICAgICAgICAgICAgZSA9IHQgKiBqbCAvIDI7DQog
ICAgICAgICAgICByZXR1cm4gIk0wLCIgKyAtZSArICJMIiArIHQgKyAiLCIgKyBl
ICsgIiAiICsgLXQgKyAiLCIgKyBlICsgIloiDQogICAgICAgIH0NCiAgICB9KTsN
CiAgICBhby5zdmcuc3ltYm9sVHlwZXMgPSBVbC5rZXlzKCk7DQogICAgdmFyIGps
ID0gTWF0aC5zcXJ0KDMpLA0KICAgICAgICBGbCA9IE1hdGgudGFuKDMwICogWW8p
Ow0KICAgIENvLnRyYW5zaXRpb24gPSBmdW5jdGlvbihuKSB7DQogICAgICAgIGZv
ciAodmFyIHQsIGUsIHIgPSBIbCB8fCArK1psLCBpID0gS3UobiksIHUgPSBbXSwg
byA9IE9sIHx8IHsNCiAgICAgICAgICAgICAgICB0aW1lOiBEYXRlLm5vdygpLA0K
ICAgICAgICAgICAgICAgIGVhc2U6IE5yLA0KICAgICAgICAgICAgICAgIGRlbGF5
OiAwLA0KICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTANCiAgICAgICAgICAg
IH0sIGEgPSAtMSwgbCA9IHRoaXMubGVuZ3RoOyArK2EgPCBsOykgew0KICAgICAg
ICAgICAgdS5wdXNoKHQgPSBbXSk7DQogICAgICAgICAgICBmb3IgKHZhciBjID0g
dGhpc1thXSwgZiA9IC0xLCBzID0gYy5sZW5ndGg7ICsrZiA8IHM7KShlID0gY1tm
XSkgJiYgUXUoZSwgZiwgaSwgciwgbyksIHQucHVzaChlKQ0KICAgICAgICB9DQog
ICAgICAgIHJldHVybiBXdSh1LCBpLCByKQ0KICAgIH0sIENvLmludGVycnVwdCA9
IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChudWxsID09
IG4gPyBJbCA6IEJ1KEt1KG4pKSkNCiAgICB9Ow0KICAgIHZhciBIbCwgT2wsIEls
ID0gQnUoS3UoKSksDQogICAgICAgIFlsID0gW10sDQogICAgICAgIFpsID0gMDsN
CiAgICBZbC5jYWxsID0gQ28uY2FsbCwgWWwuZW1wdHkgPSBDby5lbXB0eSwgWWwu
bm9kZSA9IENvLm5vZGUsIFlsLnNpemUgPSBDby5zaXplLCBhby50cmFuc2l0aW9u
ID0gZnVuY3Rpb24obiwgdCkgew0KICAgICAgICByZXR1cm4gbiAmJiBuLnRyYW5z
aXRpb24gPyBIbCA/IG4udHJhbnNpdGlvbih0KSA6IG4gOiBhby5zZWxlY3Rpb24o
KS50cmFuc2l0aW9uKG4pDQogICAgfSwgYW8udHJhbnNpdGlvbi5wcm90b3R5cGUg
PSBZbCwgWWwuc2VsZWN0ID0gZnVuY3Rpb24obikgew0KICAgICAgICB2YXIgdCwg
ZSwgciwgaSA9IHRoaXMuaWQsDQogICAgICAgICAgICB1ID0gdGhpcy5uYW1lc3Bh
Y2UsDQogICAgICAgICAgICBvID0gW107DQogICAgICAgIG4gPSBBKG4pOw0KICAg
ICAgICBmb3IgKHZhciBhID0gLTEsIGwgPSB0aGlzLmxlbmd0aDsgKythIDwgbDsp
IHsNCiAgICAgICAgICAgIG8ucHVzaCh0ID0gW10pOw0KICAgICAgICAgICAgZm9y
ICh2YXIgYyA9IHRoaXNbYV0sIGYgPSAtMSwgcyA9IGMubGVuZ3RoOyArK2YgPCBz
OykociA9IGNbZl0pICYmIChlID0gbi5jYWxsKHIsIHIuX19kYXRhX18sIGYsIGEp
KSA/ICgiX19kYXRhX18iIGluIHIgJiYgKGUuX19kYXRhX18gPSByLl9fZGF0YV9f
KSwgUXUoZSwgZiwgdSwgaSwgclt1XVtpXSksIHQucHVzaChlKSkgOiB0LnB1c2go
bnVsbCkNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gV3UobywgdSwgaSkNCiAg
ICB9LCBZbC5zZWxlY3RBbGwgPSBmdW5jdGlvbihuKSB7DQogICAgICAgIHZhciB0
LCBlLCByLCBpLCB1LCBvID0gdGhpcy5pZCwNCiAgICAgICAgICAgIGEgPSB0aGlz
Lm5hbWVzcGFjZSwNCiAgICAgICAgICAgIGwgPSBbXTsNCiAgICAgICAgbiA9IEMo
bik7DQogICAgICAgIGZvciAodmFyIGMgPSAtMSwgZiA9IHRoaXMubGVuZ3RoOyAr
K2MgPCBmOykNCiAgICAgICAgICAgIGZvciAodmFyIHMgPSB0aGlzW2NdLCBoID0g
LTEsIHAgPSBzLmxlbmd0aDsgKytoIDwgcDspDQogICAgICAgICAgICAgICAgaWYg
KHIgPSBzW2hdKSB7DQogICAgICAgICAgICAgICAgICAgIHUgPSByW2FdW29dLCBl
ID0gbi5jYWxsKHIsIHIuX19kYXRhX18sIGgsIGMpLCBsLnB1c2godCA9IFtdKTsN
CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZyA9IC0xLCB2ID0gZS5sZW5n
dGg7ICsrZyA8IHY7KShpID0gZVtnXSkgJiYgUXUoaSwgZywgYSwgbywgdSksIHQu
cHVzaChpKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgcmV0dXJuIFd1KGws
IGEsIG8pDQogICAgfSwgWWwuZmlsdGVyID0gZnVuY3Rpb24obikgew0KICAgICAg
ICB2YXIgdCwgZSwgciwgaSA9IFtdOw0KICAgICAgICAiZnVuY3Rpb24iICE9IHR5
cGVvZiBuICYmIChuID0gTyhuKSk7DQogICAgICAgIGZvciAodmFyIHUgPSAwLCBv
ID0gdGhpcy5sZW5ndGg7IG8gPiB1OyB1KyspIHsNCiAgICAgICAgICAgIGkucHVz
aCh0ID0gW10pOw0KICAgICAgICAgICAgZm9yICh2YXIgZSA9IHRoaXNbdV0sIGEg
PSAwLCBsID0gZS5sZW5ndGg7IGwgPiBhOyBhKyspKHIgPSBlW2FdKSAmJiBuLmNh
bGwociwgci5fX2RhdGFfXywgYSwgdSkgJiYgdC5wdXNoKHIpDQogICAgICAgIH0N
CiAgICAgICAgcmV0dXJuIFd1KGksIHRoaXMubmFtZXNwYWNlLCB0aGlzLmlkKQ0K
ICAgIH0sIFlsLnR3ZWVuID0gZnVuY3Rpb24obiwgdCkgew0KICAgICAgICB2YXIg
ZSA9IHRoaXMuaWQsDQogICAgICAgICAgICByID0gdGhpcy5uYW1lc3BhY2U7DQog
ICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoIDwgMiA/IHRoaXMubm9kZSgp
W3JdW2VdLnR3ZWVuLmdldChuKSA6IFkodGhpcywgbnVsbCA9PSB0ID8gZnVuY3Rp
b24odCkgew0KICAgICAgICAgICAgdFtyXVtlXS50d2Vlbi5yZW1vdmUobikNCiAg
ICAgICAgfSA6IGZ1bmN0aW9uKGkpIHsNCiAgICAgICAgICAgIGlbcl1bZV0udHdl
ZW4uc2V0KG4sIHQpDQogICAgICAgIH0pDQogICAgfSwgWWwuYXR0ciA9IGZ1bmN0
aW9uKG4sIHQpIHsNCiAgICAgICAgZnVuY3Rpb24gZSgpIHsNCiAgICAgICAgICAg
IHRoaXMucmVtb3ZlQXR0cmlidXRlKGEpDQogICAgICAgIH0NCg0KICAgICAgICBm
dW5jdGlvbiByKCkgew0KICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGVO
UyhhLnNwYWNlLCBhLmxvY2FsKQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rp
b24gaShuKSB7DQogICAgICAgICAgICByZXR1cm4gbnVsbCA9PSBuID8gZSA6IChu
ICs9ICIiLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICB2YXIgdCwgZSA9
IHRoaXMuZ2V0QXR0cmlidXRlKGEpOw0KICAgICAgICAgICAgICAgIHJldHVybiBl
ICE9PSBuICYmICh0ID0gbyhlLCBuKSwgZnVuY3Rpb24obikgew0KICAgICAgICAg
ICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShhLCB0KG4pKQ0KICAgICAgICAg
ICAgICAgIH0pDQogICAgICAgICAgICB9KQ0KICAgICAgICB9DQoNCiAgICAgICAg
ZnVuY3Rpb24gdShuKSB7DQogICAgICAgICAgICByZXR1cm4gbnVsbCA9PSBuID8g
ciA6IChuICs9ICIiLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICB2YXIg
dCwgZSA9IHRoaXMuZ2V0QXR0cmlidXRlTlMoYS5zcGFjZSwgYS5sb2NhbCk7DQog
ICAgICAgICAgICAgICAgcmV0dXJuIGUgIT09IG4gJiYgKHQgPSBvKGUsIG4pLCBm
dW5jdGlvbihuKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmli
dXRlTlMoYS5zcGFjZSwgYS5sb2NhbCwgdChuKSkNCiAgICAgICAgICAgICAgICB9
KQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgICBpZiAoYXJndW1l
bnRzLmxlbmd0aCA8IDIpIHsNCiAgICAgICAgICAgIGZvciAodCBpbiBuKSB0aGlz
LmF0dHIodCwgblt0XSk7DQogICAgICAgICAgICByZXR1cm4gdGhpcw0KICAgICAg
ICB9DQogICAgICAgIHZhciBvID0gInRyYW5zZm9ybSIgPT0gbiA/ICRyIDogTXIs
DQogICAgICAgICAgICBhID0gYW8ubnMucXVhbGlmeShuKTsNCiAgICAgICAgcmV0
dXJuIEp1KHRoaXMsICJhdHRyLiIgKyBuLCB0LCBhLmxvY2FsID8gdSA6IGkpDQog
ICAgfSwgWWwuYXR0clR3ZWVuID0gZnVuY3Rpb24obiwgdCkgew0KICAgICAgICBm
dW5jdGlvbiBlKG4sIGUpIHsNCiAgICAgICAgICAgIHZhciByID0gdC5jYWxsKHRo
aXMsIG4sIGUsIHRoaXMuZ2V0QXR0cmlidXRlKGkpKTsNCiAgICAgICAgICAgIHJl
dHVybiByICYmIGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNl
dEF0dHJpYnV0ZShpLCByKG4pKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoN
CiAgICAgICAgZnVuY3Rpb24gcihuLCBlKSB7DQogICAgICAgICAgICB2YXIgciA9
IHQuY2FsbCh0aGlzLCBuLCBlLCB0aGlzLmdldEF0dHJpYnV0ZU5TKGkuc3BhY2Us
IGkubG9jYWwpKTsNCiAgICAgICAgICAgIHJldHVybiByICYmIGZ1bmN0aW9uKG4p
IHsNCiAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZU5TKGkuc3BhY2Us
IGkubG9jYWwsIHIobikpDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAg
ICAgdmFyIGkgPSBhby5ucy5xdWFsaWZ5KG4pOw0KICAgICAgICByZXR1cm4gdGhp
cy50d2VlbigiYXR0ci4iICsgbiwgaS5sb2NhbCA/IHIgOiBlKQ0KICAgIH0sIFls
LnN0eWxlID0gZnVuY3Rpb24obiwgZSwgcikgew0KICAgICAgICBmdW5jdGlvbiBp
KCkgew0KICAgICAgICAgICAgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuKQ0K
ICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gdShlKSB7DQogICAgICAgICAg
ICByZXR1cm4gbnVsbCA9PSBlID8gaSA6IChlICs9ICIiLCBmdW5jdGlvbigpIHsN
CiAgICAgICAgICAgICAgICB2YXIgaSwgdSA9IHQodGhpcykuZ2V0Q29tcHV0ZWRT
dHlsZSh0aGlzLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKG4pOw0KICAgICAgICAg
ICAgICAgIHJldHVybiB1ICE9PSBlICYmIChpID0gTXIodSwgZSksIGZ1bmN0aW9u
KHQpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0
eShuLCBpKHQpLCByKQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9
KQ0KICAgICAgICB9DQogICAgICAgIHZhciBvID0gYXJndW1lbnRzLmxlbmd0aDsN
CiAgICAgICAgaWYgKDMgPiBvKSB7DQogICAgICAgICAgICBpZiAoInN0cmluZyIg
IT0gdHlwZW9mIG4pIHsNCiAgICAgICAgICAgICAgICAyID4gbyAmJiAoZSA9ICIi
KTsNCiAgICAgICAgICAgICAgICBmb3IgKHIgaW4gbikgdGhpcy5zdHlsZShyLCBu
W3JdLCBlKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcw0KICAgICAgICAg
ICAgfQ0KICAgICAgICAgICAgciA9ICIiDQogICAgICAgIH0NCiAgICAgICAgcmV0
dXJuIEp1KHRoaXMsICJzdHlsZS4iICsgbiwgZSwgdSkNCiAgICB9LCBZbC5zdHls
ZVR3ZWVuID0gZnVuY3Rpb24obiwgZSwgcikgew0KICAgICAgICBmdW5jdGlvbiBp
KGksIHUpIHsNCiAgICAgICAgICAgIHZhciBvID0gZS5jYWxsKHRoaXMsIGksIHUs
IHQodGhpcykuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLCBudWxsKS5nZXRQcm9wZXJ0
eVZhbHVlKG4pKTsNCiAgICAgICAgICAgIHJldHVybiBvICYmIGZ1bmN0aW9uKHQp
IHsNCiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlLnNldFByb3BlcnR5KG4sIG8o
dCksIHIpDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJu
IGFyZ3VtZW50cy5sZW5ndGggPCAzICYmIChyID0gIiIpLCB0aGlzLnR3ZWVuKCJz
dHlsZS4iICsgbiwgaSkNCiAgICB9LCBZbC50ZXh0ID0gZnVuY3Rpb24obikgew0K
ICAgICAgICByZXR1cm4gSnUodGhpcywgInRleHQiLCBuLCBHdSkNCiAgICB9LCBZ
bC5yZW1vdmUgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgdmFyIG4gPSB0aGlzLm5h
bWVzcGFjZTsNCiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaCgiZW5kLnRyYW5zaXRp
b24iLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciB0Ow0KICAgICAgICAg
ICAgdGhpc1tuXS5jb3VudCA8IDIgJiYgKHQgPSB0aGlzLnBhcmVudE5vZGUpICYm
IHQucmVtb3ZlQ2hpbGQodGhpcykNCiAgICAgICAgfSkNCiAgICB9LCBZbC5lYXNl
ID0gZnVuY3Rpb24obikgew0KICAgICAgICB2YXIgdCA9IHRoaXMuaWQsDQogICAg
ICAgICAgICBlID0gdGhpcy5uYW1lc3BhY2U7DQogICAgICAgIHJldHVybiBhcmd1
bWVudHMubGVuZ3RoIDwgMSA/IHRoaXMubm9kZSgpW2VdW3RdLmVhc2UgOiAoImZ1
bmN0aW9uIiAhPSB0eXBlb2YgbiAmJiAobiA9IGFvLmVhc2UuYXBwbHkoYW8sIGFy
Z3VtZW50cykpLCBZKHRoaXMsIGZ1bmN0aW9uKHIpIHsNCiAgICAgICAgICAgIHJb
ZV1bdF0uZWFzZSA9IG4NCiAgICAgICAgfSkpDQogICAgfSwgWWwuZGVsYXkgPSBm
dW5jdGlvbihuKSB7DQogICAgICAgIHZhciB0ID0gdGhpcy5pZCwNCiAgICAgICAg
ICAgIGUgPSB0aGlzLm5hbWVzcGFjZTsNCiAgICAgICAgcmV0dXJuIGFyZ3VtZW50
cy5sZW5ndGggPCAxID8gdGhpcy5ub2RlKClbZV1bdF0uZGVsYXkgOiBZKHRoaXMs
ICJmdW5jdGlvbiIgPT0gdHlwZW9mIG4gPyBmdW5jdGlvbihyLCBpLCB1KSB7DQog
ICAgICAgICAgICByW2VdW3RdLmRlbGF5ID0gK24uY2FsbChyLCByLl9fZGF0YV9f
LCBpLCB1KQ0KICAgICAgICB9IDogKG4gPSArbiwgZnVuY3Rpb24ocikgew0KICAg
ICAgICAgICAgcltlXVt0XS5kZWxheSA9IG4NCiAgICAgICAgfSkpDQogICAgfSwg
WWwuZHVyYXRpb24gPSBmdW5jdGlvbihuKSB7DQogICAgICAgIHZhciB0ID0gdGhp
cy5pZCwNCiAgICAgICAgICAgIGUgPSB0aGlzLm5hbWVzcGFjZTsNCiAgICAgICAg
cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPCAxID8gdGhpcy5ub2RlKClbZV1bdF0u
ZHVyYXRpb24gOiBZKHRoaXMsICJmdW5jdGlvbiIgPT0gdHlwZW9mIG4gPyBmdW5j
dGlvbihyLCBpLCB1KSB7DQogICAgICAgICAgICByW2VdW3RdLmR1cmF0aW9uID0g
TWF0aC5tYXgoMSwgbi5jYWxsKHIsIHIuX19kYXRhX18sIGksIHUpKQ0KICAgICAg
ICB9IDogKG4gPSBNYXRoLm1heCgxLCBuKSwgZnVuY3Rpb24ocikgew0KICAgICAg
ICAgICAgcltlXVt0XS5kdXJhdGlvbiA9IG4NCiAgICAgICAgfSkpDQogICAgfSwg
WWwuZWFjaCA9IGZ1bmN0aW9uKG4sIHQpIHsNCiAgICAgICAgdmFyIGUgPSB0aGlz
LmlkLA0KICAgICAgICAgICAgciA9IHRoaXMubmFtZXNwYWNlOw0KICAgICAgICBp
ZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHsNCiAgICAgICAgICAgIHZhciBpID0g
T2wsDQogICAgICAgICAgICAgICAgdSA9IEhsOw0KICAgICAgICAgICAgdHJ5IHsN
CiAgICAgICAgICAgICAgICBIbCA9IGUsIFkodGhpcywgZnVuY3Rpb24odCwgaSwg
dSkgew0KICAgICAgICAgICAgICAgICAgICBPbCA9IHRbcl1bZV0sIG4uY2FsbCh0
LCB0Ll9fZGF0YV9fLCBpLCB1KQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAg
ICAgICB9IGZpbmFsbHkgew0KICAgICAgICAgICAgICAgIE9sID0gaSwgSGwgPSB1
DQogICAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSBZKHRoaXMsIGZ1bmN0aW9u
KGkpIHsNCiAgICAgICAgICAgIHZhciB1ID0gaVtyXVtlXTsNCiAgICAgICAgICAg
ICh1LmV2ZW50IHx8ICh1LmV2ZW50ID0gYW8uZGlzcGF0Y2goInN0YXJ0IiwgImVu
ZCIsICJpbnRlcnJ1cHQiKSkpLm9uKG4sIHQpDQogICAgICAgIH0pOw0KICAgICAg
ICByZXR1cm4gdGhpcw0KICAgIH0sIFlsLnRyYW5zaXRpb24gPSBmdW5jdGlvbigp
IHsNCiAgICAgICAgZm9yICh2YXIgbiwgdCwgZSwgciwgaSA9IHRoaXMuaWQsIHUg
PSArK1psLCBvID0gdGhpcy5uYW1lc3BhY2UsIGEgPSBbXSwgbCA9IDAsIGMgPSB0
aGlzLmxlbmd0aDsgYyA+IGw7IGwrKykgew0KICAgICAgICAgICAgYS5wdXNoKG4g
PSBbXSk7DQogICAgICAgICAgICBmb3IgKHZhciB0ID0gdGhpc1tsXSwgZiA9IDAs
IHMgPSB0Lmxlbmd0aDsgcyA+IGY7IGYrKykoZSA9IHRbZl0pICYmIChyID0gZVtv
XVtpXSwgUXUoZSwgZiwgbywgdSwgew0KICAgICAgICAgICAgICAgIHRpbWU6IHIu
dGltZSwNCiAgICAgICAgICAgICAgICBlYXNlOiByLmVhc2UsDQogICAgICAgICAg
ICAgICAgZGVsYXk6IHIuZGVsYXkgKyByLmR1cmF0aW9uLA0KICAgICAgICAgICAg
ICAgIGR1cmF0aW9uOiByLmR1cmF0aW9uDQogICAgICAgICAgICB9KSksIG4ucHVz
aChlKQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBXdShhLCBvLCB1KQ0KICAg
IH0sIGFvLnN2Zy5heGlzID0gZnVuY3Rpb24oKSB7DQogICAgICAgIGZ1bmN0aW9u
IG4obikgew0KICAgICAgICAgICAgbi5lYWNoKGZ1bmN0aW9uKCkgew0KICAgICAg
ICAgICAgICAgIHZhciBuLCBjID0gYW8uc2VsZWN0KHRoaXMpLA0KICAgICAgICAg
ICAgICAgICAgICBmID0gdGhpcy5fX2NoYXJ0X18gfHwgZSwNCiAgICAgICAgICAg
ICAgICAgICAgcyA9IHRoaXMuX19jaGFydF9fID0gZS5jb3B5KCksDQogICAgICAg
ICAgICAgICAgICAgIGggPSBudWxsID09IGwgPyBzLnRpY2tzID8gcy50aWNrcy5h
cHBseShzLCBhKSA6IHMuZG9tYWluKCkgOiBsLA0KICAgICAgICAgICAgICAgICAg
ICBwID0gbnVsbCA9PSB0ID8gcy50aWNrRm9ybWF0ID8gcy50aWNrRm9ybWF0LmFw
cGx5KHMsIGEpIDogbSA6IHQsDQogICAgICAgICAgICAgICAgICAgIGcgPSBjLnNl
bGVjdEFsbCgiLnRpY2siKS5kYXRhKGgsIHMpLA0KICAgICAgICAgICAgICAgICAg
ICB2ID0gZy5lbnRlcigpLmluc2VydCgiZyIsICIuZG9tYWluIikuYXR0cigiY2xh
c3MiLCAidGljayIpLnN0eWxlKCJvcGFjaXR5IiwgVW8pLA0KICAgICAgICAgICAg
ICAgICAgICBkID0gYW8udHJhbnNpdGlvbihnLmV4aXQoKSkuc3R5bGUoIm9wYWNp
dHkiLCBVbykucmVtb3ZlKCksDQogICAgICAgICAgICAgICAgICAgIHkgPSBhby50
cmFuc2l0aW9uKGcub3JkZXIoKSkuc3R5bGUoIm9wYWNpdHkiLCAxKSwNCiAgICAg
ICAgICAgICAgICAgICAgTSA9IE1hdGgubWF4KGksIDApICsgbywNCiAgICAgICAg
ICAgICAgICAgICAgeCA9IFppKHMpLA0KICAgICAgICAgICAgICAgICAgICBiID0g
Yy5zZWxlY3RBbGwoIi5kb21haW4iKS5kYXRhKFswXSksDQogICAgICAgICAgICAg
ICAgICAgIF8gPSAoYi5lbnRlcigpLmFwcGVuZCgicGF0aCIpLmF0dHIoImNsYXNz
IiwgImRvbWFpbiIpLCBhby50cmFuc2l0aW9uKGIpKTsNCiAgICAgICAgICAgICAg
ICB2LmFwcGVuZCgibGluZSIpLCB2LmFwcGVuZCgidGV4dCIpOw0KICAgICAgICAg
ICAgICAgIHZhciB3LCBTLCBrLCBOLCBFID0gdi5zZWxlY3QoImxpbmUiKSwNCiAg
ICAgICAgICAgICAgICAgICAgQSA9IHkuc2VsZWN0KCJsaW5lIiksDQogICAgICAg
ICAgICAgICAgICAgIEMgPSBnLnNlbGVjdCgidGV4dCIpLnRleHQocCksDQogICAg
ICAgICAgICAgICAgICAgIHogPSB2LnNlbGVjdCgidGV4dCIpLA0KICAgICAgICAg
ICAgICAgICAgICBMID0geS5zZWxlY3QoInRleHQiKSwNCiAgICAgICAgICAgICAg
ICAgICAgcSA9ICJ0b3AiID09PSByIHx8ICJsZWZ0IiA9PT0gciA/IC0xIDogMTsN
CiAgICAgICAgICAgICAgICBpZiAoImJvdHRvbSIgPT09IHIgfHwgInRvcCIgPT09
IHIgPyAobiA9IG5vLCB3ID0gIngiLCBrID0gInkiLCBTID0gIngyIiwgTiA9ICJ5
MiIsIEMuYXR0cigiZHkiLCAwID4gcSA/ICIwZW0iIDogIi43MWVtIikuc3R5bGUo
InRleHQtYW5jaG9yIiwgIm1pZGRsZSIpLCBfLmF0dHIoImQiLCAiTSIgKyB4WzBd
ICsgIiwiICsgcSAqIHUgKyAiVjBIIiArIHhbMV0gKyAiViIgKyBxICogdSkpIDog
KG4gPSB0bywgdyA9ICJ5IiwgayA9ICJ4IiwgUyA9ICJ5MiIsIE4gPSAieDIiLCBD
LmF0dHIoImR5IiwgIi4zMmVtIikuc3R5bGUoInRleHQtYW5jaG9yIiwgMCA+IHEg
PyAiZW5kIiA6ICJzdGFydCIpLCBfLmF0dHIoImQiLCAiTSIgKyBxICogdSArICIs
IiArIHhbMF0gKyAiSDBWIiArIHhbMV0gKyAiSCIgKyBxICogdSkpLCBFLmF0dHIo
TiwgcSAqIGkpLCB6LmF0dHIoaywgcSAqIE0pLCBBLmF0dHIoUywgMCkuYXR0cihO
LCBxICogaSksIEwuYXR0cih3LCAwKS5hdHRyKGssIHEgKiBNKSwgcy5yYW5nZUJh
bmQpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIFQgPSBzLA0KICAgICAgICAg
ICAgICAgICAgICAgICAgUiA9IFQucmFuZ2VCYW5kKCkgLyAyOw0KICAgICAgICAg
ICAgICAgICAgICBmID0gcyA9IGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgICAg
ICAgICAgICAgIHJldHVybiBUKG4pICsgUg0KICAgICAgICAgICAgICAgICAgICB9
DQogICAgICAgICAgICAgICAgfSBlbHNlIGYucmFuZ2VCYW5kID8gZiA9IHMgOiBk
LmNhbGwobiwgcywgZik7DQogICAgICAgICAgICAgICAgdi5jYWxsKG4sIGYsIHMp
LCB5LmNhbGwobiwgcywgcykNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NCiAg
ICAgICAgdmFyIHQsIGUgPSBhby5zY2FsZS5saW5lYXIoKSwNCiAgICAgICAgICAg
IHIgPSBWbCwNCiAgICAgICAgICAgIGkgPSA2LA0KICAgICAgICAgICAgdSA9IDYs
DQogICAgICAgICAgICBvID0gMywNCiAgICAgICAgICAgIGEgPSBbMTBdLA0KICAg
ICAgICAgICAgbCA9IG51bGw7DQogICAgICAgIHJldHVybiBuLnNjYWxlID0gZnVu
Y3Rpb24odCkgew0KICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgg
PyAoZSA9IHQsIG4pIDogZQ0KICAgICAgICB9LCBuLm9yaWVudCA9IGZ1bmN0aW9u
KHQpIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHIg
PSB0IGluIFhsID8gdCArICIiIDogVmwsIG4pIDogcg0KICAgICAgICB9LCBuLnRp
Y2tzID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICByZXR1cm4gYXJndW1lbnRz
Lmxlbmd0aCA/IChhID0gY28oYXJndW1lbnRzKSwgbikgOiBhDQogICAgICAgIH0s
IG4udGlja1ZhbHVlcyA9IGZ1bmN0aW9uKHQpIHsNCiAgICAgICAgICAgIHJldHVy
biBhcmd1bWVudHMubGVuZ3RoID8gKGwgPSB0LCBuKSA6IGwNCiAgICAgICAgfSwg
bi50aWNrRm9ybWF0ID0gZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgcmV0dXJu
IGFyZ3VtZW50cy5sZW5ndGggPyAodCA9IGUsIG4pIDogdA0KICAgICAgICB9LCBu
LnRpY2tTaXplID0gZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgdmFyIGUgPSBh
cmd1bWVudHMubGVuZ3RoOw0KICAgICAgICAgICAgcmV0dXJuIGUgPyAoaSA9ICt0
LCB1ID0gK2FyZ3VtZW50c1tlIC0gMV0sIG4pIDogaQ0KICAgICAgICB9LCBuLmlu
bmVyVGlja1NpemUgPSBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1cm4g
YXJndW1lbnRzLmxlbmd0aCA/IChpID0gK3QsIG4pIDogaQ0KICAgICAgICB9LCBu
Lm91dGVyVGlja1NpemUgPSBmdW5jdGlvbih0KSB7DQogICAgICAgICAgICByZXR1
cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh1ID0gK3QsIG4pIDogdQ0KICAgICAgICB9
LCBuLnRpY2tQYWRkaW5nID0gZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgcmV0
dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAobyA9ICt0LCBuKSA6IG8NCiAgICAgICAg
fSwgbi50aWNrU3ViZGl2aWRlID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICBy
ZXR1cm4gYXJndW1lbnRzLmxlbmd0aCAmJiBuDQogICAgICAgIH0sIG4NCiAgICB9
Ow0KICAgIHZhciBWbCA9ICJib3R0b20iLA0KICAgICAgICBYbCA9IHsNCiAgICAg
ICAgICAgIHRvcDogMSwNCiAgICAgICAgICAgIHJpZ2h0OiAxLA0KICAgICAgICAg
ICAgYm90dG9tOiAxLA0KICAgICAgICAgICAgbGVmdDogMQ0KICAgICAgICB9Ow0K
ICAgIGFvLnN2Zy5icnVzaCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICBmdW5jdGlv
biBuKHQpIHsNCiAgICAgICAgICAgIHQuZWFjaChmdW5jdGlvbigpIHsNCiAgICAg
ICAgICAgICAgICB2YXIgdCA9IGFvLnNlbGVjdCh0aGlzKS5zdHlsZSgicG9pbnRl
ci1ldmVudHMiLCAiYWxsIikuc3R5bGUoIi13ZWJraXQtdGFwLWhpZ2hsaWdodC1j
b2xvciIsICJyZ2JhKDAsMCwwLDApIikub24oIm1vdXNlZG93bi5icnVzaCIsIHUp
Lm9uKCJ0b3VjaHN0YXJ0LmJydXNoIiwgdSksDQogICAgICAgICAgICAgICAgICAg
IG8gPSB0LnNlbGVjdEFsbCgiLmJhY2tncm91bmQiKS5kYXRhKFswXSk7DQogICAg
ICAgICAgICAgICAgby5lbnRlcigpLmFwcGVuZCgicmVjdCIpLmF0dHIoImNsYXNz
IiwgImJhY2tncm91bmQiKS5zdHlsZSgidmlzaWJpbGl0eSIsICJoaWRkZW4iKS5z
dHlsZSgiY3Vyc29yIiwgImNyb3NzaGFpciIpLCB0LnNlbGVjdEFsbCgiLmV4dGVu
dCIpLmRhdGEoWzBdKS5lbnRlcigpLmFwcGVuZCgicmVjdCIpLmF0dHIoImNsYXNz
IiwgImV4dGVudCIpLnN0eWxlKCJjdXJzb3IiLCAibW92ZSIpOw0KICAgICAgICAg
ICAgICAgIHZhciBhID0gdC5zZWxlY3RBbGwoIi5yZXNpemUiKS5kYXRhKHYsIG0p
Ow0KICAgICAgICAgICAgICAgIGEuZXhpdCgpLnJlbW92ZSgpLCBhLmVudGVyKCku
YXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLCBmdW5jdGlvbihuKSB7DQogICAgICAg
ICAgICAgICAgICAgIHJldHVybiAicmVzaXplICIgKyBuDQogICAgICAgICAgICAg
ICAgfSkuc3R5bGUoImN1cnNvciIsIGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAg
ICAgICAgICAgcmV0dXJuICRsW25dDQogICAgICAgICAgICAgICAgfSkuYXBwZW5k
KCJyZWN0IikuYXR0cigieCIsIGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgICAg
ICAgICAgcmV0dXJuIC9bZXddJC8udGVzdChuKSA/IC0zIDogbnVsbA0KICAgICAg
ICAgICAgICAgIH0pLmF0dHIoInkiLCBmdW5jdGlvbihuKSB7DQogICAgICAgICAg
ICAgICAgICAgIHJldHVybiAvXltuc10vLnRlc3QobikgPyAtMyA6IG51bGwNCiAg
ICAgICAgICAgICAgICB9KS5hdHRyKCJ3aWR0aCIsIDYpLmF0dHIoImhlaWdodCIs
IDYpLnN0eWxlKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpLCBhLnN0eWxlKCJkaXNw
bGF5Iiwgbi5lbXB0eSgpID8gIm5vbmUiIDogbnVsbCk7DQogICAgICAgICAgICAg
ICAgdmFyIGwsIHMgPSBhby50cmFuc2l0aW9uKHQpLA0KICAgICAgICAgICAgICAg
ICAgICBoID0gYW8udHJhbnNpdGlvbihvKTsNCiAgICAgICAgICAgICAgICBjICYm
IChsID0gWmkoYyksIGguYXR0cigieCIsIGxbMF0pLmF0dHIoIndpZHRoIiwgbFsx
XSAtIGxbMF0pLCByKHMpKSwgZiAmJiAobCA9IFppKGYpLCBoLmF0dHIoInkiLCBs
WzBdKS5hdHRyKCJoZWlnaHQiLCBsWzFdIC0gbFswXSksIGkocykpLCBlKHMpDQog
ICAgICAgICAgICB9KQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gZShu
KSB7DQogICAgICAgICAgICBuLnNlbGVjdEFsbCgiLnJlc2l6ZSIpLmF0dHIoInRy
YW5zZm9ybSIsIGZ1bmN0aW9uKG4pIHsNCiAgICAgICAgICAgICAgICByZXR1cm4g
InRyYW5zbGF0ZSgiICsgc1srL2UkLy50ZXN0KG4pXSArICIsIiArIGhbKy9ecy8u
dGVzdChuKV0gKyAiKSINCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NCg0KICAg
ICAgICBmdW5jdGlvbiByKG4pIHsNCiAgICAgICAgICAgIG4uc2VsZWN0KCIuZXh0
ZW50IikuYXR0cigieCIsIHNbMF0pLCBuLnNlbGVjdEFsbCgiLmV4dGVudCwubj5y
ZWN0LC5zPnJlY3QiKS5hdHRyKCJ3aWR0aCIsIHNbMV0gLSBzWzBdKQ0KICAgICAg
ICB9DQoNCiAgICAgICAgZnVuY3Rpb24gaShuKSB7DQogICAgICAgICAgICBuLnNl
bGVjdCgiLmV4dGVudCIpLmF0dHIoInkiLCBoWzBdKSwgbi5zZWxlY3RBbGwoIi5l
eHRlbnQsLmU+cmVjdCwudz5yZWN0IikuYXR0cigiaGVpZ2h0IiwgaFsxXSAtIGhb
MF0pDQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiB1KCkgew0KICAgICAg
ICAgICAgZnVuY3Rpb24gdSgpIHsNCiAgICAgICAgICAgICAgICAzMiA9PSBhby5l
dmVudC5rZXlDb2RlICYmIChDIHx8IChNID0gbnVsbCwgTFswXSAtPSBzWzFdLCBM
WzFdIC09IGhbMV0sIEMgPSAyKSwgUygpKQ0KICAgICAgICAgICAgfQ0KDQogICAg
ICAgICAgICBmdW5jdGlvbiB2KCkgew0KICAgICAgICAgICAgICAgIDMyID09IGFv
LmV2ZW50LmtleUNvZGUgJiYgMiA9PSBDICYmIChMWzBdICs9IHNbMV0sIExbMV0g
Kz0gaFsxXSwgQyA9IDAsIFMoKSkNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAg
ICAgZnVuY3Rpb24gZCgpIHsNCiAgICAgICAgICAgICAgICB2YXIgbiA9IGFvLm1v
dXNlKGIpLA0KICAgICAgICAgICAgICAgICAgICB0ID0gITE7DQogICAgICAgICAg
ICAgICAgeCAmJiAoblswXSArPSB4WzBdLCBuWzFdICs9IHhbMV0pLCBDIHx8IChh
by5ldmVudC5hbHRLZXkgPyAoTSB8fCAoTSA9IFsoc1swXSArIHNbMV0pIC8gMiwg
KGhbMF0gKyBoWzFdKSAvIDJdKSwgTFswXSA9IHNbKyhuWzBdIDwgTVswXSldLCBM
WzFdID0gaFsrKG5bMV0gPCBNWzFdKV0pIDogTSA9IG51bGwpLCBFICYmIHkobiwg
YywgMCkgJiYgKHIoayksIHQgPSAhMCksIEEgJiYgeShuLCBmLCAxKSAmJiAoaShr
KSwgdCA9ICEwKSwgdCAmJiAoZShrKSwgdyh7DQogICAgICAgICAgICAgICAgICAg
IHR5cGU6ICJicnVzaCIsDQogICAgICAgICAgICAgICAgICAgIG1vZGU6IEMgPyAi
bW92ZSIgOiAicmVzaXplIg0KICAgICAgICAgICAgICAgIH0pKQ0KICAgICAgICAg
ICAgfQ0KDQogICAgICAgICAgICBmdW5jdGlvbiB5KG4sIHQsIGUpIHsNCiAgICAg
ICAgICAgICAgICB2YXIgciwgaSwgdSA9IFppKHQpLA0KICAgICAgICAgICAgICAg
ICAgICBsID0gdVswXSwNCiAgICAgICAgICAgICAgICAgICAgYyA9IHVbMV0sDQog
ICAgICAgICAgICAgICAgICAgIGYgPSBMW2VdLA0KICAgICAgICAgICAgICAgICAg
ICB2ID0gZSA/IGggOiBzLA0KICAgICAgICAgICAgICAgICAgICBkID0gdlsxXSAt
IHZbMF07DQogICAgICAgICAgICAgICAgcmV0dXJuIEMgJiYgKGwgLT0gZiwgYyAt
PSBkICsgZiksIHIgPSAoZSA/IGcgOiBwKSA/IE1hdGgubWF4KGwsIE1hdGgubWlu
KGMsIG5bZV0pKSA6IG5bZV0sIEMgPyBpID0gKHIgKz0gZikgKyBkIDogKE0gJiYg
KGYgPSBNYXRoLm1heChsLCBNYXRoLm1pbihjLCAyICogTVtlXSAtIHIpKSksIHIg
PiBmID8gKGkgPSByLCByID0gZikgOiBpID0gZiksIHZbMF0gIT0gciB8fCB2WzFd
ICE9IGkgPyAoZSA/IGEgPSBudWxsIDogbyA9IG51bGwsIHZbMF0gPSByLCB2WzFd
ID0gaSwgITApIDogdm9pZCAwDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAg
IGZ1bmN0aW9uIG0oKSB7DQogICAgICAgICAgICAgICAgZCgpLCBrLnN0eWxlKCJw
b2ludGVyLWV2ZW50cyIsICJhbGwiKS5zZWxlY3RBbGwoIi5yZXNpemUiKS5zdHls
ZSgiZGlzcGxheSIsIG4uZW1wdHkoKSA/ICJub25lIiA6IG51bGwpLCBhby5zZWxl
Y3QoImJvZHkiKS5zdHlsZSgiY3Vyc29yIiwgbnVsbCksIHEub24oIm1vdXNlbW92
ZS5icnVzaCIsIG51bGwpLm9uKCJtb3VzZXVwLmJydXNoIiwgbnVsbCkub24oInRv
dWNobW92ZS5icnVzaCIsIG51bGwpLm9uKCJ0b3VjaGVuZC5icnVzaCIsIG51bGwp
Lm9uKCJrZXlkb3duLmJydXNoIiwgbnVsbCkub24oImtleXVwLmJydXNoIiwgbnVs
bCksIHooKSwgdyh7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJicnVzaGVu
ZCINCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAg
ICAgdmFyIE0sIHgsIGIgPSB0aGlzLA0KICAgICAgICAgICAgICAgIF8gPSBhby5z
ZWxlY3QoYW8uZXZlbnQudGFyZ2V0KSwNCiAgICAgICAgICAgICAgICB3ID0gbC5v
ZihiLCBhcmd1bWVudHMpLA0KICAgICAgICAgICAgICAgIGsgPSBhby5zZWxlY3Qo
YiksDQogICAgICAgICAgICAgICAgTiA9IF8uZGF0dW0oKSwNCiAgICAgICAgICAg
ICAgICBFID0gIS9eKG58cykkLy50ZXN0KE4pICYmIGMsDQogICAgICAgICAgICAg
ICAgQSA9ICEvXihlfHcpJC8udGVzdChOKSAmJiBmLA0KICAgICAgICAgICAgICAg
IEMgPSBfLmNsYXNzZWQoImV4dGVudCIpLA0KICAgICAgICAgICAgICAgIHogPSBX
KGIpLA0KICAgICAgICAgICAgICAgIEwgPSBhby5tb3VzZShiKSwNCiAgICAgICAg
ICAgICAgICBxID0gYW8uc2VsZWN0KHQoYikpLm9uKCJrZXlkb3duLmJydXNoIiwg
dSkub24oImtleXVwLmJydXNoIiwgdik7DQogICAgICAgICAgICBpZiAoYW8uZXZl
bnQuY2hhbmdlZFRvdWNoZXMgPyBxLm9uKCJ0b3VjaG1vdmUuYnJ1c2giLCBkKS5v
bigidG91Y2hlbmQuYnJ1c2giLCBtKSA6IHEub24oIm1vdXNlbW92ZS5icnVzaCIs
IGQpLm9uKCJtb3VzZXVwLmJydXNoIiwgbSksIGsuaW50ZXJydXB0KCkuc2VsZWN0
QWxsKCIqIikuaW50ZXJydXB0KCksIEMpIExbMF0gPSBzWzBdIC0gTFswXSwgTFsx
XSA9IGhbMF0gLSBMWzFdOw0KICAgICAgICAgICAgZWxzZSBpZiAoTikgew0KICAg
ICAgICAgICAgICAgIHZhciBUID0gKy93JC8udGVzdChOKSwNCiAgICAgICAgICAg
ICAgICAgICAgUiA9ICsvXm4vLnRlc3QoTik7DQogICAgICAgICAgICAgICAgeCA9
IFtzWzEgLSBUXSAtIExbMF0sIGhbMSAtIFJdIC0gTFsxXV0sIExbMF0gPSBzW1Rd
LCBMWzFdID0gaFtSXQ0KICAgICAgICAgICAgfSBlbHNlIGFvLmV2ZW50LmFsdEtl
eSAmJiAoTSA9IEwuc2xpY2UoKSk7DQogICAgICAgICAgICBrLnN0eWxlKCJwb2lu
dGVyLWV2ZW50cyIsICJub25lIikuc2VsZWN0QWxsKCIucmVzaXplIikuc3R5bGUo
ImRpc3BsYXkiLCBudWxsKSwgYW8uc2VsZWN0KCJib2R5Iikuc3R5bGUoImN1cnNv
ciIsIF8uc3R5bGUoImN1cnNvciIpKSwgdyh7DQogICAgICAgICAgICAgICAgdHlw
ZTogImJydXNoc3RhcnQiDQogICAgICAgICAgICB9KSwgZCgpDQogICAgICAgIH0N
CiAgICAgICAgdmFyIG8sIGEsIGwgPSBOKG4sICJicnVzaHN0YXJ0IiwgImJydXNo
IiwgImJydXNoZW5kIiksDQogICAgICAgICAgICBjID0gbnVsbCwNCiAgICAgICAg
ICAgIGYgPSBudWxsLA0KICAgICAgICAgICAgcyA9IFswLCAwXSwNCiAgICAgICAg
ICAgIGggPSBbMCwgMF0sDQogICAgICAgICAgICBwID0gITAsDQogICAgICAgICAg
ICBnID0gITAsDQogICAgICAgICAgICB2ID0gQmxbMF07DQogICAgICAgIHJldHVy
biBuLmV2ZW50ID0gZnVuY3Rpb24obikgew0KICAgICAgICAgICAgbi5lYWNoKGZ1
bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIHZhciBuID0gbC5vZih0aGlzLCBh
cmd1bWVudHMpLA0KICAgICAgICAgICAgICAgICAgICB0ID0gew0KICAgICAgICAg
ICAgICAgICAgICAgICAgeDogcywNCiAgICAgICAgICAgICAgICAgICAgICAgIHk6
IGgsDQogICAgICAgICAgICAgICAgICAgICAgICBpOiBvLA0KICAgICAgICAgICAg
ICAgICAgICAgICAgajogYQ0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAg
ICAgICAgICAgICAgICBlID0gdGhpcy5fX2NoYXJ0X18gfHwgdDsNCiAgICAgICAg
ICAgICAgICB0aGlzLl9fY2hhcnRfXyA9IHQsIEhsID8gYW8uc2VsZWN0KHRoaXMp
LnRyYW5zaXRpb24oKS5lYWNoKCJzdGFydC5icnVzaCIsIGZ1bmN0aW9uKCkgew0K
ICAgICAgICAgICAgICAgICAgICBvID0gZS5pLCBhID0gZS5qLCBzID0gZS54LCBo
ID0gZS55LCBuKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJicnVz
aHN0YXJ0Ig0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAg
IH0pLnR3ZWVuKCJicnVzaDpicnVzaCIsIGZ1bmN0aW9uKCkgew0KICAgICAgICAg
ICAgICAgICAgICB2YXIgZSA9IHhyKHMsIHQueCksDQogICAgICAgICAgICAgICAg
ICAgICAgICByID0geHIoaCwgdC55KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0
dXJuIG8gPSBhID0gbnVsbCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0
aW9uKGkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzID0gdC54ID0g
ZShpKSwgaCA9IHQueSA9IHIoaSksIG4oew0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICB0eXBlOiAiYnJ1c2giLA0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBtb2RlOiAicmVzaXplIg0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAg
ICAgICAgfSkuZWFjaCgiZW5kLmJydXNoIiwgZnVuY3Rpb24oKSB7DQogICAgICAg
ICAgICAgICAgICAgIG8gPSB0LmksIGEgPSB0LmosIG4oew0KICAgICAgICAgICAg
ICAgICAgICAgICAgdHlwZTogImJydXNoIiwNCiAgICAgICAgICAgICAgICAgICAg
ICAgIG1vZGU6ICJyZXNpemUiDQogICAgICAgICAgICAgICAgICAgIH0pLCBuKHsN
CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJicnVzaGVuZCINCiAgICAg
ICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9KSA6IChuKHsNCiAg
ICAgICAgICAgICAgICAgICAgdHlwZTogImJydXNoc3RhcnQiDQogICAgICAgICAg
ICAgICAgfSksIG4oew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAiYnJ1c2gi
LA0KICAgICAgICAgICAgICAgICAgICBtb2RlOiAicmVzaXplIg0KICAgICAgICAg
ICAgICAgIH0pLCBuKHsNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogImJydXNo
ZW5kIg0KICAgICAgICAgICAgICAgIH0pKQ0KICAgICAgICAgICAgfSkNCiAgICAg
ICAgfSwgbi54ID0gZnVuY3Rpb24odCkgew0KICAgICAgICAgICAgcmV0dXJuIGFy
Z3VtZW50cy5sZW5ndGggPyAoYyA9IHQsIHYgPSBCbFshYyA8PCAxIHwgIWZdLCBu
KSA6IGMNCiAgICAgICAgfSwgbi55ID0gZnVuY3Rpb24odCkgew0KICAgICAgICAg
ICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoZiA9IHQsIHYgPSBCbFshYyA8
PCAxIHwgIWZdLCBuKSA6IGYNCiAgICAgICAgfSwgbi5jbGFtcCA9IGZ1bmN0aW9u
KHQpIHsNCiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGMg
JiYgZiA/IChwID0gISF0WzBdLCBnID0gISF0WzFdKSA6IGMgPyBwID0gISF0IDog
ZiAmJiAoZyA9ICEhdCksIG4pIDogYyAmJiBmID8gW3AsIGddIDogYyA/IHAgOiBm
ID8gZyA6IG51bGwNCiAgICAgICAgfSwgbi5leHRlbnQgPSBmdW5jdGlvbih0KSB7
DQogICAgICAgICAgICB2YXIgZSwgciwgaSwgdSwgbDsNCiAgICAgICAgICAgIHJl
dHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGMgJiYgKGUgPSB0WzBdLCByID0gdFsx
XSwgZiAmJiAoZSA9IGVbMF0sIHIgPSByWzBdKSwgbyA9IFtlLCByXSwgYy5pbnZl
cnQgJiYgKGUgPSBjKGUpLCByID0gYyhyKSksIGUgPiByICYmIChsID0gZSwgZSA9
IHIsIHIgPSBsKSwgZSA9PSBzWzBdICYmIHIgPT0gc1sxXSB8fCAocyA9IFtlLCBy
XSkpLCBmICYmIChpID0gdFswXSwgdSA9IHRbMV0sIGMgJiYgKGkgPSBpWzFdLCB1
ID0gdVsxXSksIGEgPSBbaSwgdV0sIGYuaW52ZXJ0ICYmIChpID0gZihpKSwgdSA9
IGYodSkpLCBpID4gdSAmJiAobCA9IGksIGkgPSB1LCB1ID0gbCksIGkgPT0gaFsw
XSAmJiB1ID09IGhbMV0gfHwgKGggPSBbaSwgdV0pKSwgbikgOiAoYyAmJiAobyA/
IChlID0gb1swXSwgciA9IG9bMV0pIDogKGUgPSBzWzBdLCByID0gc1sxXSwgYy5p
bnZlcnQgJiYgKGUgPSBjLmludmVydChlKSwgciA9IGMuaW52ZXJ0KHIpKSwgZSA+
IHIgJiYgKGwgPSBlLCBlID0gciwgciA9IGwpKSksIGYgJiYgKGEgPyAoaSA9IGFb
MF0sIHUgPSBhWzFdKSA6IChpID0gaFswXSwgdSA9IGhbMV0sIGYuaW52ZXJ0ICYm
IChpID0gZi5pbnZlcnQoaSksIHUgPSBmLmludmVydCh1KSksIGkgPiB1ICYmIChs
ID0gaSwgaSA9IHUsIHUgPSBsKSkpLCBjICYmIGYgPyBbDQogICAgICAgICAgICAg
ICAgW2UsIGldLA0KICAgICAgICAgICAgICAgIFtyLCB1XQ0KICAgICAgICAgICAg
XSA6IGMgPyBbZSwgcl0gOiBmICYmIFtpLCB1XSkNCiAgICAgICAgfSwgbi5jbGVh
ciA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgcmV0dXJuIG4uZW1wdHkoKSB8
fCAocyA9IFswLCAwXSwgaCA9IFswLCAwXSwgbyA9IGEgPSBudWxsKSwgbg0KICAg
ICAgICB9LCBuLmVtcHR5ID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICByZXR1
cm4gISFjICYmIHNbMF0gPT0gc1sxXSB8fCAhIWYgJiYgaFswXSA9PSBoWzFdDQog
ICAgICAgIH0sIGFvLnJlYmluZChuLCBsLCAib24iKQ0KICAgIH07DQogICAgdmFy
ICRsID0gew0KICAgICAgICAgICAgbjogIm5zLXJlc2l6ZSIsDQogICAgICAgICAg
ICBlOiAiZXctcmVzaXplIiwNCiAgICAgICAgICAgIHM6ICJucy1yZXNpemUiLA0K
ICAgICAgICAgICAgdzogImV3LXJlc2l6ZSIsDQogICAgICAgICAgICBudzogIm53
c2UtcmVzaXplIiwNCiAgICAgICAgICAgIG5lOiAibmVzdy1yZXNpemUiLA0KICAg
ICAgICAgICAgc2U6ICJud3NlLXJlc2l6ZSIsDQogICAgICAgICAgICBzdzogIm5l
c3ctcmVzaXplIg0KICAgICAgICB9LA0KICAgICAgICBCbCA9IFsNCiAgICAgICAg
ICAgIFsibiIsICJlIiwgInMiLCAidyIsICJudyIsICJuZSIsICJzZSIsICJzdyJd
LA0KICAgICAgICAgICAgWyJlIiwgInciXSwNCiAgICAgICAgICAgIFsibiIsICJz
Il0sDQogICAgICAgICAgICBbXQ0KICAgICAgICBdLA0KICAgICAgICBXbCA9IGdh
LmZvcm1hdCA9IHhhLnRpbWVGb3JtYXQsDQogICAgICAgIEpsID0gV2wudXRjLA0K
ICAgICAgICBHbCA9IEpsKCIlWS0lbS0lZFQlSDolTTolUy4lTFoiKTsNCiAgICBX
bC5pc28gPSBEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZyAmJiArbmV3IERhdGUo
IjIwMDAtMDEtMDFUMDA6MDA6MDAuMDAwWiIpID8gZW8gOiBHbCwgZW8ucGFyc2Ug
PSBmdW5jdGlvbihuKSB7DQogICAgICAgIHZhciB0ID0gbmV3IERhdGUobik7DQog
ICAgICAgIHJldHVybiBpc05hTih0KSA/IG51bGwgOiB0DQogICAgfSwgZW8udG9T
dHJpbmcgPSBHbC50b1N0cmluZywgZ2Euc2Vjb25kID0gT24oZnVuY3Rpb24obikg
ew0KICAgICAgICByZXR1cm4gbmV3IHZhKDFlMyAqIE1hdGguZmxvb3IobiAvIDFl
MykpDQogICAgfSwgZnVuY3Rpb24obiwgdCkgew0KICAgICAgICBuLnNldFRpbWUo
bi5nZXRUaW1lKCkgKyAxZTMgKiBNYXRoLmZsb29yKHQpKQ0KICAgIH0sIGZ1bmN0
aW9uKG4pIHsNCiAgICAgICAgcmV0dXJuIG4uZ2V0U2Vjb25kcygpDQogICAgfSks
IGdhLnNlY29uZHMgPSBnYS5zZWNvbmQucmFuZ2UsIGdhLnNlY29uZHMudXRjID0g
Z2Euc2Vjb25kLnV0Yy5yYW5nZSwgZ2EubWludXRlID0gT24oZnVuY3Rpb24obikg
ew0KICAgICAgICByZXR1cm4gbmV3IHZhKDZlNCAqIE1hdGguZmxvb3IobiAvIDZl
NCkpDQogICAgfSwgZnVuY3Rpb24obiwgdCkgew0KICAgICAgICBuLnNldFRpbWUo
bi5nZXRUaW1lKCkgKyA2ZTQgKiBNYXRoLmZsb29yKHQpKQ0KICAgIH0sIGZ1bmN0
aW9uKG4pIHsNCiAgICAgICAgcmV0dXJuIG4uZ2V0TWludXRlcygpDQogICAgfSks
IGdhLm1pbnV0ZXMgPSBnYS5taW51dGUucmFuZ2UsIGdhLm1pbnV0ZXMudXRjID0g
Z2EubWludXRlLnV0Yy5yYW5nZSwgZ2EuaG91ciA9IE9uKGZ1bmN0aW9uKG4pIHsN
CiAgICAgICAgdmFyIHQgPSBuLmdldFRpbWV6b25lT2Zmc2V0KCkgLyA2MDsNCiAg
ICAgICAgcmV0dXJuIG5ldyB2YSgzNmU1ICogKE1hdGguZmxvb3IobiAvIDM2ZTUg
LSB0KSArIHQpKQ0KICAgIH0sIGZ1bmN0aW9uKG4sIHQpIHsNCiAgICAgICAgbi5z
ZXRUaW1lKG4uZ2V0VGltZSgpICsgMzZlNSAqIE1hdGguZmxvb3IodCkpDQogICAg
fSwgZnVuY3Rpb24obikgew0KICAgICAgICByZXR1cm4gbi5nZXRIb3VycygpDQog
ICAgfSksIGdhLmhvdXJzID0gZ2EuaG91ci5yYW5nZSwgZ2EuaG91cnMudXRjID0g
Z2EuaG91ci51dGMucmFuZ2UsIGdhLm1vbnRoID0gT24oZnVuY3Rpb24obikgew0K
ICAgICAgICByZXR1cm4gbiA9IGdhLmRheShuKSwgbi5zZXREYXRlKDEpLCBuDQog
ICAgfSwgZnVuY3Rpb24obiwgdCkgew0KICAgICAgICBuLnNldE1vbnRoKG4uZ2V0
TW9udGgoKSArIHQpDQogICAgfSwgZnVuY3Rpb24obikgew0KICAgICAgICByZXR1
cm4gbi5nZXRNb250aCgpDQogICAgfSksIGdhLm1vbnRocyA9IGdhLm1vbnRoLnJh
bmdlLCBnYS5tb250aHMudXRjID0gZ2EubW9udGgudXRjLnJhbmdlOw0KICAgIHZh
ciBLbCA9IFsxZTMsIDVlMywgMTVlMywgM2U0LCA2ZTQsIDNlNSwgOWU1LCAxOGU1
LCAzNmU1LCAxMDhlNSwgMjE2ZTUsIDQzMmU1LCA4NjRlNSwgMTcyOGU1LCA2MDQ4
ZTUsIDI1OTJlNiwgNzc3NmU2LCAzMTUzNmU2XSwNCiAgICAgICAgUWwgPSBbDQog
ICAgICAgICAgICBbZ2Euc2Vjb25kLCAxXSwNCiAgICAgICAgICAgIFtnYS5zZWNv
bmQsIDVdLA0KICAgICAgICAgICAgW2dhLnNlY29uZCwgMTVdLA0KICAgICAgICAg
ICAgW2dhLnNlY29uZCwgMzBdLA0KICAgICAgICAgICAgW2dhLm1pbnV0ZSwgMV0s
DQogICAgICAgICAgICBbZ2EubWludXRlLCA1XSwNCiAgICAgICAgICAgIFtnYS5t
aW51dGUsIDE1XSwNCiAgICAgICAgICAgIFtnYS5taW51dGUsIDMwXSwNCiAgICAg
ICAgICAgIFtnYS5ob3VyLCAxXSwNCiAgICAgICAgICAgIFtnYS5ob3VyLCAzXSwN
CiAgICAgICAgICAgIFtnYS5ob3VyLCA2XSwNCiAgICAgICAgICAgIFtnYS5ob3Vy
LCAxMl0sDQogICAgICAgICAgICBbZ2EuZGF5LCAxXSwNCiAgICAgICAgICAgIFtn
YS5kYXksIDJdLA0KICAgICAgICAgICAgW2dhLndlZWssIDFdLA0KICAgICAgICAg
ICAgW2dhLm1vbnRoLCAxXSwNCiAgICAgICAgICAgIFtnYS5tb250aCwgM10sDQog
ICAgICAgICAgICBbZ2EueWVhciwgMV0NCiAgICAgICAgXSwNCiAgICAgICAgbmMg
PSBXbC5tdWx0aShbDQogICAgICAgICAgICBbIi4lTCIsIGZ1bmN0aW9uKG4pIHsN
CiAgICAgICAgICAgICAgICByZXR1cm4gbi5nZXRNaWxsaXNlY29uZHMoKQ0KICAg
ICAgICAgICAgfV0sDQogICAgICAgICAgICBbIjolUyIsIGZ1bmN0aW9uKG4pIHsN
CiAgICAgICAgICAgICAgICByZXR1cm4gbi5nZXRTZWNvbmRzKCkNCiAgICAgICAg
ICAgIH1dLA0KICAgICAgICAgICAgWyIlSTolTSIsIGZ1bmN0aW9uKG4pIHsNCiAg
ICAgICAgICAgICAgICByZXR1cm4gbi5nZXRNaW51dGVzKCkNCiAgICAgICAgICAg
IH1dLA0KICAgICAgICAgICAgWyIlSSAlcCIsIGZ1bmN0aW9uKG4pIHsNCiAgICAg
ICAgICAgICAgICByZXR1cm4gbi5nZXRIb3VycygpDQogICAgICAgICAgICB9XSwN
CiAgICAgICAgICAgIFsiJWEgJWQiLCBmdW5jdGlvbihuKSB7DQogICAgICAgICAg
ICAgICAgcmV0dXJuIG4uZ2V0RGF5KCkgJiYgMSAhPSBuLmdldERhdGUoKQ0KICAg
ICAgICAgICAgfV0sDQogICAgICAgICAgICBbIiViICVkIiwgZnVuY3Rpb24obikg
ew0KICAgICAgICAgICAgICAgIHJldHVybiAxICE9IG4uZ2V0RGF0ZSgpDQogICAg
ICAgICAgICB9XSwNCiAgICAgICAgICAgIFsiJUIiLCBmdW5jdGlvbihuKSB7DQog
ICAgICAgICAgICAgICAgcmV0dXJuIG4uZ2V0TW9udGgoKQ0KICAgICAgICAgICAg
fV0sDQogICAgICAgICAgICBbIiVZIiwgenRdDQogICAgICAgIF0pLA0KICAgICAg
ICB0YyA9IHsNCiAgICAgICAgICAgIHJhbmdlOiBmdW5jdGlvbihuLCB0LCBlKSB7
DQogICAgICAgICAgICAgICAgcmV0dXJuIGFvLnJhbmdlKE1hdGguY2VpbChuIC8g
ZSkgKiBlLCArdCwgZSkubWFwKGlvKQ0KICAgICAgICAgICAgfSwNCiAgICAgICAg
ICAgIGZsb29yOiBtLA0KICAgICAgICAgICAgY2VpbDogbQ0KICAgICAgICB9Ow0K
ICAgIFFsLnllYXIgPSBnYS55ZWFyLCBnYS5zY2FsZSA9IGZ1bmN0aW9uKCkgew0K
ICAgICAgICByZXR1cm4gcm8oYW8uc2NhbGUubGluZWFyKCksIFFsLCBuYykNCiAg
ICB9Ow0KICAgIHZhciBlYyA9IFFsLm1hcChmdW5jdGlvbihuKSB7DQogICAgICAg
ICAgICByZXR1cm4gW25bMF0udXRjLCBuWzFdXQ0KICAgICAgICB9KSwNCiAgICAg
ICAgcmMgPSBKbC5tdWx0aShbDQogICAgICAgICAgICBbIi4lTCIsIGZ1bmN0aW9u
KG4pIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbi5nZXRVVENNaWxsaXNlY29u
ZHMoKQ0KICAgICAgICAgICAgfV0sDQogICAgICAgICAgICBbIjolUyIsIGZ1bmN0
aW9uKG4pIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbi5nZXRVVENTZWNvbmRz
KCkNCiAgICAgICAgICAgIH1dLA0KICAgICAgICAgICAgWyIlSTolTSIsIGZ1bmN0
aW9uKG4pIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbi5nZXRVVENNaW51dGVz
KCkNCiAgICAgICAgICAgIH1dLA0KICAgICAgICAgICAgWyIlSSAlcCIsIGZ1bmN0
aW9uKG4pIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbi5nZXRVVENIb3Vycygp
DQogICAgICAgICAgICB9XSwNCiAgICAgICAgICAgIFsiJWEgJWQiLCBmdW5jdGlv
bihuKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG4uZ2V0VVRDRGF5KCkgJiYg
MSAhPSBuLmdldFVUQ0RhdGUoKQ0KICAgICAgICAgICAgfV0sDQogICAgICAgICAg
ICBbIiViICVkIiwgZnVuY3Rpb24obikgew0KICAgICAgICAgICAgICAgIHJldHVy
biAxICE9IG4uZ2V0VVRDRGF0ZSgpDQogICAgICAgICAgICB9XSwNCiAgICAgICAg
ICAgIFsiJUIiLCBmdW5jdGlvbihuKSB7DQogICAgICAgICAgICAgICAgcmV0dXJu
IG4uZ2V0VVRDTW9udGgoKQ0KICAgICAgICAgICAgfV0sDQogICAgICAgICAgICBb
IiVZIiwgenRdDQogICAgICAgIF0pOw0KICAgIGVjLnllYXIgPSBnYS55ZWFyLnV0
YywgZ2Euc2NhbGUudXRjID0gZnVuY3Rpb24oKSB7DQogICAgICAgIHJldHVybiBy
byhhby5zY2FsZS5saW5lYXIoKSwgZWMsIHJjKQ0KICAgIH0sIGFvLnRleHQgPSBB
bihmdW5jdGlvbihuKSB7DQogICAgICAgIHJldHVybiBuLnJlc3BvbnNlVGV4dA0K
ICAgIH0pLCBhby5qc29uID0gZnVuY3Rpb24obiwgdCkgew0KICAgICAgICByZXR1
cm4gQ24obiwgImFwcGxpY2F0aW9uL2pzb24iLCB1bywgdCkNCiAgICB9LCBhby5o
dG1sID0gZnVuY3Rpb24obiwgdCkgew0KICAgICAgICByZXR1cm4gQ24obiwgInRl
eHQvaHRtbCIsIG9vLCB0KQ0KICAgIH0sIGFvLnhtbCA9IEFuKGZ1bmN0aW9uKG4p
IHsNCiAgICAgICAgcmV0dXJuIG4ucmVzcG9uc2VYTUwNCiAgICB9KSwgImZ1bmN0
aW9uIiA9PSB0eXBlb2YgZGVmaW5lICYmIGRlZmluZS5hbWQgPyAodGhpcy5kMyA9
IGFvLCBkZWZpbmUoYW8pKSA6ICJvYmplY3QiID09IHR5cGVvZiBtb2R1bGUgJiYg
bW9kdWxlLmV4cG9ydHMgPyBtb2R1bGUuZXhwb3J0cyA9IGFvIDogdGhpcy5kMyA9
IGFvDQp9KCk7DQo8L3NjcmlwdD4NCjxzY3JpcHQ+DQovKkNvcHlyaWdodCAoYykg
MjAxMy0yMDE2LCBSb2IgU2NobXVlY2tlcg0KQWxsIHJpZ2h0cyByZXNlcnZlZC4N
Cg0KUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBm
b3Jtcywgd2l0aCBvciB3aXRob3V0DQptb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0
ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1l
dDoNCg0KKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRh
aW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMNCiAgbGlzdCBvZiBj
b25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuDQoNCiogUmVk
aXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBh
Ym92ZSBjb3B5cmlnaHQgbm90aWNlLA0KICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9u
cyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0
aW9uDQogIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUg
ZGlzdHJpYnV0aW9uLg0KDQoqIFRoZSBuYW1lIFJvYiBTY2htdWVja2VyIG1heSBu
b3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMNCiAgZGVy
aXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3
cml0dGVuIHBlcm1pc3Npb24uDQoNClRISVMgU09GVFdBUkUgSVMgUFJPVklERUQg
QlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgIkFTIElT
Ig0KQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVE
SU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRQ0KSU1QTElFRCBXQVJSQU5USUVT
IE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFS
IFBVUlBPU0UgQVJFDQpESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBNSUNI
QUVMIEJPU1RPQ0sgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULA0KSU5ESVJFQ1Qs
IElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElB
TCBEQU1BR0VTIChJTkNMVURJTkcsDQpCVVQgTk9UIExJTUlURUQgVE8sIFBST0NV
UkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0Yg
VVNFLA0KREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9O
KSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWQ0KT0YgTElBQklMSVRZ
LCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JU
IChJTkNMVURJTkcNCk5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElO
IEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwNCkVWRU4g
SUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuKi8N
Cg0KDQovLyBHZXQgSlNPTiBkYXRhDQp0cmVlSlNPTiA9IGQzLmpzb24oImh0dHBz
Oi8vYmwub2Nrcy5vcmcvcm9ic2NobXVlY2tlci9yYXcvNzg4MDAzMy9mbGFyZS5q
c29uIiwgZnVuY3Rpb24oZXJyb3IsIHRyZWVEYXRhKSB7DQoNCiAgICAvLyBDYWxj
dWxhdGUgdG90YWwgbm9kZXMsIG1heCBsYWJlbCBsZW5ndGgNCgl0cmVlRGF0YSA9
IF9fZGF0YV93aWxsX2xvY2F0ZV9oZXJlX187DQogICAgdmFyIHRvdGFsTm9kZXMg
PSAwOw0KICAgIHZhciBtYXhMYWJlbExlbmd0aCA9IDA7DQogICAgLy8gdmFyaWFi
bGVzIGZvciBkcmFnL2Ryb3ANCiAgICB2YXIgc2VsZWN0ZWROb2RlID0gbnVsbDsN
CiAgICB2YXIgZHJhZ2dpbmdOb2RlID0gbnVsbDsNCiAgICAvLyBwYW5uaW5nIHZh
cmlhYmxlcw0KICAgIHZhciBwYW5TcGVlZCA9IDIwMDsNCiAgICB2YXIgcGFuQm91
bmRhcnkgPSAyMDsgLy8gV2l0aGluIDIwcHggZnJvbSBlZGdlcyB3aWxsIHBhbiB3
aGVuIGRyYWdnaW5nLg0KICAgIC8vIE1pc2MuIHZhcmlhYmxlcw0KICAgIHZhciBp
ID0gMDsNCiAgICB2YXIgZHVyYXRpb24gPSA3NTA7DQogICAgdmFyIHJvb3Q7DQoN
CiAgICAvLyBzaXplIG9mIHRoZSBkaWFncmFtDQogICAgdmFyIHZpZXdlcldpZHRo
ID0gKCQod2luZG93KS53aWR0aCgpIC8gMTAwKSAqIDgwOw0KICAgIHZhciB2aWV3
ZXJIZWlnaHQgPSAoJCh3aW5kb3cpLmhlaWdodCgpIC8gMTAwICkgKiA2NTsNCg0K
ICAgIHZhciB0cmVlID0gZDMubGF5b3V0LnRyZWUoKQ0KICAgICAgICAuc2l6ZShb
dmlld2VySGVpZ2h0LCB2aWV3ZXJXaWR0aF0pOw0KDQogICAgLy8gZGVmaW5lIGEg
ZDMgZGlhZ29uYWwgcHJvamVjdGlvbiBmb3IgdXNlIGJ5IHRoZSBub2RlIHBhdGhz
IGxhdGVyIG9uLg0KICAgIHZhciBkaWFnb25hbCA9IGQzLnN2Zy5kaWFnb25hbCgp
DQogICAgICAgIC5wcm9qZWN0aW9uKGZ1bmN0aW9uKGQpIHsNCiAgICAgICAgICAg
IHJldHVybiBbZC55LCBkLnhdOw0KICAgICAgICB9KTsNCg0KICAgIC8vIEEgcmVj
dXJzaXZlIGhlbHBlciBmdW5jdGlvbiBmb3IgcGVyZm9ybWluZyBzb21lIHNldHVw
IGJ5IHdhbGtpbmcgdGhyb3VnaCBhbGwgbm9kZXMNCg0KICAgIGZ1bmN0aW9uIHZp
c2l0KHBhcmVudCwgdmlzaXRGbiwgY2hpbGRyZW5Gbikgew0KICAgICAgICBpZiAo
IXBhcmVudCkgcmV0dXJuOw0KDQogICAgICAgIHZpc2l0Rm4ocGFyZW50KTsNCg0K
ICAgICAgICB2YXIgY2hpbGRyZW4gPSBjaGlsZHJlbkZuKHBhcmVudCk7DQogICAg
ICAgIGlmIChjaGlsZHJlbikgew0KICAgICAgICAgICAgdmFyIGNvdW50ID0gY2hp
bGRyZW4ubGVuZ3RoOw0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBj
b3VudDsgaSsrKSB7DQogICAgICAgICAgICAgICAgdmlzaXQoY2hpbGRyZW5baV0s
IHZpc2l0Rm4sIGNoaWxkcmVuRm4pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9
DQogICAgfQ0KDQogICAgLy8gQ2FsbCB2aXNpdCBmdW5jdGlvbiB0byBlc3RhYmxp
c2ggbWF4TGFiZWxMZW5ndGgNCiAgICB2aXNpdCh0cmVlRGF0YSwgZnVuY3Rpb24o
ZCkgew0KICAgICAgICB0b3RhbE5vZGVzKys7DQogICAgICAgIG1heExhYmVsTGVu
Z3RoID0gTWF0aC5tYXgoZC5uYW1lLmxlbmd0aCwgbWF4TGFiZWxMZW5ndGgpOw0K
DQogICAgfSwgZnVuY3Rpb24oZCkgew0KICAgICAgICByZXR1cm4gZC5jaGlsZHJl
biAmJiBkLmNoaWxkcmVuLmxlbmd0aCA+IDAgPyBkLmNoaWxkcmVuIDogbnVsbDsN
CiAgICB9KTsNCg0KDQogICAgLy8gc29ydCB0aGUgdHJlZSBhY2NvcmRpbmcgdG8g
dGhlIG5vZGUgbmFtZXMNCg0KICAgIGZ1bmN0aW9uIHNvcnRUcmVlKCkgew0KICAg
ICAgICB0cmVlLnNvcnQoZnVuY3Rpb24oYSwgYikgew0KICAgICAgICAgICAgcmV0
dXJuIGIubmFtZS50b0xvd2VyQ2FzZSgpIDwgYS5uYW1lLnRvTG93ZXJDYXNlKCkg
PyAxIDogLTE7DQogICAgICAgIH0pOw0KICAgIH0NCiAgICAvLyBTb3J0IHRoZSB0
cmVlIGluaXRpYWxseSBpbmNhc2UgdGhlIEpTT04gaXNuJ3QgaW4gYSBzb3J0ZWQg
b3JkZXIuDQogICAgc29ydFRyZWUoKTsNCg0KICAgIC8vIFRPRE86IFBhbiBmdW5j
dGlvbiwgY2FuIGJlIGJldHRlciBpbXBsZW1lbnRlZC4NCg0KICAgIGZ1bmN0aW9u
IHBhbihkb21Ob2RlLCBkaXJlY3Rpb24pIHsNCiAgICAgICAgdmFyIHNwZWVkID0g
cGFuU3BlZWQ7DQogICAgICAgIGlmIChwYW5UaW1lcikgew0KICAgICAgICAgICAg
Y2xlYXJUaW1lb3V0KHBhblRpbWVyKTsNCiAgICAgICAgICAgIHRyYW5zbGF0ZUNv
b3JkcyA9IGQzLnRyYW5zZm9ybShzdmdHcm91cC5hdHRyKCJ0cmFuc2Zvcm0iKSk7
DQogICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09ICdsZWZ0JyB8fCBkaXJlY3Rp
b24gPT0gJ3JpZ2h0Jykgew0KICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVggPSBk
aXJlY3Rpb24gPT0gJ2xlZnQnID8gdHJhbnNsYXRlQ29vcmRzLnRyYW5zbGF0ZVsw
XSArIHNwZWVkIDogdHJhbnNsYXRlQ29vcmRzLnRyYW5zbGF0ZVswXSAtIHNwZWVk
Ow0KICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVkgPSB0cmFuc2xhdGVDb29yZHMu
dHJhbnNsYXRlWzFdOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24g
PT0gJ3VwJyB8fCBkaXJlY3Rpb24gPT0gJ2Rvd24nKSB7DQogICAgICAgICAgICAg
ICAgdHJhbnNsYXRlWCA9IHRyYW5zbGF0ZUNvb3Jkcy50cmFuc2xhdGVbMF07DQog
ICAgICAgICAgICAgICAgdHJhbnNsYXRlWSA9IGRpcmVjdGlvbiA9PSAndXAnID8g
dHJhbnNsYXRlQ29vcmRzLnRyYW5zbGF0ZVsxXSArIHNwZWVkIDogdHJhbnNsYXRl
Q29vcmRzLnRyYW5zbGF0ZVsxXSAtIHNwZWVkOw0KICAgICAgICAgICAgfQ0KICAg
ICAgICAgICAgc2NhbGVYID0gdHJhbnNsYXRlQ29vcmRzLnNjYWxlWzBdOw0KICAg
ICAgICAgICAgc2NhbGVZID0gdHJhbnNsYXRlQ29vcmRzLnNjYWxlWzFdOw0KICAg
ICAgICAgICAgc2NhbGUgPSB6b29tTGlzdGVuZXIuc2NhbGUoKTsNCiAgICAgICAg
ICAgIHN2Z0dyb3VwLnRyYW5zaXRpb24oKS5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJh
bnNsYXRlKCIgKyB0cmFuc2xhdGVYICsgIiwiICsgdHJhbnNsYXRlWSArICIpc2Nh
bGUoIiArIHNjYWxlICsgIikiKTsNCiAgICAgICAgICAgIGQzLnNlbGVjdChkb21O
b2RlKS5zZWxlY3QoJ2cubm9kZScpLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xh
dGUoIiArIHRyYW5zbGF0ZVggKyAiLCIgKyB0cmFuc2xhdGVZICsgIikiKTsNCiAg
ICAgICAgICAgIHpvb21MaXN0ZW5lci5zY2FsZSh6b29tTGlzdGVuZXIuc2NhbGUo
KSk7DQogICAgICAgICAgICB6b29tTGlzdGVuZXIudHJhbnNsYXRlKFt0cmFuc2xh
dGVYLCB0cmFuc2xhdGVZXSk7DQogICAgICAgICAgICBwYW5UaW1lciA9IHNldFRp
bWVvdXQoZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgcGFuKGRvbU5vZGUs
IHNwZWVkLCBkaXJlY3Rpb24pOw0KICAgICAgICAgICAgfSwgNTApOw0KICAgICAg
ICB9DQogICAgfQ0KDQogICAgLy8gRGVmaW5lIHRoZSB6b29tIGZ1bmN0aW9uIGZv
ciB0aGUgem9vbWFibGUgdHJlZQ0KDQogICAgZnVuY3Rpb24gem9vbSgpIHsNCiAg
ICAgICAgc3ZnR3JvdXAuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgiICsg
ZDMuZXZlbnQudHJhbnNsYXRlICsgIilzY2FsZSgiICsgZDMuZXZlbnQuc2NhbGUg
KyAiKSIpOw0KICAgIH0NCg0KDQogICAgLy8gZGVmaW5lIHRoZSB6b29tTGlzdGVu
ZXIgd2hpY2ggY2FsbHMgdGhlIHpvb20gZnVuY3Rpb24gb24gdGhlICJ6b29tIiBl
dmVudCBjb25zdHJhaW5lZCB3aXRoaW4gdGhlIHNjYWxlRXh0ZW50cw0KICAgIHZh
ciB6b29tTGlzdGVuZXIgPSBkMy5iZWhhdmlvci56b29tKCkuc2NhbGVFeHRlbnQo
WzAuMSwgM10pLm9uKCJ6b29tIiwgem9vbSk7DQoNCg0KDQogICAgLy8gZGVmaW5l
IHRoZSBiYXNlU3ZnLCBhdHRhY2hpbmcgYSBjbGFzcyBmb3Igc3R5bGluZyBhbmQg
dGhlIHpvb21MaXN0ZW5lcg0KICAgIHZhciBiYXNlU3ZnID0gZDMuc2VsZWN0KCIj
dHJlZS1jb250YWluZXIiKS5hcHBlbmQoInN2ZyIpDQogICAgICAgIC5hdHRyKCJ3
aWR0aCIsIHZpZXdlcldpZHRoKQ0KICAgICAgICAuYXR0cigiaGVpZ2h0Iiwgdmll
d2VySGVpZ2h0KQ0KICAgICAgICAuYXR0cigiY2xhc3MiLCAib3ZlcmxheSIpDQog
ICAgICAgIC5jYWxsKHpvb21MaXN0ZW5lcik7DQoNCg0KICAgIC8vIERlZmluZSB0
aGUgZHJhZyBsaXN0ZW5lcnMgZm9yIGRyYWcvZHJvcCBiZWhhdmlvdXIgb2Ygbm9k
ZXMuDQogICAgZHJhZ0xpc3RlbmVyID0gZDMuYmVoYXZpb3IuZHJhZygpDQogICAg
ICAgIC5vbigiZHJhZ3N0YXJ0IiwgZnVuY3Rpb24oZCkgew0KICAgICAgICAgICAg
aWYgKGQgPT0gcm9vdCkgew0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAg
ICAgICAgIH0NCiAgICAgICAgICAgIGRyYWdTdGFydGVkID0gdHJ1ZTsNCiAgICAg
ICAgICAgIG5vZGVzID0gdHJlZS5ub2RlcyhkKTsNCiAgICAgICAgICAgIGQzLmV2
ZW50LnNvdXJjZUV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOw0KICAgICAgICAgICAg
Ly8gaXQncyBpbXBvcnRhbnQgdGhhdCB3ZSBzdXBwcmVzcyB0aGUgbW91c2VvdmVy
IGV2ZW50IG9uIHRoZSBub2RlIGJlaW5nIGRyYWdnZWQuIE90aGVyd2lzZSBpdCB3
aWxsIGFic29yYiB0aGUgbW91c2VvdmVyIGV2ZW50IGFuZCB0aGUgdW5kZXJseWlu
ZyBub2RlIHdpbGwgbm90IGRldGVjdCBpdCBkMy5zZWxlY3QodGhpcykuYXR0cign
cG9pbnRlci1ldmVudHMnLCAnbm9uZScpOw0KICAgICAgICB9KQ0KICAgICAgICAu
b24oImRyYWciLCBmdW5jdGlvbihkKSB7DQogICAgICAgICAgICBpZiAoZCA9PSBy
b290KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0K
ICAgICAgICAgICAgaWYgKGRyYWdTdGFydGVkKSB7DQogICAgICAgICAgICAgICAg
ZG9tTm9kZSA9IHRoaXM7DQogICAgICAgICAgICAgICAgaW5pdGlhdGVEcmFnKGQs
IGRvbU5vZGUpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBnZXQg
Y29vcmRzIG9mIG1vdXNlRXZlbnQgcmVsYXRpdmUgdG8gc3ZnIGNvbnRhaW5lciB0
byBhbGxvdyBmb3IgcGFubmluZw0KICAgICAgICAgICAgcmVsQ29vcmRzID0gZDMu
bW91c2UoJCgnc3ZnJykuZ2V0KDApKTsNCiAgICAgICAgICAgIGlmIChyZWxDb29y
ZHNbMF0gPCBwYW5Cb3VuZGFyeSkgew0KICAgICAgICAgICAgICAgIHBhblRpbWVy
ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBwYW4odGhpcywgJ2xlZnQnKTsNCiAg
ICAgICAgICAgIH0gZWxzZSBpZiAocmVsQ29vcmRzWzBdID4gKCQoJ3N2ZycpLndp
ZHRoKCkgLSBwYW5Cb3VuZGFyeSkpIHsNCg0KICAgICAgICAgICAgICAgIHBhblRp
bWVyID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBwYW4odGhpcywgJ3JpZ2h0Jyk7
DQogICAgICAgICAgICB9IGVsc2UgaWYgKHJlbENvb3Jkc1sxXSA8IHBhbkJvdW5k
YXJ5KSB7DQogICAgICAgICAgICAgICAgcGFuVGltZXIgPSB0cnVlOw0KICAgICAg
ICAgICAgICAgIHBhbih0aGlzLCAndXAnKTsNCiAgICAgICAgICAgIH0gZWxzZSBp
ZiAocmVsQ29vcmRzWzFdID4gKCQoJ3N2ZycpLmhlaWdodCgpIC0gcGFuQm91bmRh
cnkpKSB7DQogICAgICAgICAgICAgICAgcGFuVGltZXIgPSB0cnVlOw0KICAgICAg
ICAgICAgICAgIHBhbih0aGlzLCAnZG93bicpOw0KICAgICAgICAgICAgfSBlbHNl
IHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICBj
bGVhclRpbWVvdXQocGFuVGltZXIpOw0KICAgICAgICAgICAgICAgIH0gY2F0Y2gg
KGUpIHsNCg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAg
ICAgICAgICAgZC54MCArPSBkMy5ldmVudC5keTsNCiAgICAgICAgICAgIGQueTAg
Kz0gZDMuZXZlbnQuZHg7DQogICAgICAgICAgICB2YXIgbm9kZSA9IGQzLnNlbGVj
dCh0aGlzKTsNCiAgICAgICAgICAgIG5vZGUuYXR0cigidHJhbnNmb3JtIiwgInRy
YW5zbGF0ZSgiICsgZC55MCArICIsIiArIGQueDAgKyAiKSIpOw0KICAgICAgICAg
ICAgdXBkYXRlVGVtcENvbm5lY3RvcigpOw0KICAgICAgICB9KS5vbigiZHJhZ2Vu
ZCIsIGZ1bmN0aW9uKGQpIHsNCiAgICAgICAgICAgIGlmIChkID09IHJvb3QpIHsN
CiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAg
ICAgICBkb21Ob2RlID0gdGhpczsNCiAgICAgICAgICAgIGlmIChzZWxlY3RlZE5v
ZGUpIHsNCiAgICAgICAgICAgICAgICAvLyBub3cgcmVtb3ZlIHRoZSBlbGVtZW50
IGZyb20gdGhlIHBhcmVudCwgYW5kIGluc2VydCBpdCBpbnRvIHRoZSBuZXcgZWxl
bWVudHMgY2hpbGRyZW4NCiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBkcmFn
Z2luZ05vZGUucGFyZW50LmNoaWxkcmVuLmluZGV4T2YoZHJhZ2dpbmdOb2RlKTsN
CiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkgew0KICAgICAgICAgICAg
ICAgICAgICBkcmFnZ2luZ05vZGUucGFyZW50LmNoaWxkcmVuLnNwbGljZShpbmRl
eCwgMSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICh0
eXBlb2Ygc2VsZWN0ZWROb2RlLmNoaWxkcmVuICE9PSAndW5kZWZpbmVkJyB8fCB0
eXBlb2Ygc2VsZWN0ZWROb2RlLl9jaGlsZHJlbiAhPT0gJ3VuZGVmaW5lZCcpIHsN
CiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RlZE5vZGUuY2hp
bGRyZW4gIT09ICd1bmRlZmluZWQnKSB7DQogICAgICAgICAgICAgICAgICAgICAg
ICBzZWxlY3RlZE5vZGUuY2hpbGRyZW4ucHVzaChkcmFnZ2luZ05vZGUpOw0KICAg
ICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAg
ICAgc2VsZWN0ZWROb2RlLl9jaGlsZHJlbi5wdXNoKGRyYWdnaW5nTm9kZSk7DQog
ICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0K
ICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE5vZGUuY2hpbGRyZW4gPSBbXTsN
CiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWROb2RlLmNoaWxkcmVuLnB1c2go
ZHJhZ2dpbmdOb2RlKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAg
ICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIG5vZGUgYmVpbmcgYWRkZWQgdG8gaXMg
ZXhwYW5kZWQgc28gdXNlciBjYW4gc2VlIGFkZGVkIG5vZGUgaXMgY29ycmVjdGx5
IG1vdmVkDQogICAgICAgICAgICAgICAgZXhwYW5kKHNlbGVjdGVkTm9kZSk7DQog
ICAgICAgICAgICAgICAgc29ydFRyZWUoKTsNCiAgICAgICAgICAgICAgICBlbmRE
cmFnKCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGVu
ZERyYWcoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQoNCiAgICBmdW5j
dGlvbiBlbmREcmFnKCkgew0KICAgICAgICBzZWxlY3RlZE5vZGUgPSBudWxsOw0K
ICAgICAgICBkMy5zZWxlY3RBbGwoJy5naG9zdENpcmNsZScpLmF0dHIoJ2NsYXNz
JywgJ2dob3N0Q2lyY2xlJyk7DQogICAgICAgIGQzLnNlbGVjdChkb21Ob2RlKS5h
dHRyKCdjbGFzcycsICdub2RlJyk7DQogICAgICAgIC8vIG5vdyByZXN0b3JlIHRo
ZSBtb3VzZW92ZXIgZXZlbnQgb3Igd2Ugd29uJ3QgYmUgYWJsZSB0byBkcmFnIGEg
Mm5kIHRpbWUNCiAgICAgICAgZDMuc2VsZWN0KGRvbU5vZGUpLnNlbGVjdCgnLmdo
b3N0Q2lyY2xlJykuYXR0cigncG9pbnRlci1ldmVudHMnLCAnJyk7DQogICAgICAg
IHVwZGF0ZVRlbXBDb25uZWN0b3IoKTsNCiAgICAgICAgaWYgKGRyYWdnaW5nTm9k
ZSAhPT0gbnVsbCkgew0KICAgICAgICAgICAgdXBkYXRlKHJvb3QpOw0KICAgICAg
ICAgICAgY2VudGVyTm9kZShkcmFnZ2luZ05vZGUpOw0KICAgICAgICAgICAgZHJh
Z2dpbmdOb2RlID0gbnVsbDsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vIEhl
bHBlciBmdW5jdGlvbnMgZm9yIGNvbGxhcHNpbmcgYW5kIGV4cGFuZGluZyBub2Rl
cy4NCg0KICAgIGZ1bmN0aW9uIGNvbGxhcHNlKGQpIHsNCiAgICAgICAgaWYgKGQu
Y2hpbGRyZW4pIHsNCiAgICAgICAgICAgIGQuX2NoaWxkcmVuID0gZC5jaGlsZHJl
bjsNCiAgICAgICAgICAgIGQuX2NoaWxkcmVuLmZvckVhY2goY29sbGFwc2UpOw0K
ICAgICAgICAgICAgZC5jaGlsZHJlbiA9IG51bGw7DQogICAgICAgIH0NCiAgICB9
DQoNCiAgICBmdW5jdGlvbiBleHBhbmQoZCkgew0KICAgICAgICBpZiAoZC5fY2hp
bGRyZW4pIHsNCiAgICAgICAgICAgIGQuY2hpbGRyZW4gPSBkLl9jaGlsZHJlbjsN
CiAgICAgICAgICAgIGQuY2hpbGRyZW4uZm9yRWFjaChleHBhbmQpOw0KICAgICAg
ICAgICAgZC5fY2hpbGRyZW4gPSBudWxsOw0KICAgICAgICB9DQogICAgfQ0KDQog
ICAgdmFyIG92ZXJDaXJjbGUgPSBmdW5jdGlvbihkKSB7DQogICAgICAgIHNlbGVj
dGVkTm9kZSA9IGQ7DQogICAgICAgIHVwZGF0ZVRlbXBDb25uZWN0b3IoKTsNCiAg
ICB9Ow0KICAgIHZhciBvdXRDaXJjbGUgPSBmdW5jdGlvbihkKSB7DQogICAgICAg
IHNlbGVjdGVkTm9kZSA9IG51bGw7DQogICAgICAgIHVwZGF0ZVRlbXBDb25uZWN0
b3IoKTsNCiAgICB9Ow0KDQogICAgLy8gRnVuY3Rpb24gdG8gdXBkYXRlIHRoZSB0
ZW1wb3JhcnkgY29ubmVjdG9yIGluZGljYXRpbmcgZHJhZ2dpbmcgYWZmaWxpYXRp
b24NCiAgICB2YXIgdXBkYXRlVGVtcENvbm5lY3RvciA9IGZ1bmN0aW9uKCkgew0K
ICAgICAgICB2YXIgZGF0YSA9IFtdOw0KICAgICAgICBpZiAoZHJhZ2dpbmdOb2Rl
ICE9PSBudWxsICYmIHNlbGVjdGVkTm9kZSAhPT0gbnVsbCkgew0KICAgICAgICAg
ICAgLy8gaGF2ZSB0byBmbGlwIHRoZSBzb3VyY2UgY29vcmRpbmF0ZXMgc2luY2Ug
d2UgZGlkIHRoaXMgZm9yIHRoZSBleGlzdGluZyBjb25uZWN0b3JzIG9uIHRoZSBv
cmlnaW5hbCB0cmVlDQogICAgICAgICAgICBkYXRhID0gW3sNCiAgICAgICAgICAg
ICAgICBzb3VyY2U6IHsNCiAgICAgICAgICAgICAgICAgICAgeDogc2VsZWN0ZWRO
b2RlLnkwLA0KICAgICAgICAgICAgICAgICAgICB5OiBzZWxlY3RlZE5vZGUueDAN
CiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHRhcmdldDogew0K
ICAgICAgICAgICAgICAgICAgICB4OiBkcmFnZ2luZ05vZGUueTAsDQogICAgICAg
ICAgICAgICAgICAgIHk6IGRyYWdnaW5nTm9kZS54MA0KICAgICAgICAgICAgICAg
IH0NCiAgICAgICAgICAgIH1dOw0KICAgICAgICB9DQogICAgICAgIHZhciBsaW5r
ID0gc3ZnR3JvdXAuc2VsZWN0QWxsKCIudGVtcGxpbmsiKS5kYXRhKGRhdGEpOw0K
DQogICAgICAgIGxpbmsuZW50ZXIoKS5hcHBlbmQoInBhdGgiKQ0KICAgICAgICAg
ICAgLmF0dHIoImNsYXNzIiwgInRlbXBsaW5rIikNCiAgICAgICAgICAgIC5hdHRy
KCJkIiwgZDMuc3ZnLmRpYWdvbmFsKCkpDQogICAgICAgICAgICAuYXR0cigncG9p
bnRlci1ldmVudHMnLCAnbm9uZScpOw0KDQogICAgICAgIGxpbmsuYXR0cigiZCIs
IGQzLnN2Zy5kaWFnb25hbCgpKTsNCg0KICAgICAgICBsaW5rLmV4aXQoKS5yZW1v
dmUoKTsNCiAgICB9Ow0KDQogICAgLy8gRnVuY3Rpb24gdG8gY2VudGVyIG5vZGUg
d2hlbiBjbGlja2VkL2Ryb3BwZWQgc28gbm9kZSBkb2Vzbid0IGdldCBsb3N0IHdo
ZW4gY29sbGFwc2luZy9tb3Zpbmcgd2l0aCBsYXJnZSBhbW91bnQgb2YgY2hpbGRy
ZW4uDQoNCiAgICBmdW5jdGlvbiBjZW50ZXJOb2RlKHNvdXJjZSkgew0KICAgICAg
ICBzY2FsZSA9IHpvb21MaXN0ZW5lci5zY2FsZSgpOw0KICAgICAgICB4ID0gLXNv
dXJjZS55MDsNCiAgICAgICAgeSA9IC1zb3VyY2UueDA7DQogICAgICAgIHggPSB4
ICogc2NhbGUgKyB2aWV3ZXJXaWR0aCAvIDI7DQogICAgICAgIHkgPSB5ICogc2Nh
bGUgKyB2aWV3ZXJIZWlnaHQgLyAyOw0KICAgICAgICBkMy5zZWxlY3QoJ2cnKS50
cmFuc2l0aW9uKCkNCiAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbikNCiAg
ICAgICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKCIgKyB4ICsg
IiwiICsgeSArICIpc2NhbGUoIiArIHNjYWxlICsgIikiKTsNCiAgICAgICAgem9v
bUxpc3RlbmVyLnNjYWxlKHNjYWxlKTsNCiAgICAgICAgem9vbUxpc3RlbmVyLnRy
YW5zbGF0ZShbeCwgeV0pOw0KICAgIH0NCg0KICAgIC8vIFRvZ2dsZSBjaGlsZHJl
biBmdW5jdGlvbg0KDQogICAgZnVuY3Rpb24gdG9nZ2xlQ2hpbGRyZW4oZCkgew0K
ICAgICAgICBpZiAoZC5jaGlsZHJlbikgew0KICAgICAgICAgICAgZC5fY2hpbGRy
ZW4gPSBkLmNoaWxkcmVuOw0KICAgICAgICAgICAgZC5jaGlsZHJlbiA9IG51bGw7
DQogICAgICAgIH0gZWxzZSBpZiAoZC5fY2hpbGRyZW4pIHsNCiAgICAgICAgICAg
IGQuY2hpbGRyZW4gPSBkLl9jaGlsZHJlbjsNCiAgICAgICAgICAgIGQuX2NoaWxk
cmVuID0gbnVsbDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gZDsNCiAgICB9
DQoNCiAgICAvLyBUb2dnbGUgY2hpbGRyZW4gb24gY2xpY2suDQoNCiAgICBmdW5j
dGlvbiBjbGljayhkKSB7DQogICAgICAgIGlmIChkMy5ldmVudC5kZWZhdWx0UHJl
dmVudGVkKSByZXR1cm47IC8vIGNsaWNrIHN1cHByZXNzZWQNCiAgICAgICAgZCA9
IHRvZ2dsZUNoaWxkcmVuKGQpOw0KICAgICAgICB1cGRhdGUoZCk7DQogICAgICAg
IGNlbnRlck5vZGUoZCk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdXBkYXRlKHNv
dXJjZSkgew0KICAgICAgICAvLyBDb21wdXRlIHRoZSBuZXcgaGVpZ2h0LCBmdW5j
dGlvbiBjb3VudHMgdG90YWwgY2hpbGRyZW4gb2Ygcm9vdCBub2RlIGFuZCBzZXRz
IHRyZWUgaGVpZ2h0IGFjY29yZGluZ2x5Lg0KICAgICAgICAvLyBUaGlzIHByZXZl
bnRzIHRoZSBsYXlvdXQgbG9va2luZyBzcXVhc2hlZCB3aGVuIG5ldyBub2RlcyBh
cmUgbWFkZSB2aXNpYmxlIG9yIGxvb2tpbmcgc3BhcnNlIHdoZW4gbm9kZXMgYXJl
IHJlbW92ZWQNCiAgICAgICAgLy8gVGhpcyBtYWtlcyB0aGUgbGF5b3V0IG1vcmUg
Y29uc2lzdGVudC4NCiAgICAgICAgdmFyIGxldmVsV2lkdGggPSBbMV07DQogICAg
ICAgIHZhciBjaGlsZENvdW50ID0gZnVuY3Rpb24obGV2ZWwsIG4pIHsNCg0KICAg
ICAgICAgICAgaWYgKG4uY2hpbGRyZW4gJiYgbi5jaGlsZHJlbi5sZW5ndGggPiAw
KSB7DQogICAgICAgICAgICAgICAgaWYgKGxldmVsV2lkdGgubGVuZ3RoIDw9IGxl
dmVsICsgMSkgbGV2ZWxXaWR0aC5wdXNoKDApOw0KDQogICAgICAgICAgICAgICAg
bGV2ZWxXaWR0aFtsZXZlbCArIDFdICs9IG4uY2hpbGRyZW4ubGVuZ3RoOw0KICAg
ICAgICAgICAgICAgIG4uY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihkKSB7DQog
ICAgICAgICAgICAgICAgICAgIGNoaWxkQ291bnQobGV2ZWwgKyAxLCBkKTsNCiAg
ICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAg
ICAgICAgY2hpbGRDb3VudCgwLCByb290KTsNCiAgICAgICAgdmFyIG5ld0hlaWdo
dCA9IGQzLm1heChsZXZlbFdpZHRoKSAqIDI1OyAvLyAyNSBwaXhlbHMgcGVyIGxp
bmUNCiAgICAgICAgdHJlZSA9IHRyZWUuc2l6ZShbbmV3SGVpZ2h0LCB2aWV3ZXJX
aWR0aF0pOw0KDQogICAgICAgIC8vIENvbXB1dGUgdGhlIG5ldyB0cmVlIGxheW91
dC4NCiAgICAgICAgdmFyIG5vZGVzID0gdHJlZS5ub2Rlcyhyb290KS5yZXZlcnNl
KCksDQogICAgICAgICAgICBsaW5rcyA9IHRyZWUubGlua3Mobm9kZXMpOw0KDQog
ICAgICAgIC8vIFNldCB3aWR0aHMgYmV0d2VlbiBsZXZlbHMgYmFzZWQgb24gbWF4
TGFiZWxMZW5ndGguDQogICAgICAgIG5vZGVzLmZvckVhY2goZnVuY3Rpb24oZCkg
ew0KICAgICAgICAgICAgZC55ID0gKGQuZGVwdGggKiAobWF4TGFiZWxMZW5ndGgg
KiAzKSk7IC8vbWF4TGFiZWxMZW5ndGggKiAxMHB4DQogICAgICAgICAgICAvLyBh
bHRlcm5hdGl2ZWx5IHRvIGtlZXAgYSBmaXhlZCBzY2FsZSBvbmUgY2FuIHNldCBh
IGZpeGVkIGRlcHRoIHBlciBsZXZlbA0KICAgICAgICAgICAgLy8gTm9ybWFsaXpl
IGZvciBmaXhlZC1kZXB0aCBieSBjb21tZW50aW5nIG91dCBiZWxvdyBsaW5lDQog
ICAgICAgICAgICAvLyBkLnkgPSAoZC5kZXB0aCAqIDUwMCk7IC8vNTAwcHggcGVy
IGxldmVsLg0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyBVcGRhdGUgdGhlIG5v
ZGVzw6LigqzCpg0KICAgICAgICBub2RlID0gc3ZnR3JvdXAuc2VsZWN0QWxsKCJn
Lm5vZGUiKQ0KICAgICAgICAgICAgLmRhdGEobm9kZXMsIGZ1bmN0aW9uKGQpIHsN
CiAgICAgICAgICAgICAgICByZXR1cm4gZC5pZCB8fCAoZC5pZCA9ICsraSk7DQog
ICAgICAgICAgICB9KTsNCg0KICAgICAgICAvLyBFbnRlciBhbnkgbmV3IG5vZGVz
IGF0IHRoZSBwYXJlbnQncyBwcmV2aW91cyBwb3NpdGlvbi4NCiAgICAgICAgdmFy
IG5vZGVFbnRlciA9IG5vZGUuZW50ZXIoKS5hcHBlbmQoImciKQ0KICAgICAgICAg
ICAgLmNhbGwoZHJhZ0xpc3RlbmVyKQ0KICAgICAgICAgICAgLmF0dHIoImNsYXNz
IiwgIm5vZGUiKQ0KICAgICAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsIGZ1bmN0
aW9uKGQpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gInRyYW5zbGF0ZSgiICsg
c291cmNlLnkwICsgIiwiICsgc291cmNlLngwICsgIikiOw0KICAgICAgICAgICAg
fSkNCiAgICAgICAgICAgIC5vbignY2xpY2snLCBjbGljayk7DQoNCiAgICAgICAg
bm9kZUVudGVyLmFwcGVuZCgiY2lyY2xlIikNCiAgICAgICAgICAgIC5hdHRyKCdj
bGFzcycsICdub2RlQ2lyY2xlJykNCiAgICAgICAgICAgIC5hdHRyKCJyIiwgMCkN
CiAgICAgICAgICAgIC5zdHlsZSgiZmlsbCIsIGZ1bmN0aW9uKGQpIHsNCiAgICAg
ICAgICAgICAgICByZXR1cm4gZC5fY2hpbGRyZW4gPyAibGlnaHRzdGVlbGJsdWUi
IDogIiNmZmYiOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgbm9kZUVudGVy
LmFwcGVuZCgidGV4dCIpDQogICAgICAgICAgICAuYXR0cigieCIsIGZ1bmN0aW9u
KGQpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gZC5jaGlsZHJlbiB8fCBkLl9j
aGlsZHJlbiA/IC0xMCA6IDEwOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAg
IC5hdHRyKCJkeSIsICIuMzVlbSIpDQogICAgICAgICAgICAuYXR0cignY2xhc3Mn
LCAnbm9kZVRleHQnKQ0KICAgICAgICAgICAgLmF0dHIoInRleHQtYW5jaG9yIiwg
ZnVuY3Rpb24oZCkgew0KICAgICAgICAgICAgICAgIHJldHVybiBkLmNoaWxkcmVu
IHx8IGQuX2NoaWxkcmVuID8gImVuZCIgOiAic3RhcnQiOw0KICAgICAgICAgICAg
fSkNCiAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uKGQpIHsNCiAgICAgICAgICAg
ICAgICByZXR1cm4gZC5uYW1lOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAg
IC5zdHlsZSgiZmlsbC1vcGFjaXR5IiwgMCk7DQoNCiAgICAgICAgLy8gcGhhbnRv
bSBub2RlIHRvIGdpdmUgdXMgbW91c2VvdmVyIGluIGEgcmFkaXVzIGFyb3VuZCBp
dA0KICAgICAgICBub2RlRW50ZXIuYXBwZW5kKCJjaXJjbGUiKQ0KICAgICAgICAg
ICAgLmF0dHIoJ2NsYXNzJywgJ2dob3N0Q2lyY2xlJykNCiAgICAgICAgICAgIC5h
dHRyKCJyIiwgMzApDQogICAgICAgICAgICAuYXR0cigib3BhY2l0eSIsIDAuMikg
Ly8gY2hhbmdlIHRoaXMgdG8gemVybyB0byBoaWRlIHRoZSB0YXJnZXQgYXJlYQ0K
ICAgICAgICAuc3R5bGUoImZpbGwiLCAicmVkIikNCiAgICAgICAgICAgIC5hdHRy
KCdwb2ludGVyLWV2ZW50cycsICdtb3VzZW92ZXInKQ0KICAgICAgICAgICAgLm9u
KCJtb3VzZW92ZXIiLCBmdW5jdGlvbihub2RlKSB7DQogICAgICAgICAgICAgICAg
b3ZlckNpcmNsZShub2RlKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAu
b24oIm1vdXNlb3V0IiwgZnVuY3Rpb24obm9kZSkgew0KICAgICAgICAgICAgICAg
IG91dENpcmNsZShub2RlKTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgIC8v
IFVwZGF0ZSB0aGUgdGV4dCB0byByZWZsZWN0IHdoZXRoZXIgbm9kZSBoYXMgY2hp
bGRyZW4gb3Igbm90Lg0KICAgICAgICBub2RlLnNlbGVjdCgndGV4dCcpDQogICAg
ICAgICAgICAuYXR0cigieCIsIGZ1bmN0aW9uKGQpIHsNCiAgICAgICAgICAgICAg
ICByZXR1cm4gZC5jaGlsZHJlbiB8fCBkLl9jaGlsZHJlbiA/IC0xMCA6IDEwOw0K
ICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5hdHRyKCJ0ZXh0LWFuY2hvciIs
IGZ1bmN0aW9uKGQpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gZC5jaGlsZHJl
biB8fCBkLl9jaGlsZHJlbiA/ICJlbmQiIDogInN0YXJ0IjsNCiAgICAgICAgICAg
IH0pDQogICAgICAgICAgICAudGV4dChmdW5jdGlvbihkKSB7DQogICAgICAgICAg
ICAgICAgcmV0dXJuIGQubmFtZTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAg
IC8vIENoYW5nZSB0aGUgY2lyY2xlIGZpbGwgZGVwZW5kaW5nIG9uIHdoZXRoZXIg
aXQgaGFzIGNoaWxkcmVuIGFuZCBpcyBjb2xsYXBzZWQNCiAgICAgICAgbm9kZS5z
ZWxlY3QoImNpcmNsZS5ub2RlQ2lyY2xlIikNCiAgICAgICAgICAgIC5hdHRyKCJy
IiwgNC41KQ0KICAgICAgICAgICAgLnN0eWxlKCJmaWxsIiwgZnVuY3Rpb24oZCkg
ew0KICAgICAgICAgICAgICAgIHJldHVybiBkLl9jaGlsZHJlbiA/ICJsaWdodHN0
ZWVsYmx1ZSIgOiAiI2ZmZiI7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAv
LyBUcmFuc2l0aW9uIG5vZGVzIHRvIHRoZWlyIG5ldyBwb3NpdGlvbi4NCiAgICAg
ICAgdmFyIG5vZGVVcGRhdGUgPSBub2RlLnRyYW5zaXRpb24oKQ0KICAgICAgICAg
ICAgLmR1cmF0aW9uKGR1cmF0aW9uKQ0KICAgICAgICAgICAgLmF0dHIoInRyYW5z
Zm9ybSIsIGZ1bmN0aW9uKGQpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gInRy
YW5zbGF0ZSgiICsgZC55ICsgIiwiICsgZC54ICsgIikiOw0KICAgICAgICAgICAg
fSk7DQoNCiAgICAgICAgLy8gRmFkZSB0aGUgdGV4dCBpbg0KICAgICAgICBub2Rl
VXBkYXRlLnNlbGVjdCgidGV4dCIpDQogICAgICAgICAgICAuc3R5bGUoImZpbGwt
b3BhY2l0eSIsIDEpOw0KDQogICAgICAgIC8vIFRyYW5zaXRpb24gZXhpdGluZyBu
b2RlcyB0byB0aGUgcGFyZW50J3MgbmV3IHBvc2l0aW9uLg0KICAgICAgICB2YXIg
bm9kZUV4aXQgPSBub2RlLmV4aXQoKS50cmFuc2l0aW9uKCkNCiAgICAgICAgICAg
IC5kdXJhdGlvbihkdXJhdGlvbikNCiAgICAgICAgICAgIC5hdHRyKCJ0cmFuc2Zv
cm0iLCBmdW5jdGlvbihkKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICJ0cmFu
c2xhdGUoIiArIHNvdXJjZS55ICsgIiwiICsgc291cmNlLnggKyAiKSI7DQogICAg
ICAgICAgICB9KQ0KICAgICAgICAgICAgLnJlbW92ZSgpOw0KDQogICAgICAgIG5v
ZGVFeGl0LnNlbGVjdCgiY2lyY2xlIikNCiAgICAgICAgICAgIC5hdHRyKCJyIiwg
MCk7DQoNCiAgICAgICAgbm9kZUV4aXQuc2VsZWN0KCJ0ZXh0IikNCiAgICAgICAg
ICAgIC5zdHlsZSgiZmlsbC1vcGFjaXR5IiwgMCk7DQoNCiAgICAgICAgLy8gVXBk
YXRlIHRoZSBsaW5rc8Oi4oKswqYNCiAgICAgICAgdmFyIGxpbmsgPSBzdmdHcm91
cC5zZWxlY3RBbGwoInBhdGgubGluayIpDQogICAgICAgICAgICAuZGF0YShsaW5r
cywgZnVuY3Rpb24oZCkgew0KICAgICAgICAgICAgICAgIHJldHVybiBkLnRhcmdl
dC5pZDsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgIC8vIEVudGVyIGFueSBu
ZXcgbGlua3MgYXQgdGhlIHBhcmVudCdzIHByZXZpb3VzIHBvc2l0aW9uLg0KICAg
ICAgICBsaW5rLmVudGVyKCkuaW5zZXJ0KCJwYXRoIiwgImciKQ0KICAgICAgICAg
ICAgLmF0dHIoImNsYXNzIiwgImxpbmsiKQ0KICAgICAgICAgICAgLmF0dHIoImQi
LCBmdW5jdGlvbihkKSB7DQogICAgICAgICAgICAgICAgdmFyIG8gPSB7DQogICAg
ICAgICAgICAgICAgICAgIHg6IHNvdXJjZS54MCwNCiAgICAgICAgICAgICAgICAg
ICAgeTogc291cmNlLnkwDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAg
ICAgICByZXR1cm4gZGlhZ29uYWwoew0KICAgICAgICAgICAgICAgICAgICBzb3Vy
Y2U6IG8sDQogICAgICAgICAgICAgICAgICAgIHRhcmdldDogbw0KICAgICAgICAg
ICAgICAgIH0pOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgLy8gVHJhbnNp
dGlvbiBsaW5rcyB0byB0aGVpciBuZXcgcG9zaXRpb24uDQogICAgICAgIGxpbmsu
dHJhbnNpdGlvbigpDQogICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pDQog
ICAgICAgICAgICAuYXR0cigiZCIsIGRpYWdvbmFsKTsNCg0KICAgICAgICAvLyBU
cmFuc2l0aW9uIGV4aXRpbmcgbm9kZXMgdG8gdGhlIHBhcmVudCdzIG5ldyBwb3Np
dGlvbi4NCiAgICAgICAgbGluay5leGl0KCkudHJhbnNpdGlvbigpDQogICAgICAg
ICAgICAuZHVyYXRpb24oZHVyYXRpb24pDQogICAgICAgICAgICAuYXR0cigiZCIs
IGZ1bmN0aW9uKGQpIHsNCiAgICAgICAgICAgICAgICB2YXIgbyA9IHsNCiAgICAg
ICAgICAgICAgICAgICAgeDogc291cmNlLngsDQogICAgICAgICAgICAgICAgICAg
IHk6IHNvdXJjZS55DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAg
ICByZXR1cm4gZGlhZ29uYWwoew0KICAgICAgICAgICAgICAgICAgICBzb3VyY2U6
IG8sDQogICAgICAgICAgICAgICAgICAgIHRhcmdldDogbw0KICAgICAgICAgICAg
ICAgIH0pOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5yZW1vdmUoKTsN
Cg0KICAgICAgICAvLyBTdGFzaCB0aGUgb2xkIHBvc2l0aW9ucyBmb3IgdHJhbnNp
dGlvbi4NCiAgICAgICAgbm9kZXMuZm9yRWFjaChmdW5jdGlvbihkKSB7DQogICAg
ICAgICAgICBkLngwID0gZC54Ow0KICAgICAgICAgICAgZC55MCA9IGQueTsNCiAg
ICAgICAgfSk7DQogICAgfQ0KDQogICAgLy8gQXBwZW5kIGEgZ3JvdXAgd2hpY2gg
aG9sZHMgYWxsIG5vZGVzIGFuZCB3aGljaCB0aGUgem9vbSBMaXN0ZW5lciBjYW4g
YWN0IHVwb24uDQogICAgdmFyIHN2Z0dyb3VwID0gYmFzZVN2Zy5hcHBlbmQoImci
KTsNCg0KICAgIC8vIERlZmluZSB0aGUgcm9vdA0KICAgIHJvb3QgPSB0cmVlRGF0
YTsNCiAgICByb290LngwID0gdmlld2VySGVpZ2h0IC8gMjsNCiAgICByb290Lnkw
ID0gMDsNCg0KCSByb290LmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oY2hpbGQp
ew0KICAgICBjb2xsYXBzZShjaGlsZCk7DQoJIH0pOw0KDQogICAgLy8gTGF5b3V0
IHRoZSB0cmVlIGluaXRpYWxseSBhbmQgY2VudGVyIG9uIHRoZSByb290IG5vZGUu
DQogICAgdXBkYXRlKHJvb3QpOw0KICAgIGNlbnRlck5vZGUocm9vdCk7DQp9KTsN
Cjwvc2NyaXB0Pg0KPGJvZHkgIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiNGMEYw
RjA7Ij5fX2Rlc2NyaXB0aW9uX3RvX3JlcGxhY2VfXzxicj48YnI+DQogICAgPGNl
bnRlcj4NCiAgICAgICAgPGRpdiBpZD0idHJlZS1jb250YWluZXIiPjwvZGl2Pjxi
cj4NCiAgICA8L2NlbnRlcj4NCjwvYm9keT4NCg=='''.replace('\r','').replace('\n','')